<?xml version="1.0" encoding="utf-8"?>
<modification>
	<name>Speedy Theme for DEVCART PRO</name>
	<version>1</version>
	<link>https://dev-opencart.com</link>
	<author>DEV-OPENCART.COM</author>
	<code>speedy_theme_devcart_pro</code>

	<!--- Добавление стилей SPEEDY в COMMON/HEADER -->
	<file path="admin/controller/common/header.php">
	    <operation error="skip">
	    	<search><![CDATA[public function index() {]]></search>
	  		<add position="after"><![CDATA[
				$this->document->addStyle('view/stylesheet/dc_template_speedy.css?v=3');
	      	]]></add>
	    </operation>
	</file>

	<!--- Добавляем ссылку на активный шаблон в меню админки -->
	<file path="admin/controller/common/column_left.php">
		<operation>
			<search><![CDATA[if ($this->user->hasPermission('access', 'design/banner')) {]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy' && $this->config->get('theme_speedy_status') == 1) {

				// dc_pro_speedy

				// Получаем текущую версию шаблона
				include DIR_APPLICATION . ('/controller/extension/theme/speedy/speedy_version.php');

				// Проверка обновления на новую версию раз в 24 часа
				if(!isset($_COOKIE['UpdateSpeedy'])) {
 					goto LIo3Q; d1kUT: curl_setopt($speedy_update, CURLOPT_RETURNTRANSFER, true); goto m1mbw; m1mbw: curl_setopt($speedy_update, CURLOPT_SSL_VERIFYPEER, false); goto jppIn; jppIn: curl_setopt($speedy_update, CURLOPT_SSL_VERIFYHOST, false); goto Xpmna; ypEVT: curl_setopt($speedy_update, CURLOPT_POST, 1); goto d1kUT; elGTx: curl_close($speedy_update); goto kru_y; Xpmna: $theme_speedy_update_response = curl_exec($speedy_update); goto elGTx; LIo3Q: $speedy_update = curl_init("\150\164\164\x70\163\x3a\x2f\57\144\x63\56\x64\145\166\55\157\160\x65\156\143\x61\x72\x74\56\143\x6f\x6d\x2f\165\x70\x64\141\x74\145\137\x73\160\145\145\144\171\x2f\x73\160\145\145\x64\x79\137\x76\x65\x72\x73\x69\x6f\156\x5f\x6e\145\167\x2e\x70\x68\160"); goto ypEVT; kru_y: 
					setcookie("UpdateSpeedy", $theme_speedy_update_response, time() + 86400); //Delete
				} else {
					$theme_speedy_update_response = $_COOKIE["UpdateSpeedy"];
				}

				$dc_pro_template = array();

				if($theme_speedy_update_response > $speedy_version) {
					if ($this->user->hasPermission('access', 'extension/theme/' . $this->config->get('config_theme'))) {
						$dc_pro_template[] = array(
							'name'	   => $this->language->get('text_update_template'),
							'href'     => $this->url->link('extension/theme/' . $this->config->get('config_theme'), 'user_token=' . $this->session->data['user_token'] . '&store_id=0', true),
							'children' => array()
						);
					}
				}

				if ($this->user->hasPermission('access', 'extension/theme/' . $this->config->get('config_theme'))) {
					$dc_pro_template[] = array(
						'name'	   => $this->language->get('text_setting_template'),
						'href'     => $this->url->link('extension/theme/' . $this->config->get('config_theme'), 'user_token=' . $this->session->data['user_token'] . '&store_id=0', true),
						'children' => array()
					);
				}

					$dc_pro_template_extension = array();

					if ($this->user->hasPermission('access', 'common/found_cheaper')) {
						$dc_pro_template_extension[] = array(
							'name'	   => $this->language->get('text_dc_pro_found_cheaper'),
							'href'     => $this->url->link('common/found_cheaper', 'user_token=' . $this->session->data['user_token'], true),
							'children' => array()
						);
					}

					if ($this->user->hasPermission('access', 'extension/module/art_aqa_product')) {
						$dc_pro_template_extension[] = array(
							'name'	   => $this->language->get('text_dc_pro_ask_answer'),
							'href'     => $this->url->link('extension/module/art_aqa_product', 'user_token=' . $this->session->data['user_token'], true),
							'children' => array()
						);
					}

					if ($this->user->hasPermission('access', 'common/fast_checkout')) {
						$dc_pro_template_extension[] = array(
							'name'	   => $this->language->get('text_dc_pro_fast_checkout'),
							'href'     => $this->url->link('common/fast_checkout', 'user_token=' . $this->session->data['user_token'], true),
							'children' => array()
						);
					}

					if ($dc_pro_template_extension) {
						$dc_pro_template[] = array(
							'name'	   => $this->language->get('text_dc_pro_template_extension'),
							'href'     => '',
							'children' => $dc_pro_template_extension
						);
					}

					if($theme_speedy_update_response > $speedy_version) {
						if ($dc_pro_template) {
							$data['menus'][] = array(
								'id'       => 'menu-dc-pro-template',
								'icon'	   => '../image/update.svg',
								'name'	   => 'Speedy <small style="font-size: 10px;line-height: 1;font-weight: 700;background: #fff;height: fit-content;padding: 2px 3px;border-radius: 5px;margin-left: 7px;color: #36485c;font-size:10px">Оновіться</small>',
								'href'     => '',
								'children' => $dc_pro_template
							);
						}
					} else {
						if ($dc_pro_template) {
							$data['menus'][] = array(
								'id'       => 'menu-dc-pro-template',
								'icon'	   => '../image/template_speedy_icon.svg',
								'name'	   => 'Speedy',
								'href'     => '',
								'children' => $dc_pro_template
							);
						}
					}
				
				// dc_pro_speedy

			}
			
			]]></add>
		</operation>
	</file>
	<file path="admin/view/template/common/column_left.twig">
	    <operation error="skip" index="1">
	    	<search><![CDATA[<i class="fa {{ menu.icon }} fw"></i>]]></search>
	  		<add position="replace"><![CDATA[
				{% if (menu.id == 'menu-dc-pro-template') %}<i><img src="{{ menu.icon }}" /></i>{% else %}<i class="fa {{ menu.icon }} fw"></i>{% endif %}
	      	]]></add>
	    </operation>
	</file>

	<!--- Функционал SPEEDY в COMMON/HOME -->
	<file path="catalog/controller/common/home.php">
		<operation>
			<search><![CDATA[$this->response->setOutput($this->load->view('common/home', $data));]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$data['catalog_link'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_home_catalog_status');
			}
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в COMMON/HEADER -->
	<file path="catalog/controller/common/header.php">
		<operation>
			<search><![CDATA[return $this->load->view('common/header', $data);]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$data['bottombar'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_widgets_bottombar_status');
				$data['text_cart_count'] = sprintf($this->cart->countProducts());
				$data['font_family'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_font_family');
				$data['font_size'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_font_size');
				$data['main_color_type'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_main_color_type');
				$data['main_color'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_main_color');
				$data['main_color_2'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_main_color_2');
				$data['main_color_3'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_main_color_3');
				$data['header_color'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_header_color');
				$data['special_color'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_special_color');
				$data['background_color'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_background_color');
				$data['background_top_color'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_background_top_color');
				$data['background_footer_color'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_background_footer_color');
				$data['background_payments_color'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_background_payments_color');
				$data['container_width_type'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_type');
				$data['container_width_type_lg'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_type_lg');
				$data['container_width_type_md'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_type_md');
				$data['container_width_type_sm'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_type_sm');
				$data['container_width_type_xs'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_type_xs');
				$data['container_width'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width');
				$data['container_width_lg'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_lg');
				$data['container_width_md'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_md');
				$data['container_width_sm'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_sm');
				$data['container_width_xs'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_adaptive_container_width_xs');
				$data['code_header_css_link'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_code_header_css_link');
				$data['code_footer_js_link'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_code_footer_js_link');
				$data['header_open'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_header_open');
				$data['open'] = nl2br($this->config->get('config_open'));

				$data['speedy_menu_status'] = $this->config->get('module_' . $this->config->get('config_theme') . '_menu_status');
				
				if($data['speedy_menu_status'] == '1'){
					$data['speedy_menu'] = $this->load->controller('common/speedy_menu');
				}

				$data['m_menu_custom_links'] = array();

				$m_menu_custom_links = $this->config->get('theme_' . $this->config->get('config_theme') . '_m_menu_additional_link')[$this->config->get('config_language_id')];

				if($m_menu_custom_links) {
					foreach ($m_menu_custom_links as $m_menu_custom_link) {

						$image = $this->model_tool_image->resize($m_menu_custom_link['image'], 24, 24);

						$data['m_menu_custom_links'][] = array(
							'title'  => $m_menu_custom_link['title'],
							'link'  => $m_menu_custom_link['link'],
							'image'  => $image,
						);
					}
				}

				$data['header_menu_links'] = array();

				$header_menu_links = $this->config->get('theme_' . $this->config->get('config_theme') . '_header_menu_link')[$this->config->get('config_language_id')];

				if($header_menu_links) {
					foreach ($header_menu_links as $header_menu_link) {
						$data['header_menu_links'][] = array(
							'title'  => $header_menu_link['title'],
							'link'  => $header_menu_link['link'],
						);
					}
				}

			}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[if ($this->config->get('configblog_blog_menu')) {]]></search>
			<add position="replace" offset="4"><![CDATA[
			$data['blog'] = $this->url->link('blog/latest', '', true);
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в COMMON/FOOTER -->
	<file path="catalog/controller/common/footer.php">
		<operation>
			<search><![CDATA[return $this->load->view('common/footer', $data);]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$data['catalog_quantity'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_catalog_quantity');
				$data['footer_address'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_footer_address');
				$data['footer_map'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_footer_map');
				$data['footer_map_code'] = html_entity_decode($this->config->get('theme_' . $this->config->get('config_theme') . '_footer_map_code'), ENT_QUOTES, 'UTF-8');
				$data['address'] = $this->config->get('config_address');
			}
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в COMMON/LANGUAGE -->
	<file path="catalog/controller/common/language.php">
		<operation>
			<search><![CDATA[$this->load->language('common/language');]]></search>
			<add position="after"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$data['checklang_status'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_widgets_checklang_status');
				$data['checklang_type'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_widgets_checklang_type');
				if (!isset($this->request->cookie['language'])) {
					$data['popup'] = 1;
				}
			}
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в ERROR/NOT_FOUND -->
	<file path="catalog/controller/error/not_found.php">
		<operation>
			<search><![CDATA[$this->response->setOutput($this->load->view('error/not_found', $data));]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$data['menu'] = $this->load->controller('common/menu_footer');
			}
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в CHECKOUT/SIMPLECHECKOUT -->
	<file path="catalog/controller/checkout/simplecheckout.php">
		<operation>
			<search><![CDATA[$this->_templateData['notification_check_form_text'] = '';]]></search>
			<add position="after"><![CDATA[
    		$this->_templateData['menu'] = $this->load->controller('common/menu_footer');
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в COMMON/CART -->
	<file path="catalog/controller/common/cart.php">
		<operation>
			<search><![CDATA[return $this->load->view('common/cart', $data);]]></search>
			<add position="before"><![CDATA[
			$data['cart_sidebar_status'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_widgets_cart_sidebar_status');
			$data['cart_sidebar_position'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_widgets_cart_sidebar_position');
			$data['cart_sidebar_clear_status'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_widgets_cart_sidebar_clear_status');
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['text_items']]]></search>
			<add position="before"><![CDATA[
			$data['text_items_sum'] = sprintf($this->language->get('text_items_sum'), $this->currency->format($total, $this->session->data['currency']));
			$data['text_items_count'] = sprintf($this->cart->countProducts());
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в CHECKOUT/CART -->
	<file path="catalog/controller/checkout/cart.php">
		<operation>
			<search><![CDATA[$json['total']]]></search>
			<add position="before"><![CDATA[
			$json['text_items_sum'] = sprintf($this->language->get('text_items_sum'), $this->currency->format($total, $this->session->data['currency']));
			$json['text_items_count'] = sprintf($this->cart->countProducts());
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в PRODUCT/PRODUCT -->
	<file path="catalog/controller/product/product.php">
		<operation>
			<search><![CDATA[$data['thumb'] = $this->model_tool_image->resize($product_info['image'], $this->config->get('theme_' . $this->config->get('config_theme') . '_image_thumb_width'), $this->config->get('theme_' . $this->config->get('config_theme') . '_image_thumb_height'));]]></search>
			<add position="after"><![CDATA[$data['thumb_small'] = $this->model_tool_image->resize($product_info['image'], $this->config->get('theme_' . $this->config->get('config_theme') . '_image_additional_width'), $this->config->get('theme_' . $this->config->get('config_theme') . '_image_additional_height'));]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['special_percent'] = round(100-($product_info['special']/($product_info['price']/100)));]]></search>
			<add position="replace"><![CDATA[
				$data['special_price_type'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_product_special_price_type');
				if($data['special_price_type'] == 'percent') {
					$data['special_percent'] = round(100-($product_info['special']/($product_info['price']/100)));
				} else {
					$data['special_percent'] = $this->currency->getSymbolLeft($this->session->data['currency']) . ($product_info['price'] - $product_info['special']) . $this->currency->getSymbolRight($this->session->data['currency']);
				}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['thumb'] = '';]]></search>
			<add position="after"><![CDATA[$data['thumb_small'] = '';]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['products'][] = array(]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$json['cart_alert_type'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_push_cart_alert_type');
				$json['alert_type'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_push_alert_type');
			}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['zoom_product'] = $this->config->get('config_zoom_product');]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$data['product_bottom_bar'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_product_bottom_bar');
				$this->document->addStyle('catalog/view/javascript/swiper/swiper-bundle.min.css');
				$this->document->addScript('catalog/view/javascript/swiper/swiper-bundle.min.js');
				$this->document->addScript('catalog/view/javascript/jquery.zoom.min.js');
			}
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY в PRODUCT/CATEGORY -->
	<file path="catalog/controller/product/category.php">
		<operation>
			<search><![CDATA[$data['products'][] = array(]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$data['description_position'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_description_position');
				$data['category_refine_img'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_category_refine_img');
			}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA[$data['categories'][] = array(]]></search>
			<add position="before"><![CDATA[
				if ($result['image']) {
					$image = $this->model_tool_image->resize($result['image'], 74, 74);
				} else {
					$image = $this->model_tool_image->resize('placeholder.png', 74, 74);
				}
			]]></add>
		</operation>
		<operation>
			<search><![CDATA['name' => $result['name'] . ($this->config->get('config_product_count') ? ' (' . $this->model_catalog_product->getTotalProducts($filter_data) . ')' : ''),]]></search>
			<add position="after"><![CDATA['image' => $image,]]></add>
		</operation>
	</file>

	<!--- Подключение Swiper - слайдера В SPEEDY -->
	<file path="catalog/controller/extension/module/{bestseller,featured,featured_product,latest,recently_viewed,special,blog_featured,blog_latest,featured_article}.php|catalog/controller/account/wishlist.php">
		<operation>
			<search><![CDATA[$this->load->model('tool/image');]]></search>
			<add position="after"><![CDATA[
			$this->document->addStyle('catalog/view/javascript/swiper/swiper-bundle.min.css');
			$this->document->addScript('catalog/view/javascript/swiper/swiper-bundle.min.js');
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY для блоков с товарами -->
		<!--- Страницы с товарами + модули -->
		<file path="catalog/controller/product/{category,manufacturer,search,special,product}.php|catalog/controller/extension/module/{bestseller,featured,featured_product,latest,recently_viewed,special}.php|catalog/controller/account/wishlist.php">
			<operation>
				<search><![CDATA[$data['products'][] = array(]]></search>
				<add position="before"><![CDATA[
				if($this->config->get('config_theme') == 'speedy') {
					$attribute_groups = $this->model_catalog_product->getProductAttributes($result['product_id']);

					$image_results = $this->model_catalog_product->getProductImages($result['product_id']);

					if ($image_results) {
						$image2 = $this->model_tool_image->resize($image_results[0]['image'], $this->config->get('theme_' . $this->config->get('config_theme') . '_image_product_width'), $this->config->get('theme_' . $this->config->get('config_theme') . '_image_product_height'));
					} else {
						$image2 = false;
					}
					
					$data['catalog_description'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_catalog_description');
					$data['catalog_model'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_catalog_model');
					$data['catalog_stock'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_catalog_stock');
					$data['catalog_attribute_groups'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_catalog_attribute_groups');
				}
				]]></add>
			</operation>
			<operation>
				<search><![CDATA[$data['products'][] = array(]]></search>
				<add position="after"><![CDATA[
				'id' 	  => $result['product_id'],
				'reviews' 	  => $result['reviews'],
				'thumb2'       => $image2,
				'attribute_groups' 	  => $attribute_groups,
				]]></add>
			</operation>
		</file>
		<!--- Страницы с товарами -->
		<file path="catalog/controller/product/{category,manufacturer,search,special}.php">
			<operation>
				<search><![CDATA[$data['products'][] = array(]]></search>
				<add position="before"><![CDATA[
				if($this->config->get('config_theme') == 'speedy') {
					$data['catalog_quantity'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_catalog_quantity');
				}
				]]></add>
			</operation>
		</file>
		<!--- Модули -->
		<file path="catalog/controller/extension/module/{bestseller,featured,featured_product,latest,recently_viewed,special}.php|catalog/controller/product/product.php">
			<operation>
				<search><![CDATA[if($this->config->get('config_theme') == 'speedy') {]]></search>
				<add position="after"><![CDATA[
				$data['products_type'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_products_type');
				if($this->config->get('theme_' . $this->config->get('config_theme') . '_products_type') == 'slider') {
					$data['products_slider_limit'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_products_slider_limit');
					$data['products_slider_limit_xl'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_products_slider_limit_xl');
					$data['products_slider_limit_lg'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_products_slider_limit_lg');
					$data['products_slider_limit_md'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_products_slider_limit_md');
					$data['products_slider_limit_sm'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_products_slider_limit_sm');
					$data['products_slider_limit_xs'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_products_slider_limit_xs');
					$data['products_slider_arrows'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_products_slider_arrows');
				}
				]]></add>
			</operation>
		</file>

	<!--- Функционал SPEEDY для COMMON/MENU -->
	<file path="catalog/controller/common/menu.php">
		<operation>
			<search><![CDATA[return $this->load->view('common/menu', $data);]]></search>
			<add position="before"><![CDATA[
			if($this->config->get('config_theme') == 'speedy') {
				$data['menu_additional_links'] = array();

				$menu_additional_links = $this->config->get('theme_' . $this->config->get('config_theme') . '_menu_additional_link')[$this->config->get('config_language_id')];

				if($menu_additional_links) {
					foreach ($menu_additional_links as $menu_additional_link) {
						if ($menu_additional_link['image']) {
							$image = $this->model_tool_image->resize($menu_additional_link['image'], $data['menu_size_image_width'], $data['menu_size_image_height']);
						} else {
							$image = $this->model_tool_image->resize('placeholder.png', $data['menu_size_image_width'], $data['menu_size_image_height']);
						}
						$data['menu_additional_links'][] = array(
							'title'  => $menu_additional_link['title'],
							'link'  => $menu_additional_link['link'],
							'image'  => $image
						);
					}
				}

				//$data['menu_height'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_menu_height');
			}
			]]></add>
		</operation>
	</file>

	<!--- Функционал SPEEDY для COMMON/MENU_FOOTER-->
	<file path="catalog/controller/common/menu_footer.php">
		<operation>
			<search><![CDATA[$categories = $this->model_catalog_category->getCategories(0);]]></search>
			<add position="after"><![CDATA[
			$footer_menu_lenght = $this->config->get('theme_' . $this->config->get('config_theme') . '_footer_menu_lenght');
    		$categories = array_slice($categories, 0, $footer_menu_lenght);
			]]></add>
		</operation>
	</file>

	<!--- Переводы для Speedy -->
		<!--- EN -->
			<file path="catalog\language\en-gb\common\header.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_blog']               = 'Blog';
					$_['text_contacts']             = 'Contacts';
					$_['text_callback']             = 'Connect with us';
					$_['link_catalog']             = 'Catalog';
					$_['link_customer']             = 'For customer';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\en-gb\product\product.php">
				<operation>
					<search><![CDATA[// dc_Translates]]></search>
					<add position="after"><![CDATA[
					$_['tab_review']               = 'Reviews <span>%s</span>';
					$_['text_review_plus'] = 'Advantages';
					$_['text_review_minus'] = 'Flaws';
					$_['tab_info'] = 'About product';
					$_['text_model'] = 'Model:';
					$_['text_related'] = 'Buy with';
					$_['text_sku'] = 'SKU:';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\en-gb\common\language.php">
				<operation>
					<search><![CDATA[$_['text_language']]]></search>
					<add position="before"><![CDATA[
					$_['text_popup_language_title'] = 'Welcome!';
					$_['text_popup_language_description'] = 'Please select a display language';
					$_['text_popup_language_title_ua_lang'] = 'Do you want to use the site in Ukrainian?';
					$_['text_popup_language_button_ua_lang'] = 'Yes, of course';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\en-gb\common\cart.php|catalog/language/en-gb/checkout/cart.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_items_sum']     = '%s';
					$_['text_items_count']     = '%s';
					]]></add>
				</operation>
			</file>
			<file path="catalog/language/en-gb/checkout/cart.php">
				<operation>
					<search><![CDATA[$_['error_required']           = '%s required!';]]></search>
					<add position="replace"><![CDATA[
					$_['error_required'] = 'Please check <u>%s</u>';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\en-gb\account\simpleregister.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_returning_customer']      = 'Returning Customer';
					$_['text_i_am_returning_customer'] = 'I am a returning customer';
					$_['text_enter'] = 'Account';
					$_['text_register_rules'] = 'Account creation conditions';
					$_['text_select'] = 'Shipping zone';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\en-gb\checkout\simplecheckout.php">
				<operation>
					<search><![CDATA[// Error]]></search>
					<add position="after"><![CDATA[
					$_['text_select'] = 'Shipping zone';
					$_['text_checkout_shipping_address'] = 'Recipient details';
					$_['text_checkout_customer'] = 'Account';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\en-gb\common\footer.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_address']      = 'Address';
					$_['text_manufacturers_page']      = 'Manufacturers';
					$_['text_compare_page']      = 'Compare products';
					]]></add>
				</operation>
			</file>
			<file path="admin/language/en-gb/extension/module/{bestseller,featured,featured_product,latest,recently_viewed,special}.php">
			<operation>
				<search><![CDATA[// Entry]]></search>
				<add position="after"><![CDATA[
				$_['text_list']      = 'List';
				$_['text_slider']      = 'Slider';
				$_['entry_slider_limit'] = 'See';
				]]></add>
			</operation>
			</file>
		<!--- RU -->
			<file path="catalog\language\ru-ru\common\header.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_blog']               = 'Блог';
					$_['text_contacts']             = 'Контакты';
					$_['text_callback']             = 'Связь с нами';
					$_['link_catalog']             = 'Каталог';
					$_['link_customer']             = 'Покупателю';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\ru-ru\product\product.php">
				<operation>
					<search><![CDATA[// dc_Translates]]></search>
					<add position="after"><![CDATA[
					$_['tab_review']               = 'Отзывов <span>%s</span>';
					$_['text_review_plus'] = 'Преимущества';
					$_['text_review_minus'] = 'Недостатки';
					$_['tab_info'] = 'Всё про товар';
					$_['text_model'] = 'Код товара:';
					$_['text_related'] = 'Покупают вместе с';
					$_['text_sku'] = 'Артикул:';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\ru-ru\common\language.php">
				<operation>
					<search><![CDATA[$_['text_language']]]></search>
					<add position="before"><![CDATA[
					$_['text_popup_language_title'] = 'Добро пожаловать!';
					$_['text_popup_language_description'] = 'Пожалуйста, выберите язык интерфейса';
					$_['text_popup_language_title_ua_lang'] = 'Хотите использовать сайт на украинском?';
					$_['text_popup_language_button_ua_lang'] = 'Да, хочу';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\ru-ru\common\cart.php|catalog/language/ru-ru/checkout/cart.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_items_sum']     = '%s';
					$_['text_items_count']     = '%s';
					]]></add>
				</operation>
			</file>
			<file path="catalog/language/ru-ru/checkout/cart.php">
				<operation>
					<search><![CDATA[$_['error_required']         					= '%s необходим!';]]></search>
					<add position="replace"><![CDATA[
					$_['error_required'] = 'Пожалуйста, выберите <u>%s</u>';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\ru-ru\account\simpleregister.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_returning_customer']      = 'Постоянный покупатель';
					$_['text_i_am_returning_customer'] = 'Я совершал здесь покупки ранее и регистрировался';
					$_['text_enter'] = 'Войти';
					$_['text_register_rules'] = 'Условия создания аккаунта';
					$_['text_select'] = 'Выберите область';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\ru-ru\checkout\simplecheckout.php">
				<operation>
					<search><![CDATA[// Error]]></search>
					<add position="after"><![CDATA[
					$_['text_select'] = 'Выберите область';
					$_['text_checkout_shipping_address'] = 'Данные получателя';
					$_['text_checkout_customer'] = 'Данные аккаунта';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\ru-ru\common\footer.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_address']      = 'Адрес';
					$_['text_manufacturers_page']      = 'Производители';
					$_['text_compare_page']      = 'Сравнение товаров';
					]]></add>
				</operation>
			</file>
			<file path="admin/language/ru-ru/extension/module/{bestseller,featured,featured_product,latest,recently_viewed,special}.php">
			<operation>
				<search><![CDATA[// Entry]]></search>
				<add position="after"><![CDATA[
				$_['text_list']      = 'Лист (обычный)';
				$_['text_slider']      = 'Слайдер';
				$_['entry_slider_limit'] = 'Показывать по';
				]]></add>
			</operation>
			</file>
		<!--- UA -->
			<file path="catalog\language\uk-ua\common\header.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_blog']               = 'Блог';
					$_['text_contacts']             = 'Контакти';
					$_['text_callback']             = "Зв'язок з нами";
					$_['link_catalog']             = 'Каталог';
					$_['link_customer']             = 'Покупцеві';
					]]></add>
				</operation>
				<operation>
					<search><![CDATA[$_['text_wishlist_desc']      = 'Вподобання';]]></search>
					<add position="replace"><![CDATA[
					$_['text_wishlist_desc']      = 'Закладки';
					]]></add>
				</operation>
				<operation>
					<search><![CDATA[$_['text_compare_desc']       = 'Порівняння';]]></search>
					<add position="replace"><![CDATA[
					$_['text_compare_desc']      = 'Порівняти';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\uk-ua\product\product.php">
				<operation>
					<search><![CDATA[// dc_Translates]]></search>
					<add position="after"><![CDATA[
					$_['tab_review']               = 'Відгуки <span>%s</span>';
					$_['text_review_plus'] = 'Переваги';
					$_['text_review_minus'] = 'Недолiки';
					$_['tab_info'] = 'Все про товар';
					$_['text_model'] = 'Код товару:';
					$_['text_related'] = 'Купують разом із';
					$_['text_sku'] = 'Артикул:';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\uk-ua\common\language.php">
				<operation>
					<search><![CDATA[$_['text_language']]]></search>
					<add position="before"><![CDATA[
					$_['text_popup_language_title'] = 'Ласкаво просимо!';
					$_['text_popup_language_description'] = 'Будь ласка, виберіть мову інтерфейсу';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\uk-ua\common\cart.php|catalog/language/uk-ua/checkout/cart.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_items_sum']     = '%s';
					$_['text_items_count']     = '%s';
					]]></add>
				</operation>
			</file>
			<file path="catalog/language/uk-ua/checkout/cart.php">
				<operation>
					<search><![CDATA[$_['error_required']         					= 'Оберіть %s';]]></search>
					<add position="replace"><![CDATA[
					$_['error_required'] = 'Будь ласка, оберіть <u>%s</u>';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\uk-ua\account\simpleregister.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_returning_customer']      = 'Постійний покупець';
					$_['text_i_am_returning_customer'] = 'Я здійснював покупки раніше та реєструвався';
					$_['text_enter'] = 'Увійти';
					$_['text_register_rules'] = 'Умови створення облікового запису';
					$_['text_select'] = 'Виберіть область';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\uk-ua\checkout\simplecheckout.php">
				<operation>
					<search><![CDATA[// Error]]></search>
					<add position="after"><![CDATA[
					$_['text_select'] = 'Виберіть область';
					$_['text_checkout_shipping_address'] = 'Дані одержувача';
					$_['text_checkout_customer'] = 'Дані акаунта';
					]]></add>
				</operation>
			</file>
			<file path="catalog\language\uk-ua\common\footer.php">
				<operation>
					<search><![CDATA[// Text]]></search>
					<add position="after"><![CDATA[
					$_['text_address']      = 'Адреса';
					$_['text_manufacturers_page']      = 'Виробники';
					$_['text_compare_page']      = 'Порівняння товарів';
					]]></add>
				</operation>
			</file>
			<file path="admin/language/uk-ua/extension/module/{bestseller,featured,featured_product,latest,recently_viewed,special}.php">
			<operation>
				<search><![CDATA[// Entry]]></search>
				<add position="after"><![CDATA[
				$_['text_list'] = 'Аркуш (звичайний)';
				$_['text_slider'] = 'Слайдер';
				$_['entry_slider_limit'] = 'Показувати по';
				]]></add>
			</operation>
			</file>

	<!--- Функционал PRO в CHECKOUT/SIMPLECHECKOUT -->
	<file path="catalog/controller/checkout/simplecheckout_cart.php">
		<operation>
			<search><![CDATA[$this->_templateData['products'] = array();]]></search>
			<add position="before"><![CDATA[
			$this->_templateData['checkout_fixed_cart'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_checkout_fixed_cart');
			]]></add>
		</operation>
	</file>
	<file path="catalog/controller/checkout/simplecheckout.php">
		<operation>
			<search><![CDATA[$this->language->load('checkout/simplecheckout');]]></search>
			<add position="after"><![CDATA[
			$this->_templateData['checkout_label_view'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_checkout_label_view');
			]]></add>
		</operation>
	</file>

	<!--- Функционал PRO в CHECKOUT/SIMPLEREGISTER -->

	<file path="catalog/controller/account/simpleregister.php">
		<operation>
			<search><![CDATA[$this->loadLibrary('simple/simpleregister');]]></search>
			<add position="after"><![CDATA[
			$this->_templateData['checkout_label_view'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_checkout_label_view');
			$this->_templateData['register_rules'] = $this->config->get('theme_' . $this->config->get('config_theme') . '_register_rules');
			$this->_templateData['register_rules_description'] = html_entity_decode($this->config->get('theme_' . $this->config->get('config_theme') . '_register_rules_description')[$this->config->get('config_language_id')], ENT_QUOTES, 'UTF-8');
			]]></add>
		</operation>
	</file>

	<!--- Функционал PRO в SETTING/SETTING -->
	<file path="admin/view/template/setting/setting.twig">
		<operation>
			<search><![CDATA[<fieldset class="menu_view_stock">]]></search>
			<add position="replace"><![CDATA[
			<fieldset class="menu_view_stock" style="display:none">
			]]></add>
		</operation>
	</file>

	<!--- Модули для Speedy -->

		<!--- Верхний баннер -->
		<file path="catalog/controller/common/header.php">
			<operation>
				<search><![CDATA[if($this->config->get('config_theme') == 'speedy') {]]></search>
				<add position="after"><![CDATA[
				$data['banner_top_status'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_status');
				$data['banner_top_type'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_type');
				if($data['banner_top_type'] == 'banner') {
					$data['banner_top_background'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_background');
					$data['banner_top_text'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_text')[$this->config->get('config_language_id')];
					$data['banner_top_image'] = $this->model_tool_image->resize($this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_image'), $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_width'), $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_height'));
					$data['banner_top_height'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_height');
					$data['banner_top_link'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_link')[$this->config->get('config_language_id')];
				} else {
					$data['banner_top_info_background'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_info_background');
					$data['banner_top_info_id'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_info_id');
					$data['banner_top_info_text'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_info_text')[$this->config->get('config_language_id')];
					$data['banner_top_info_height'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_info_height');
					$data['banner_top_info_link'] = $this->config->get('module_' . $this->config->get('config_theme') . '_banner_top_info_link')[$this->config->get('config_language_id')];
				}
				]]></add>
			</operation>
		</file>
</modification>
