<?php
 goto ae9Y5; e11lf: class ControllerShippingUkrPoshta extends Controller { protected $extension = "\x75\153\162\160\x6f\163\x68\164\x61"; protected $version = "\x32\56\x33\56\x30"; protected $data = array(); protected static $license = TRUE; private $error = NULL; private $settings = NULL; public function __construct($registry) { $this->registry = $registry; require_once DIR_SYSTEM . "\x68\145\x6c\x70\x65\162\x2f" . $this->extension . "\x2e\x70\150\160"; $registry->set("\160\x72", new Pr($registry)); $registry->set($this->extension, new UkrPoshta($registry)); $this->settings = $this->extensionSettings(true); } public function install() { if (version_compare(VERSION, "\62\x2e\x33", "\76\x3d")) { $this->load->model("\145\170\x74\x65\156\x73\151\157\x6e\57\x73\150\x69\x70\x70\x69\156\x67\x2f" . $this->extension); $this->{"\x6d\x6f\144\x65\x6c\x5f\145\170\x74\145\x6e\x73\x69\157\x6e\x5f\163\150\x69\x70\x70\x69\156\x67\137" . $this->extension}->creatTables(); } else { $this->load->model("\163\x68\151\x70\x70\x69\156\147\57" . $this->extension); $this->{"\155\x6f\144\x65\154\x5f\x73\x68\151\x70\160\151\156\147\137" . $this->extension}->creatTables(); } } public function uninstall() { if (version_compare(VERSION, "\x32\56\x33", "\76\75")) { $this->load->model("\x65\x78\x74\145\156\163\x69\x6f\156\x2f\163\150\151\x70\160\151\156\147\x2f" . $this->extension); $this->{"\x6d\x6f\144\x65\154\x5f\145\170\x74\145\156\163\x69\157\156\137\x73\150\151\160\160\x69\x6e\x67\137" . $this->extension}->deleteTables(); } else { $this->load->model("\x73\150\x69\x70\160\151\156\x67\57" . $this->extension); $this->{"\x6d\157\144\145\154\137\163\x68\151\160\x70\151\156\147\x5f" . $this->extension}->deleteTables(); } } public function index() { if (version_compare(VERSION, "\62\56\63", "\x3e\x3d")) { $this->load->language("\145\x78\164\145\156\x73\151\x6f\x6e\57\x73\150\151\x70\160\151\x6e\147\57" . $this->extension); } else { $this->load->language("\163\x68\x69\160\160\151\x6e\x67\x2f" . $this->extension); } $this->load->model("\163\x65\164\164\151\156\147\x2f\x73\145\164\164\x69\156\x67"); if ($this->request->server["\x52\105\x51\125\105\123\124\137\115\x45\124\110\117\x44"] == "\120\x4f\x53\x54" && $this->validate()) { $this->session->data["\x73\x75\x63\143\x65\x73\163"] = $this->language->get("\x74\145\170\x74\x5f\x73\165\x63\x63\145\x73\x73\137\163\x65\x74\x74\151\x6e\x67\x73"); if (version_compare(VERSION, "\63", "\x3e\75")) { $this->model_setting_setting->editSetting("\163\x68\151\x70\x70\x69\156\147\137" . $this->extension, $this->request->post, $this->request->post["\163\x74\x6f\162\x65\137\x69\x64"]); if (isset($this->request->post["\145\170\151\164"])) { $this->response->redirect($this->url->link("\155\x61\x72\x6b\145\x74\x70\154\141\x63\145\57\x65\x78\x74\145\x6e\x73\x69\157\156", "\165\163\x65\x72\137\164\157\153\x65\156\x3d" . $this->session->data["\x75\163\145\162\x5f\x74\157\x6b\x65\x6e"] . "\x26\x74\171\160\145\75\x73\x68\151\x70\x70\x69\x6e\x67", true)); } } else { if (version_compare(VERSION, "\x32\56\63", "\76\x3d")) { $this->model_setting_setting->editSetting($this->extension, $this->request->post, $this->request->post["\163\x74\157\x72\145\x5f\x69\x64"]); if (isset($this->request->post["\x65\x78\x69\x74"])) { $this->response->redirect($this->url->link("\x65\x78\164\145\156\163\x69\x6f\x6e\x2f\145\x78\x74\x65\x6e\x73\151\157\156", "\164\x6f\153\145\x6e\x3d" . $this->session->data["\164\157\153\145\156"] . "\x26\x74\171\160\x65\x3d\x73\x68\x69\x70\x70\x69\x6e\147", true)); } } else { if (version_compare(VERSION, "\62", "\x3e\75")) { $this->model_setting_setting->editSetting($this->extension, $this->request->post, $this->request->post["\163\164\157\x72\145\137\x69\x64"]); if (isset($this->request->get["\x65\x78\x69\164"])) { $this->response->redirect($this->url->link("\145\x78\x74\145\x6e\163\151\x6f\156\57\x73\150\151\x70\160\x69\x6e\x67", "\164\157\153\145\x6e\75" . $this->session->data["\x74\x6f\x6b\x65\x6e"], "\123\x53\x4c")); } } else { $this->model_setting_setting->editSetting($this->extension, $this->request->post, $this->request->post["\163\164\157\162\x65\x5f\x69\x64"]); if (isset($this->request->get["\145\x78\x69\164"])) { $this->redirect($this->url->link("\145\170\x74\145\x6e\163\x69\157\x6e\x2f\x73\150\151\x70\x70\x69\156\x67", "\164\157\x6b\x65\156\x3d" . $this->session->data["\x74\x6f\153\x65\156"], "\123\x53\114")); } } } } } $this->document->setTitle($this->language->get("\x68\145\141\144\x69\x6e\x67\x5f\x74\x69\x74\x6c\x65")); if (version_compare(VERSION, "\x33", "\76\75")) { $data["\x61\143\x74\151\x6f\156"] = $this->url->link("\145\x78\x74\x65\156\163\x69\x6f\156\x2f\x73\x68\151\160\160\151\x6e\147\x2f" . $this->extension, "\165\163\x65\162\137\x74\157\153\145\x6e\x3d" . $this->session->data["\x75\163\x65\162\137\x74\x6f\153\x65\156"], true); $data["\x61\x63\164\151\157\156\x5f\163\x65\x74\x74\x69\156\x67\x73"] = $this->url->link("\145\170\164\145\156\x73\151\157\156\x2f\163\x68\151\160\x70\151\x6e\147\x2f" . $this->extension . "\57\x65\x78\164\x65\x6e\x73\x69\x6f\156\123\145\x74\x74\151\x6e\147\163", "\165\x73\145\162\137\x74\x6f\153\x65\x6e\x3d" . $this->session->data["\x75\163\145\x72\137\164\x6f\x6b\145\156"], true); $data["\x63\x61\x6e\x63\145\154"] = $this->url->link("\x6d\141\162\x6b\x65\x74\160\x6c\141\x63\145\x2f\x65\170\164\145\156\x73\x69\157\156", "\165\163\x65\162\x5f\164\157\x6b\x65\x6e\x3d" . $this->session->data["\x75\163\x65\162\137\x74\x6f\153\145\156"] . "\46\x74\x79\160\x65\x3d\163\150\151\x70\x70\x69\x6e\x67", true); $data["\142\x72\145\x61\x64\143\x72\165\155\142\x73"] = array(); $data["\x62\162\145\141\144\x63\162\x75\155\142\163"][] = array("\164\x65\170\164" => $this->language->get("\x74\x65\170\x74\x5f\150\x6f\x6d\x65"), "\150\x72\145\x66" => $this->url->link("\143\x6f\155\x6d\157\x6e\57\144\141\163\x68\x62\x6f\x61\x72\144", "\x75\163\145\x72\137\x74\157\153\x65\156\x3d" . $this->session->data["\x75\163\x65\x72\x5f\x74\157\153\x65\x6e"], true)); $data["\x62\x72\145\141\144\x63\x72\165\155\x62\x73"][] = array("\x74\145\170\164" => $this->language->get("\164\145\x78\x74\x5f\163\x68\x69\x70\x70\x69\x6e\x67"), "\150\162\145\x66" => $this->url->link("\x6d\141\162\153\145\164\160\154\x61\143\145\57\145\x78\x74\x65\156\x73\x69\x6f\156", "\x75\163\145\x72\137\x74\x6f\x6b\145\156\x3d" . $this->session->data["\x75\163\145\x72\x5f\164\x6f\x6b\x65\x6e"] . "\x26\164\x79\160\145\75\163\150\151\160\x70\151\156\147", true)); $data["\x62\162\145\x61\x64\x63\x72\x75\x6d\x62\x73"][] = array("\164\x65\x78\164" => $this->language->get("\x68\x65\141\x64\x69\x6e\x67\x5f\x74\151\x74\x6c\145"), "\150\162\145\x66" => $this->url->link("\145\170\164\145\156\163\151\157\156\x2f\x73\x68\x69\x70\x70\151\156\x67\57" . $this->extension, "\x75\x73\x65\162\137\x74\x6f\153\x65\156\75" . $this->session->data["\165\163\145\x72\137\x74\x6f\153\145\156"], true)); $data["\x75\x73\x65\162\137\164\x6f\x6b\x65\x6e"] = $this->session->data["\x75\x73\145\x72\x5f\x74\x6f\x6b\x65\x6e"]; $extension_code = "\x73\x68\151\160\x70\151\x6e\147\137" . $this->extension; $extension_path = "\145\x78\x74\145\x6e\x73\151\x6f\156\x2f"; } else { if (version_compare(VERSION, "\62\x2e\x33", "\x3e\75")) { $data["\x61\x63\164\x69\x6f\x6e"] = $this->url->link("\x65\x78\164\145\156\163\x69\x6f\x6e\x2f\163\150\151\160\x70\x69\x6e\x67\57" . $this->extension, "\x74\157\153\x65\156\75" . $this->session->data["\164\157\x6b\145\x6e"], true); $data["\x61\143\x74\x69\x6f\x6e\x5f\163\145\164\164\x69\156\147\x73"] = $this->url->link("\145\170\x74\x65\x6e\x73\x69\157\x6e\57\163\150\x69\x70\160\x69\156\147\x2f" . $this->extension . "\57\145\170\x74\145\x6e\x73\x69\x6f\x6e\123\x65\x74\164\151\x6e\x67\x73", "\x74\x6f\x6b\145\156\75" . $this->session->data["\164\x6f\153\145\156"], true); $data["\143\141\x6e\143\x65\154"] = $this->url->link("\x65\170\164\145\x6e\163\151\157\156\x2f\x65\x78\x74\x65\156\163\151\x6f\156", "\x74\x6f\153\x65\x6e\x3d" . $this->session->data["\164\157\153\145\156"] . "\46\x74\x79\x70\145\x3d\163\150\x69\160\x70\x69\x6e\x67", true); $data["\142\x72\145\x61\144\x63\x72\165\155\x62\x73"] = array(); $data["\142\x72\145\x61\x64\x63\162\x75\155\x62\x73"][] = array("\x74\x65\x78\x74" => $this->language->get("\164\x65\x78\x74\137\150\157\x6d\x65"), "\x68\162\145\x66" => $this->url->link("\143\x6f\155\x6d\157\x6e\x2f\x64\x61\163\x68\x62\157\x61\x72\x64", "\164\157\153\145\x6e\75" . $this->session->data["\164\x6f\153\x65\x6e"], true)); $data["\x62\162\x65\141\x64\143\x72\165\155\x62\163"][] = array("\x74\x65\170\164" => $this->language->get("\x74\x65\170\164\137\x73\150\151\x70\160\151\156\147"), "\150\x72\145\146" => $this->url->link("\x65\170\x74\145\x6e\163\151\x6f\156\57\x65\170\x74\145\156\163\151\x6f\156", "\x74\x6f\153\145\156\75" . $this->session->data["\x74\157\x6b\145\x6e"] . "\46\164\x79\x70\145\x3d\163\x68\151\160\160\151\156\x67", true)); $data["\142\162\145\x61\x64\x63\162\x75\x6d\x62\163"][] = array("\x74\145\x78\x74" => $this->language->get("\150\145\x61\144\151\156\x67\137\164\x69\164\x6c\145"), "\150\x72\145\x66" => $this->url->link("\145\x78\x74\x65\x6e\x73\151\x6f\x6e\x2f\163\150\x69\160\x70\x69\x6e\147\57" . $this->extension, "\164\x6f\153\145\x6e\75" . $this->session->data["\x74\x6f\x6b\x65\x6e"], true)); $data["\164\157\x6b\x65\156"] = $this->session->data["\164\157\153\x65\156"]; $extension_code = $this->extension; $extension_path = "\x65\170\164\145\156\163\151\157\156\57"; } else { $data["\x61\143\x74\151\157\156"] = $this->url->link("\x65\170\x74\145\x6e\x73\151\157\156\x2f\x73\150\x69\160\160\151\x6e\147\x2f" . $this->extension, "\164\x6f\153\145\x6e\75" . $this->session->data["\x74\x6f\x6b\x65\156"], "\x53\123\114"); $data["\141\x63\x74\151\x6f\156\137\x73\x65\164\x74\x69\x6e\x67\x73"] = $this->url->link("\x73\150\x69\x70\x70\x69\156\147\57" . $this->extension . "\57\x65\170\164\x65\156\163\x69\157\156\123\145\164\164\x69\156\x67\x73", "\164\x6f\153\x65\156\75" . $this->session->data["\x74\157\x6b\145\x6e"], "\123\x53\x4c"); $data["\143\x61\x6e\143\x65\154"] = $this->url->link("\x65\170\164\145\x6e\163\151\x6f\156\x2f\x73\x68\x69\x70\160\x69\x6e\147", "\164\x6f\153\145\x6e\x3d" . $this->session->data["\164\x6f\153\x65\156"], "\x53\123\114"); $data["\142\162\145\x61\x64\143\162\x75\x6d\142\x73"] = array(); if (version_compare(VERSION, "\62", "\x3e\75")) { $data["\142\x72\145\x61\x64\x63\x72\165\155\142\163"][] = array("\164\x65\170\x74" => $this->language->get("\164\x65\x78\164\137\x68\157\155\145"), "\150\x72\x65\146" => $this->url->link("\143\x6f\155\x6d\157\156\x2f\x64\141\163\x68\x62\x6f\x61\162\144", "\164\x6f\153\x65\156\x3d" . $this->session->data["\x74\x6f\153\145\x6e"], "\x53\x53\114")); } else { $data["\x62\162\x65\x61\x64\x63\x72\x75\x6d\x62\x73"][] = array("\164\145\x78\164" => $this->language->get("\164\145\170\x74\x5f\x68\157\155\145"), "\150\162\145\x66" => $this->url->link("\143\157\x6d\155\157\156\x2f\x68\x6f\155\x65", "\x74\x6f\153\x65\x6e\x3d" . $this->session->data["\x74\157\x6b\145\x6e"], "\123\x53\x4c")); } $data["\142\x72\x65\141\144\x63\x72\165\155\142\x73"][] = array("\164\x65\170\x74" => $this->language->get("\164\145\x78\x74\137\x73\150\x69\x70\x70\151\x6e\147"), "\x68\x72\145\146" => $this->url->link("\x65\x78\164\145\x6e\x73\151\x6f\156\x2f\x73\150\151\x70\160\151\156\x67", "\x74\x6f\153\x65\156\x3d" . $this->session->data["\164\x6f\153\x65\156"], "\x53\x53\114")); $data["\142\x72\145\141\144\x63\x72\165\155\142\x73"][] = array("\164\145\x78\164" => $this->language->get("\150\x65\141\144\x69\156\x67\137\x74\x69\164\154\x65"), "\x68\x72\x65\146" => $this->url->link("\163\150\x69\160\160\x69\x6e\147\x2f" . $this->extension, "\x74\x6f\153\x65\156\75" . $this->session->data["\x74\157\153\x65\x6e"], "\123\123\x4c")); $data["\164\x6f\153\145\x6e"] = $this->session->data["\164\x6f\x6b\145\x6e"]; $extension_code = $this->extension; $extension_path = ''; } } if (isset($this->session->data["\x73\x75\143\143\x65\x73\x73"])) { $data["\163\165\143\x63\x65\163\163"] = $this->session->data["\163\x75\143\x63\x65\163\163"]; unset($this->session->data["\163\x75\x63\143\145\x73\x73"]); } else { $data["\163\x75\143\x63\x65\x73\163"] = ''; } if (isset($this->error["\x77\x61\162\x6e\x69\156\147"])) { $data["\x65\162\162\x6f\162\137\167\141\162\156\151\156\147"] = $this->error["\167\x61\x72\156\x69\x6e\147"]; } else { if (isset($this->session->data["\167\141\x72\x6e\x69\156\x67"])) { $data["\145\162\162\x6f\162\x5f\x77\141\x72\156\x69\156\147"] = $this->session->data["\167\141\162\x6e\151\156\147"]; unset($this->session->data["\x77\x61\x72\156\x69\x6e\x67"]); } else { $data["\145\x72\x72\157\162\137\x77\141\162\156\151\156\147"] = ''; } } if (isset($this->error["\x65\162\x72\157\162\x5f\x65\143\x6f\155\x5f\142\145\x61\x72\x65\162"])) { $data["\145\162\162\157\162\x5f\145\143\157\x6d\137\x62\x65\141\x72\145\162"] = $this->error["\145\x72\162\x6f\162\x5f\x65\143\x6f\x6d\x5f\142\x65\x61\162\145\x72"]; } else { $data["\x65\162\162\x6f\162\137\x65\x63\157\155\137\142\145\141\x72\x65\x72"] = ''; } if (isset($this->error["\x65\x72\162\x6f\162\137\164\162\141\143\153\x69\x6e\147\x5f\142\x65\141\x72\x65\162"])) { $data["\x65\162\162\157\x72\x5f\164\x72\x61\143\x6b\151\x6e\x67\x5f\x62\x65\141\162\x65\162"] = $this->error["\x65\x72\162\157\x72\137\164\x72\x61\x63\153\x69\x6e\x67\x5f\142\x65\x61\162\145\x72"]; } else { $data["\145\x72\162\x6f\162\x5f\x74\x72\x61\x63\x6b\x69\156\x67\x5f\x62\145\x61\162\145\x72"] = ''; } if (isset($this->error["\145\162\162\157\162\x5f\x75\163\x65\162\x5f\164\x6f\x6b\x65\156"])) { $data["\x65\162\162\x6f\162\137\165\163\x65\x72\137\x74\157\153\x65\x6e"] = $this->error["\x65\162\x72\157\162\137\x75\x73\145\162\x5f\x74\x6f\153\x65\156"]; } else { $data["\x65\162\162\157\x72\137\165\x73\x65\x72\137\164\x6f\x6b\x65\x6e"] = ''; } if (version_compare(VERSION, "\63", "\74")) { $language_variables = array("\x68\x65\x61\144\x69\x6e\147\137\164\151\164\x6c\x65", "\150\x65\141\144\x69\156\147\137\166\145\x72\151\x66\171\151\156\147\x5f\141\160\151\x5f\x61\x63\x63\x65\x73\163", "\x68\145\x61\144\151\156\147\137\x61\144\144\151\156\147\137\143\x75\163\x74\x6f\x6d\137\x6d\x65\164\150\157\144", "\x62\x75\164\x74\x6f\x6e\x5f\163\141\x76\145", "\142\x75\x74\164\157\x6e\x5f\163\x61\166\x65\137\141\156\144\x5f\145\x78\151\164", "\142\x75\164\164\157\156\137\144\x6f\167\x6e\x6c\x6f\x61\x64\137\142\x61\x73\151\x63\x5f\163\x65\x74\164\151\156\147\163", "\x62\165\164\x74\x6f\156\137\x69\x6d\160\x6f\x72\x74\x5f\163\145\164\x74\151\x6e\147\x73", "\x62\x75\164\164\x6f\156\137\145\x78\160\157\x72\x74\x5f\x73\145\x74\x74\151\156\147\163", "\x62\165\x74\164\x6f\x6e\x5f\143\x61\156\x63\x65\154", "\x62\x75\164\x74\x6f\156\x5f\x73\x61\x76\x65", "\x62\x75\164\x74\157\156\137\165\x70\x64\x61\x74\x65", "\x62\x75\164\x74\157\x6e\x5f\x73\x65\x61\162\143\150", "\x62\x75\164\x74\x6f\x6e\137\x61\144\x64", "\142\165\x74\164\x6f\156\x5f\147\x65\156\x65\x72\x61\164\x65", "\142\165\164\164\x6f\x6e\137\143\157\160\x79", "\142\165\164\x74\157\x6e\137\162\x75\x6e", "\164\141\142\137\147\x65\156\145\x72\x61\x6c", "\x74\141\142\x5f\164\141\162\x69\146\x66\x73", "\x74\x61\142\137\144\x61\164\141\142\x61\x73\145", "\164\x61\142\x5f\163\x65\156\x64\145\x72", "\x74\x61\x62\137\x72\x65\143\x69\x70\151\145\x6e\x74", "\164\x61\142\137\144\145\160\141\x72\164\165\162\145", "\x74\141\142\137\160\141\171\155\145\x6e\164", "\164\141\x62\137\x63\157\x6e\x73\x69\x67\x6e\155\x65\156\x74\137\156\157\164\145", "\x74\141\x62\137\x63\x72\157\156", "\164\x61\x62\x5f\163\165\x70\160\157\x72\x74", "\x63\157\154\165\155\156\137\x77\x65\x69\x67\x68\164", "\143\157\x6c\x75\155\156\137\x6c\157\x6e\147\145\x73\164\137\163\x69\144\x65", "\x63\157\154\165\x6d\x6e\x5f\144\145\x70\141\x72\x74\155\x65\156\164\137\x73\x65\162\166\x69\143\145\137\x63\157\163\164", "\143\x6f\154\x75\x6d\156\x5f\x64\157\x6f\162\163\x5f\x73\x65\162\x76\x69\x63\145\x5f\x63\157\163\x74", "\143\157\154\165\155\156\137\164\x61\162\151\x66\146\x5f\x74\162\x61\156\x73\x66\x65\x72\137\151\156\137\x64\x65\160\x61\162\164\x6d\x65\156\x74", "\x63\157\154\x75\155\x6e\x5f\x74\141\x72\151\146\x66\137\172\157\156\x65\x5f\x72\145\147\x69\157\156", "\x63\157\x6c\165\x6d\156\x5f\x74\141\162\151\x66\146\x5f\172\157\x6e\x65\x5f\165\153\162\x61\151\x6e\x65", "\143\x6f\154\x75\x6d\156\x5f\x64\157\x6f\x72\x73\137\160\x69\143\x6b\x75\160", "\x63\x6f\154\165\x6d\x6e\137\144\157\157\162\x73\137\144\x65\x6c\151\x76\x65\x72\171", "\143\x6f\x6c\x75\x6d\156\x5f\x64\x65\154\151\x76\x65\162\x79\137\x70\x65\162\151\157\144", "\x63\x6f\154\165\x6d\156\137\x64\145\x6c\151\166\145\162\x79\x5f\x74\x79\160\145", "\143\157\154\165\x6d\156\x5f\143\x61\154\143\x75\x6c\x61\x74\x69\x6f\x6e\137\142\x61\x73\x65", "\x63\x6f\x6c\x75\x6d\x6e\x5f\164\141\162\x69\x66\146\x5f\154\x69\155\x69\164", "\x63\157\x6c\165\x6d\x6e\x5f\160\x65\x72\x63\145\x6e\164", "\x63\x6f\154\x75\155\x6e\x5f\146\x69\x78\145\144\x5f\141\155\157\x75\156\164", "\143\157\154\165\155\156\x5f\x6d\151\156\151\155\x75\155\137\x70\141\x79\x6d\x65\156\x74", "\143\x6f\154\x75\155\x6e\x5f\x61\x63\x74\151\x6f\x6e", "\x63\157\154\x75\x6d\156\x5f\164\171\x70\x65", "\143\x6f\154\165\155\x6e\x5f\144\141\x74\145", "\143\157\154\165\155\156\x5f\x61\x6d\157\165\x6e\x74", "\x63\x6f\154\165\155\x6e\137\144\145\x73\143\162\x69\x70\x74\151\x6f\156", "\x63\157\154\x75\155\x6e\137\160\x6f\x73\x74\x61\154\137\143\x6f\155\x70\141\156\x79\x5f\163\x74\x61\x74\165\163", "\143\157\154\165\x6d\156\x5f\x73\x74\x6f\162\x65\137\163\164\x61\x74\165\163", "\143\157\154\x75\155\156\x5f\x69\x6d\x70\x6c\x65\x6d\145\156\x74\141\164\151\x6f\x6e\x5f\144\145\x6c\x61\x79", "\x63\157\154\165\x6d\x6e\137\x6e\157\x74\151\146\151\143\141\x74\x69\157\x6e", "\143\x6f\x6c\x75\155\x6e\x5f\155\145\x73\163\x61\147\x65\137\164\x65\155\x70\x6c\x61\164\145", "\145\x6e\x74\x72\171\137\x73\x74\141\164\165\163", "\x65\156\164\x72\x79\137\144\x65\142\x75\147\x67\151\x6e\147\x5f\x6d\157\144\x65", "\145\156\x74\x72\x79\x5f\163\157\162\x74\x5f\x6f\x72\x64\145\x72", "\145\156\164\162\x79\137\x65\143\157\x6d\137\x62\145\x61\x72\145\162", "\145\x6e\164\162\171\x5f\x74\x72\141\143\153\151\156\147\137\x62\145\141\x72\x65\x72", "\x65\156\164\x72\x79\137\165\x73\145\162\x5f\x74\157\153\x65\x6e", "\x65\x6e\164\162\171\137\x69\155\x61\x67\145", "\145\x6e\164\162\171\x5f\x69\x6d\141\147\x65\137\x6f\165\164\160\165\164\x5f\160\154\141\x63\145", "\145\156\164\x72\171\x5f\x63\x75\162\154\137\143\157\x6e\156\x65\143\x74\164\x69\x6d\x65\x6f\165\164", "\x65\x6e\164\162\x79\137\143\x75\162\154\x5f\164\x69\155\x65\157\165\164", "\x65\x6e\164\x72\171\137\155\145\x74\150\x6f\144\137\163\164\141\164\165\x73", "\145\x6e\164\x72\x79\137\x6e\x61\155\145", "\x65\x6e\x74\162\171\137\147\145\x6f\x5f\172\x6f\156\145", "\145\x6e\164\162\x79\137\x74\141\x78\x5f\x63\x6c\x61\163\163", "\x65\156\164\x72\171\x5f\x6d\x69\156\x69\155\x75\155\x5f\157\162\x64\x65\x72\x5f\141\155\x6f\x75\x6e\x74", "\145\156\x74\x72\171\x5f\155\141\170\x69\x6d\x75\x6d\x5f\x6f\x72\144\x65\162\137\141\155\157\165\x6e\164", "\x65\x6e\x74\x72\x79\x5f\x66\x72\145\145\137\163\150\x69\x70\x70\x69\156\147", "\x65\x6e\x74\162\171\x5f\x66\x72\145\x65\137\143\x6f\x73\164\137\164\145\x78\x74", "\x65\156\x74\x72\171\x5f\x63\x6f\163\x74", "\145\x6e\164\162\x79\x5f\x61\x70\151\137\143\x61\154\x63\165\x6c\141\x74\151\157\x6e", "\145\156\x74\x72\171\137\164\x61\x72\x69\146\146\x5f\143\x61\x6c\x63\x75\154\x61\164\151\x6f\x6e", "\x65\156\x74\162\x79\137\x64\x65\154\x69\x76\145\x72\171\137\160\x65\x72\x69\157\144", "\x65\156\x74\162\x79\137\x64\x65\160\x61\x72\x74\155\x65\156\164\137\x74\x79\x70\145\x73", "\x65\x6e\x74\x72\x79\x5f\x64\x65\x70\x61\x72\164\155\x65\156\164\x5f\x73\164\141\164\x75\163\x65\x73", "\x65\x6e\164\x72\x79\x5f\x64\151\x73\143\157\165\156\x74", "\x65\156\164\162\x79\x5f\x64\145\x63\x6c\141\162\x65\144\x5f\143\157\x73\164\x5f\x63\x6f\x6d\155\151\x73\x73\151\x6f\156", "\145\x6e\x74\x72\171\137\144\145\x63\154\x61\x72\145\x64\x5f\143\x6f\163\x74\x5f\x6d\151\x6e\x69\x6d\165\155\137\x63\157\155\x6d\x69\x73\x73\151\x6f\156", "\x65\x6e\x74\162\x79\x5f\144\145\x63\154\x61\162\x65\144\137\143\x6f\x73\x74\137\143\157\x6d\x6d\151\x73\x73\x69\157\x6e\x5f\x62\157\x74\x74\157\155", "\145\x6e\164\x72\x79\x5f\x72\145\146\145\162\x65\156\x63\145\163", "\x65\156\x74\x72\171\137\162\145\147\x69\x6f\x6e", "\145\x6e\x74\162\x79\137\x63\x69\x74\171", "\x65\156\164\x72\171\x5f\144\x65\160\141\x72\164\155\145\156\x74", "\x65\156\164\162\x79\137\163\145\x6e\x64\x65\162", "\x65\x6e\x74\162\171\137\x72\x65\x63\151\x70\151\x65\156\164", "\145\156\164\162\171\x5f\143\x6c\x69\145\156\x74\x5f\x74\171\x70\145", "\x65\156\x74\x72\x79\137\x74\x69\x6e", "\x65\x6e\164\162\171\137\145\x64\162\x70\x6f\x75", "\x65\x6e\x74\x72\171\137\142\141\156\153\x5f\x61\143\x63\157\165\156\x74", "\145\156\164\x72\x79\137\x65\x6d\141\151\154", "\145\x6e\x74\162\171\x5f\160\x68\157\x6e\x65", "\x65\156\164\162\171\x5f\x61\x64\x64\x72\x65\163\x73", "\145\156\164\x72\x79\137\163\x74\x72\x65\145\164", "\145\x6e\x74\x72\171\x5f\x68\157\x75\163\145", "\x65\156\164\x72\x79\137\x66\x6c\x61\x74", "\x65\156\164\x72\171\x5f\160\157\x73\164\x63\x6f\144\145", "\145\x6e\164\x72\x79\137\x61\144\x64\x72\x65\163\163\137\160\151\x63\153\137\165\160", "\x65\156\164\162\x79\137\x63\141\x6c\143\x75\154\x61\164\145\137\166\x6f\154\165\x6d\x65", "\x65\156\x74\x72\171\137\143\141\x6c\143\165\x6c\141\x74\x65\x5f\166\x6f\x6c\x75\155\x65\137\164\x79\x70\x65", "\145\156\164\x72\x79\x5f\x73\145\141\164\x73\x5f\x61\x6d\x6f\x75\156\164", "\x65\x6e\x74\x72\x79\x5f\144\145\x63\x6c\x61\162\x65\144\x5f\x63\157\163\x74", "\145\156\x74\162\171\x5f\x64\x65\143\154\141\162\x65\144\137\x63\x6f\x73\x74\137\x64\145\x66\x61\x75\x6c\164", "\145\156\x74\162\x79\x5f\144\145\143\154\141\x72\x65\144\x5f\x63\157\x73\164\137\155\x69\x6e\151\x6d\165\x6d", "\x65\156\x74\x72\171\137\144\x65\x70\x61\162\164\x75\162\145\137\x64\x65\x73\x63\x72\x69\160\x74\151\x6f\156", "\145\x6e\164\162\171\x5f\x64\145\154\151\x76\145\x72\x79\137\156\157\x74\x69\146\151\x63\x61\x74\x69\157\x6e", "\x65\x6e\x74\162\x79\x5f\163\155\163\x5f\x6d\145\163\x73\141\x67\145", "\145\x6e\164\162\x79\x5f\x63\x68\x65\x63\x6b\137\x6f\156\x5f\144\145\x6c\151\166\x65\x72\x79", "\145\156\164\x72\x79\137\157\x6e\137\146\x61\151\x6c\x5f\x72\145\x63\x65\151\x76\x65", "\145\x6e\164\x72\171\137\165\163\145\x5f\x70\x61\162\x61\155\145\x74\145\x72\x73", "\x65\156\x74\x72\171\137\167\x65\x69\x67\150\x74", "\145\x6e\164\162\x79\137\x77\145\151\x67\x68\164\137\155\x69\156\x69\x6d\x75\155", "\x65\156\x74\162\x79\137\144\x69\x6d\145\156\163\151\x6f\x6e\x73", "\145\x6e\164\x72\x79\x5f\141\x6c\x6c\x6f\167\x61\x6e\x63\145", "\145\156\x74\x72\x79\137\x64\145\x6c\151\166\x65\x72\171\137\x70\141\x79\145\162", "\x65\156\164\x72\171\x5f\x70\x61\171\x6d\145\156\164\x5f\143\x6f\x64", "\145\156\x74\162\171\x5f\143\141\x6c\x63\165\154\141\x74\145\137\x63\x6f\x64", "\x65\156\164\162\x79\x5f\143\x61\154\x63\165\x6c\141\164\145\137\144\x65\143\x6c\141\x72\145\x64\x5f\x63\157\163\164\x5f\x63\x6f\155\x6d", "\x65\156\x74\162\171\137\x62\141\143\153\167\141\x72\144\137\x64\145\154\151\166\x65\x72\x79\137\x70\141\171\145\162", "\145\x6e\164\162\171\x5f\x6d\x6f\x6e\145\171\137\164\x72\x61\x6e\x73\x66\145\162\x5f\x6d\x65\164\x68\157\x64", "\145\x6e\x74\x72\171\x5f\x62\x6f\x6e\165\x73\x5f\x64\x65\x70\141\x72\x74\165\162\145", "\x65\156\x74\x72\x79\x5f\144\x69\x73\x70\x6c\x61\171\145\x64\x5f\x69\x6e\146\x6f\162\x6d\x61\x74\151\x6f\x6e", "\145\x6e\164\x72\171\x5f\x70\162\x69\x6e\164\x5f\x74\171\160\145", "\145\x6e\164\x72\171\137\x70\x72\x69\x6e\164\x5f\x66\157\162\x6d\x61\164", "\145\x6e\x74\x72\x79\x5f\160\x72\x69\x6e\x74\137\x73\x65\x6e\x64\x65\162\x5f\x6e\141\x6d\x65", "\145\156\x74\x72\x79\137\160\162\151\x6e\164\137\x64\145\154\151\x76\145\162\171\x5f\x70\162\151\143\x65", "\x65\156\x74\x72\171\x5f\x70\162\x69\156\164\x5f\x64\145\x63\x6c\141\162\x65\x64\x5f\160\162\151\143\x65", "\145\156\164\162\x79\137\x63\157\x6d\x70\141\x74\151\x62\154\145\137\163\150\151\x70\x70\151\x6e\x67\x5f\155\145\x74\x68\157\x64", "\145\156\164\x72\x79\x5f\143\157\x6e\163\x69\x67\x6e\x6d\x65\156\164\x5f\143\x72\145\141\x74\145", "\x65\x6e\x74\x72\x79\137\143\157\x6e\163\151\147\156\x6d\x65\x6e\x74\137\x65\144\151\x74", "\x65\x6e\164\x72\x79\x5f\143\x6f\156\x73\151\x67\156\x6d\145\156\164\x5f\144\x65\x6c\145\164\145", "\x65\156\164\x72\171\x5f\143\157\156\163\x69\147\156\155\x65\x6e\x74\137\x61\163\x73\x69\147\156\155\x65\156\164\x5f\164\157\137\x6f\x72\x64\145\162", "\145\156\164\x72\x79\137\155\145\x6e\165\x5f\164\x65\x78\164", "\x65\156\164\x72\x79\137\153\x65\x79\137\143\162\157\x6e", "\x65\x6e\x74\x72\x79\137\x64\x65\x70\x61\162\164\165\x72\145\163\x5f\x74\x72\x61\143\153\x69\x6e\147", "\145\156\x74\162\171\x5f\x74\x72\141\143\x6b\x69\x6e\147\x5f\163\x74\141\164\x75\x73\145\163", "\x65\156\164\x72\171\137\141\x64\x6d\151\x6e\x5f\156\157\x74\x69\x66\x69\x63\x61\164\x69\x6f\156", "\x65\156\x74\x72\171\x5f\x63\x75\163\164\157\155\145\x72\x5f\156\x6f\164\x69\x66\151\143\141\164\x69\x6f\156", "\x65\x6e\164\x72\x79\x5f\143\x75\163\164\157\x6d\x65\x72\x5f\x6e\157\164\151\x66\151\x63\141\164\x69\157\156\137\144\145\x66\x61\165\154\x74", "\145\156\x74\162\x79\x5f\x73\155\x73", "\x65\156\164\x72\x79\137\x63\x6f\x64\x65", "\150\x65\154\x70\x5f\x73\x74\141\x74\165\163", "\x68\145\154\x70\137\x64\x65\142\x75\x67\147\x69\156\147\137\x6d\x6f\144\x65", "\x68\145\154\160\137\163\x6f\162\164\x5f\x6f\x72\144\145\x72", "\150\x65\x6c\160\137\145\143\157\x6d\x5f\x62\145\x61\162\145\162", "\150\145\154\160\137\164\162\141\x63\153\151\156\147\137\x62\145\x61\x72\145\x72", "\150\x65\154\x70\x5f\165\163\145\x72\x5f\164\157\x6b\145\x6e", "\150\145\154\160\x5f\151\155\x61\147\x65", "\150\145\154\160\x5f\151\155\x61\147\145\137\157\165\164\x70\x75\164\x5f\x70\x6c\141\143\x65", "\x68\145\154\x70\x5f\x63\165\x72\154\x5f\x63\x6f\x6e\156\x65\x63\x74\164\x69\155\145\x6f\165\x74", "\150\145\154\x70\137\x63\165\x72\154\x5f\x74\x69\155\145\157\x75\164", "\150\x65\154\160\x5f\x6d\145\164\150\157\x64\x5f\163\164\x61\164\165\x73", "\150\x65\154\x70\137\156\141\x6d\x65", "\150\145\x6c\160\x5f\147\x65\157\x5f\172\157\x6e\x65", "\150\145\154\x70\x5f\x74\141\170\137\x63\x6c\141\163\x73", "\x68\145\154\x70\x5f\x6d\x69\x6e\151\x6d\x75\155\137\157\162\144\145\162\x5f\141\155\x6f\165\156\x74", "\x68\145\x6c\x70\137\x6d\x61\170\151\x6d\165\155\137\157\162\144\x65\162\x5f\141\155\157\x75\156\x74", "\x68\145\154\x70\x5f\146\x72\145\x65\137\x73\150\151\x70\x70\151\x6e\147", "\x68\145\x6c\160\x5f\146\162\145\145\x5f\143\157\163\164\x5f\164\x65\x78\x74", "\150\x65\x6c\x70\137\143\157\163\x74", "\x68\145\x6c\x70\137\141\160\x69\x5f\143\x61\x6c\x63\165\x6c\141\164\x69\x6f\156", "\150\145\154\160\137\164\141\x72\151\x66\x66\137\143\141\x6c\x63\165\x6c\x61\x74\x69\x6f\x6e", "\150\145\x6c\160\x5f\x64\x65\154\151\166\x65\162\x79\137\160\145\162\151\x6f\x64", "\x68\x65\154\160\137\144\x65\x70\x61\162\x74\x6d\x65\x6e\164\137\x74\x79\x70\145\163", "\x68\145\x6c\160\137\x64\145\160\x61\162\x74\x6d\x65\156\164\x5f\163\164\x61\x74\165\163\x65\163", "\x68\145\x6c\160\137\x64\151\163\x63\x6f\x75\x6e\164", "\150\145\x6c\160\137\x64\145\x63\x6c\141\162\145\x64\x5f\143\x6f\x73\164\137\143\x6f\155\155\x69\x73\x73\x69\x6f\156", "\x68\145\x6c\160\137\x64\145\x63\x6c\x61\162\x65\x64\x5f\143\157\163\x74\x5f\x6d\x69\x6e\151\155\x75\x6d\x5f\143\x6f\x6d\x6d\x69\163\163\x69\157\x6e", "\x68\x65\154\x70\137\144\145\x63\154\x61\162\x65\x64\x5f\143\157\x73\x74\x5f\143\x6f\155\x6d\151\x73\163\x69\x6f\x6e\x5f\142\157\164\x74\157\x6d", "\x68\x65\x6c\x70\x5f\x75\x70\144\x61\x74\145\x5f\162\145\146\x65\x72\145\156\143\145\x73", "\150\x65\x6c\160\137\x75\x70\x64\x61\x74\x65\x5f\162\x65\147\151\157\x6e\x73", "\150\145\x6c\x70\137\x75\x70\x64\x61\x74\x65\137\143\151\164\x69\x65\163", "\150\x65\x6c\160\137\165\160\x64\141\x74\x65\x5f\144\x65\x70\141\x72\x74\155\x65\156\164\x73", "\150\145\154\160\x5f\163\145\x6e\144\145\x72", "\150\x65\x6c\x70\x5f\163\x65\156\144\x65\x72\137\x63\154\x69\x65\x6e\164\137\164\x79\x70\x65", "\x68\x65\x6c\x70\x5f\163\x65\156\144\145\x72\137\x74\x69\x6e", "\150\145\x6c\160\x5f\x73\145\x6e\144\145\x72\x5f\x65\144\162\160\x6f\165", "\150\145\154\160\137\163\x65\156\x64\x65\162\x5f\142\141\x6e\153\x5f\x61\x63\x63\157\x75\x6e\164", "\x68\x65\x6c\160\137\163\145\x6e\x64\x65\x72\137\145\x6d\x61\151\154", "\150\145\154\160\x5f\163\x65\x6e\144\x65\162\x5f\x70\x68\157\x6e\145", "\x68\145\x6c\160\137\x73\x65\x6e\x64\x65\162\137\x72\145\x67\151\x6f\156", "\x68\x65\x6c\x70\x5f\163\145\x6e\x64\x65\x72\x5f\x63\x69\164\171", "\150\145\154\160\137\163\x65\156\144\x65\162\137\x73\x74\x72\145\145\164", "\x68\x65\x6c\160\137\163\145\156\x64\145\x72\x5f\x68\157\x75\163\145", "\x68\145\154\x70\137\163\145\156\x64\145\x72\137\146\x6c\141\164", "\150\145\154\x70\x5f\x73\x65\x6e\x64\x65\162\137\160\x6f\x73\164\143\x6f\144\x65", "\x68\145\x6c\160\137\141\x64\x64\162\145\x73\x73\137\160\x69\143\x6b\x5f\x75\160", "\x68\145\154\160\137\x72\x65\143\x69\x70\151\145\x6e\x74", "\150\145\x6c\160\x5f\x72\145\143\x69\160\x69\x65\156\x74\137\x63\x6c\x69\x65\156\164\137\164\x79\160\145", "\x68\x65\x6c\160\x5f\x72\x65\143\x69\160\151\x65\156\164\137\x74\151\156", "\150\x65\x6c\160\137\x72\145\143\x69\160\151\145\x6e\x74\x5f\145\144\x72\x70\157\165", "\150\145\x6c\x70\x5f\x72\x65\143\151\160\x69\x65\x6e\x74\x5f\160\x68\157\156\x65", "\150\145\154\160\137\162\x65\x63\151\x70\x69\145\x6e\x74\137\162\x65\x67\x69\x6f\156", "\150\x65\154\x70\137\162\145\x63\151\x70\x69\145\x6e\164\x5f\x63\x69\x74\171", "\x68\145\154\160\137\x72\145\x63\151\x70\x69\145\156\164\137\x64\145\x70\141\x72\x74\x6d\145\156\x74", "\x68\x65\x6c\x70\x5f\x72\x65\x63\x69\x70\x69\145\x6e\x74\x5f\x61\144\x64\x72\x65\163\x73", "\x68\x65\154\160\x5f\x72\145\x63\151\160\x69\145\156\x74\137\x73\164\x72\x65\145\164", "\x68\x65\x6c\x70\x5f\162\x65\x63\151\x70\x69\145\156\164\x5f\150\157\x75\x73\145", "\150\145\154\x70\137\162\145\x63\151\160\x69\145\156\x74\x5f\x66\x6c\x61\164", "\x68\x65\154\160\x5f\x72\145\x63\x69\x70\x69\x65\156\164\137\x70\157\163\x74\x63\x6f\x64\x65", "\x68\x65\154\160\x5f\x63\x61\154\x63\x75\154\x61\x74\145\137\166\157\x6c\x75\x6d\x65", "\x68\145\x6c\160\x5f\x63\x61\x6c\143\x75\x6c\x61\164\145\x5f\166\157\154\165\x6d\x65\137\x74\x79\160\x65", "\150\145\x6c\160\137\x73\x65\x61\164\163\x5f\141\155\157\165\156\164", "\x68\145\x6c\160\137\144\145\x63\x6c\141\162\x65\144\x5f\143\157\x73\x74", "\150\x65\154\160\137\144\x65\143\154\x61\x72\145\144\137\x63\157\x73\x74\x5f\144\x65\x66\141\x75\154\164", "\150\x65\154\x70\x5f\x64\x65\x63\x6c\x61\162\x65\x64\137\x63\157\x73\164\x5f\x6d\151\156\151\x6d\165\x6d", "\150\x65\x6c\160\137\144\145\160\x61\x72\164\165\x72\145\137\x64\145\163\x63\162\151\160\x74\x69\x6f\156", "\150\x65\x6c\x70\137\x64\x65\154\151\166\145\x72\171\x5f\156\x6f\x74\x69\x66\151\x63\141\164\x69\x6f\x6e", "\150\x65\154\160\x5f\163\155\x73\x5f\x6d\x65\163\163\141\147\x65", "\150\145\x6c\x70\x5f\x63\x68\x65\143\x6b\x5f\157\x6e\x5f\x64\x65\154\x69\x76\x65\162\171", "\150\145\x6c\160\x5f\157\156\x5f\146\141\x69\x6c\x5f\162\145\143\x65\x69\166\145", "\x68\145\x6c\x70\x5f\x75\x73\145\x5f\x70\x61\x72\x61\x6d\145\164\x65\162\163", "\150\x65\154\160\x5f\167\145\x69\147\150\164", "\x68\145\154\x70\137\x77\145\x69\147\x68\x74\137\155\151\156\151\x6d\165\155", "\x68\145\x6c\x70\137\144\x69\x6d\145\x6e\x73\151\157\x6e\x73", "\150\x65\154\x70\x5f\x61\154\x6c\x6f\167\x61\x6e\x63\x65", "\x68\x65\154\x70\x5f\144\x65\154\x69\166\145\162\x79\137\x70\141\171\x65\x72", "\150\145\154\160\x5f\x70\x61\x79\155\145\156\164\137\143\x6f\x64", "\x68\145\154\x70\x5f\x63\x61\154\x63\165\154\141\164\145\137\x63\157\x64", "\x68\145\x6c\160\x5f\143\x61\x6c\x63\x75\x6c\x61\x74\x65\x5f\x64\145\x63\x6c\141\x72\145\x64\x5f\143\157\x73\164\x5f\x63\157\x6d\x6d", "\150\x65\x6c\160\137\142\141\143\153\x77\141\x72\x64\x5f\144\x65\x6c\x69\166\x65\162\x79\137\x70\141\x79\145\x72", "\150\x65\154\x70\x5f\155\x6f\x6e\145\171\x5f\x74\x72\141\156\163\x66\x65\x72\137\155\x65\x74\x68\157\144", "\150\145\x6c\160\137\142\157\x6e\165\x73\137\144\145\160\141\162\164\165\x72\145", "\150\x65\154\160\137\x64\151\163\x70\x6c\141\x79\x65\144\137\x69\x6e\x66\x6f\x72\x6d\x61\164\151\x6f\156", "\x68\145\x6c\160\x5f\160\x72\x69\x6e\164\137\164\x79\x70\x65", "\150\145\154\160\x5f\x70\162\151\x6e\164\137\x66\x6f\x72\x6d\141\164", "\150\x65\154\x70\137\160\162\151\x6e\x74\137\163\145\156\x64\145\162\x5f\156\x61\x6d\x65", "\x68\x65\154\x70\x5f\x70\x72\x69\x6e\164\137\x64\145\154\151\x76\x65\x72\171\x5f\160\x72\x69\x63\x65", "\150\145\154\x70\x5f\160\x72\x69\156\164\137\x64\145\x63\154\x61\162\x65\144\x5f\x70\x72\151\x63\x65", "\150\x65\x6c\160\137\x63\x6f\155\x70\141\x74\x69\x62\x6c\x65\137\x73\150\x69\160\x70\x69\x6e\147\x5f\x6d\145\164\150\x6f\x64", "\150\145\x6c\x70\x5f\143\x6f\156\x73\x69\x67\156\x6d\145\x6e\164\x5f\x63\162\x65\141\x74\x65", "\150\x65\x6c\160\x5f\x63\x6f\x6e\163\151\147\x6e\x6d\145\156\x74\137\145\144\151\x74", "\x68\x65\x6c\x70\137\x63\157\x6e\163\x69\x67\156\x6d\x65\x6e\164\137\x64\x65\x6c\145\164\145", "\150\145\x6c\x70\x5f\x63\157\156\x73\x69\x67\156\155\x65\156\164\x5f\x61\163\x73\x69\147\x6e\x6d\145\156\164\x5f\x74\157\137\157\162\144\145\x72", "\x68\145\154\160\x5f\x6b\145\x79\x5f\143\x72\157\156", "\x68\145\x6c\160\x5f\164\162\x61\143\x6b\x69\x6e\x67\137\x73\164\141\x74\x75\163\x65\x73", "\x74\145\170\164\x5f\x63\157\x6e\x66\151\162\x6d", "\x74\145\170\x74\137\x63\x6f\x6e\164\x61\x63\164\163", "\164\x65\170\x74\x5f\151\156\x73\164\x72\165\x63\x74\151\157\156", "\x74\x65\170\x74\137\144\157\x63\x75\155\x65\x6e\x74\x61\164\x69\x6f\x6e\137\141\160\151", "\164\x65\x78\x74\137\x6f\146\x66\151\143\x69\141\x6c\137\167\x65\x62\163\151\164\145", "\164\x65\x78\x74\137\x73\145\164\x74\151\156\147\x73", "\164\x65\170\x74\137\147\x6c\157\x62\x61\x6c", "\164\145\170\164\x5f\x65\156\x61\x62\x6c\145\x64", "\164\145\170\164\137\x64\x69\x73\x61\x62\154\x65\x64", "\164\145\x78\164\x5f\x61\154\x6c\137\172\x6f\156\145\163", "\x74\x65\170\x74\x5f\156\x6f\156\x65", "\164\x65\170\x74\x5f\x79\x65\163", "\x74\x65\x78\164\137\x6e\x6f", "\164\x65\x78\x74\x5f\x73\145\154\145\x63\x74", "\164\x65\170\x74\x5f\x76\x65\162\151\146\151\143\x61\164\151\157\x6e\x5f\145\x63\x6f\x6d\137\x62\x65\x61\x72\x65\x72", "\x74\x65\x78\164\137\145\170\x70\162\145\x73\163\137\x64\x65\x70\141\x72\164\155\145\x6e\164", "\164\145\170\x74\x5f\145\170\160\162\145\x73\163\137\144\157\157\162\x73", "\x74\x65\x78\164\137\x73\164\x61\x6e\144\141\162\144\137\x64\x65\160\x61\162\x74\155\x65\156\x74", "\164\x65\170\164\x5f\x73\x74\x61\x6e\x64\x61\162\x64\x5f\144\157\x6f\162\163", "\164\x65\170\x74\x5f\x65\x78\x70\162\145\x73\163\137\164\141\162\151\146\x66\x73", "\164\x65\170\164\137\163\x74\141\x6e\144\x61\x72\144\x5f\x74\x61\162\151\146\x66\x73", "\x74\145\170\164\x5f\x63\157\x64\137\164\x61\162\x69\x66\x66\163", "\164\x65\170\x74\137\x61\x6c\154", "\164\x65\x78\x74\137\147\162\156", "\x74\x65\x78\x74\x5f\153\147", "\164\145\170\164\x5f\x63\155", "\164\145\x78\x74\x5f\160\x63\x74", "\164\x65\x78\164\137\150\145\154\x70\x5f\163\x65\x6e\x64\145\162\x5f\x73\x61\166\145", "\164\x65\170\164\x5f\150\145\154\x70\137\x73\x65\156\144\145\162\137\163\145\141\x72\x63\150", "\164\145\x78\x74\x5f\x64\145\146\x61\165\x6c\x74\137\x64\x65\160\x61\162\164\165\x72\x65\x5f\x6f\160\x74\151\157\156\x73", "\164\x65\x78\x74\137\x63\157\156\x73\x69\147\156\155\x65\156\164\x5f\x6e\x6f\x74\145\x5f\143\x72\145\141\164\x69\x6e\x67", "\164\x65\170\x74\x5f\x63\x6f\156\x73\151\x67\x6e\x6d\145\156\164\137\x6e\x6f\164\x65\137\x6c\x69\x73\164", "\164\145\170\164\x5f\160\162\151\x6e\164\x5f\163\x65\164\x74\151\156\x67\163", "\164\145\170\x74\137\151\x6e\164\145\x67\x72\141\164\151\x6f\156\x5f\167\x69\164\x68\137\157\x72\144\145\162\x73", "\x74\x65\170\164\137\x62\141\163\x65\x5f\165\x70\144\x61\x74\145", "\164\145\170\x74\137\144\x65\160\141\x72\x74\165\162\x65\163\x5f\164\x72\141\143\153\x69\x6e\x67", "\164\x65\x78\x74\137\163\x65\x74\164\x69\x6e\147\x73\137\144\x65\160\141\162\x74\165\162\x65\x73\137\163\164\141\x74\165\x73\x65\x73", "\x74\x65\x78\164\x5f\x6d\145\x73\x73\141\x67\x65\x5f\x74\145\155\x70\x6c\x61\164\x65\137\155\x61\x63\162\x6f\x73", "\x74\145\170\164\137\x68\145\x6c\x70\137\x63\162\x6f\x6e", "\164\x65\170\164\137\x6f\162\144\x65\162\x5f\x74\x65\155\160\154\x61\x74\145\x5f\155\141\143\162\157\x73", "\x74\x65\x78\164\x5f\x70\162\x6f\x64\x75\x63\x74\x73\x5f\164\x65\155\160\x6c\141\x74\x65\x5f\x6d\141\143\x72\157\x73", "\164\145\x78\164\137\143\156\x5f\x74\145\x6d\x70\154\x61\164\145\x5f\155\141\x63\162\x6f\x73", "\164\x65\x78\x74\137\155\141\143\x72\157\x73"); foreach ($language_variables as $l_v) { $data[$l_v] = $this->language->get($l_v); } } $data["\x74\145\170\164\x5f\x68\x65\x6c\160\137\151\x6e\x74\x65\x67\x72\x61\164\x69\x6f\156\x5f\x77\151\x74\150\137\157\x72\144\145\x72\163"] = sprintf($this->language->get("\164\x65\x78\x74\137\x68\x65\154\x70\x5f\151\x6e\164\x65\147\x72\x61\x74\x69\x6f\156\137\x77\x69\x74\150\137\157\x72\144\x65\x72\x73"), DB_PREFIX, $this->extension); if (isset($this->request->get["\163\x74\x6f\x72\145\x5f\x69\144"])) { $store_settings = $this->model_setting_setting->getSetting($extension_code, $this->request->get["\163\164\x6f\x72\145\x5f\151\x64"]); if (isset($store_settings[$extension_code . "\137\163\164\x61\164\165\163"])) { $this->config->set($extension_code . "\x5f\163\x74\x61\x74\165\x73", $store_settings[$extension_code . "\x5f\x73\x74\x61\164\165\163"]); } if (isset($store_settings[$extension_code . "\137\163\157\x72\164\137\x6f\x72\x64\145\x72"])) { $this->config->set($extension_code . "\x5f\x73\157\x72\164\137\x6f\162\x64\x65\x72", $store_settings[$extension_code . "\x5f\163\x6f\162\164\137\157\x72\144\x65\162"]); } if (isset($store_settings[$extension_code])) { $this->settings = $store_settings[$extension_code]; } $data["\163\164\x6f\162\x65\x5f\x69\x64"] = $this->request->get["\163\x74\157\162\145\x5f\151\x64"]; } else { $data["\163\x74\x6f\x72\145\x5f\x69\144"] = $this->config->get("\x63\157\x6e\146\x69\x67\x5f\x73\x74\157\x72\x65\x5f\x69\144"); } $data["\163\164\x6f\162\x65\163"][] = array("\x73\x74\x6f\162\145\137\151\144" => 0, "\x6e\x61\155\145" => $this->config->get("\x63\x6f\x6e\146\x69\x67\137\156\141\155\145") . $this->language->get("\164\145\x78\164\x5f\144\x65\x66\x61\x75\x6c\164")); $this->load->model("\163\x65\164\164\x69\156\x67\x2f\x73\164\x6f\x72\x65"); $stores = $this->model_setting_store->getStores(); foreach ($stores as $store) { $data["\163\164\x6f\162\145\x73"][] = array("\163\x74\x6f\162\145\x5f\151\x64" => $store["\163\x74\x6f\162\145\x5f\151\144"], "\156\141\155\x65" => $store["\x6e\141\155\145"]); } $this->load->model("\164\157\157\x6c\57\151\155\141\x67\x65"); $data["\160\154\141\x63\145\x68\x6f\154\x64\145\162"] = $this->model_tool_image->resize("\x6e\x6f\137\x69\x6d\x61\x67\145\56\160\156\x67", 100, 100); $this->load->model("\x6c\157\x63\141\x6c\x69\163\x61\x74\x69\157\156\57\x6c\141\x6e\147\x75\x61\x67\x65"); $data["\x6c\141\x6e\147\x75\141\147\145\x73"] = $this->model_localisation_language->getLanguages(); $data["\154\141\x6e\x67\165\141\147\x65\x5f\151\x64"] = ''; foreach ($data["\154\x61\x6e\147\165\x61\147\x65\x73"] as $language) { if ($language["\x63\x6f\x64\145"] == $this->config->get("\x63\x6f\156\146\x69\147\137\x61\144\155\x69\x6e\x5f\154\141\156\x67\x75\x61\147\145")) { $data["\x6c\141\156\x67\165\141\x67\145\x5f\151\x64"] = $language["\154\x61\x6e\147\165\141\147\145\137\151\144"]; } if (version_compare(VERSION, "\x32\x2e\x32", "\76\75")) { $data["\154\x61\x6e\x67\x75\141\147\x65\137\x66\x6c\x61\x67"][$language["\x6c\141\x6e\x67\x75\x61\147\145\x5f\151\x64"]] = "\x6c\141\156\x67\x75\141\147\x65\x2f" . $language["\143\157\x64\145"] . "\x2f" . $language["\x63\157\144\145"] . "\x2e\x70\x6e\x67"; } else { $data["\x6c\141\x6e\147\165\x61\x67\x65\x5f\x66\x6c\x61\x67"][$language["\154\141\x6e\147\x75\x61\147\145\x5f\151\x64"]] = "\x76\x69\x65\167\57\x69\x6d\x61\147\145\x2f\x66\154\141\147\x73\x2f" . $language["\151\x6d\141\147\145"]; } } $this->load->model("\x6c\157\x63\141\x6c\151\x73\141\164\x69\x6f\156\57\147\145\157\137\172\x6f\156\145"); $data["\x67\145\x6f\x5f\x7a\157\x6e\x65\x73"] = $this->model_localisation_geo_zone->getGeoZones(); $this->load->model("\x6c\x6f\x63\141\154\x69\x73\x61\164\x69\157\x6e\x2f\164\x61\x78\x5f\x63\x6c\x61\x73\x73"); $data["\164\x61\170\137\x63\154\141\163\163\x65\163"] = $this->model_localisation_tax_class->getTaxClasses(); $this->load->model("\154\157\143\141\154\151\163\141\x74\x69\x6f\156\57\x7a\157\156\x65"); $data["\x7a\x6f\x6e\145\163"] = $this->model_localisation_zone->getZonesByCountryId($this->config->get("\x63\157\x6e\146\x69\x67\x5f\x63\x6f\165\156\x74\162\171\x5f\x69\144")); $this->load->model("\x6c\x6f\x63\141\154\x69\163\141\x74\151\157\x6e\x2f\157\162\144\x65\162\x5f\163\164\141\164\165\163"); $data["\x6f\x72\x64\x65\162\137\x73\x74\141\x74\x75\x73\145\x73"] = $this->model_localisation_order_status->getOrderStatuses(); if (isset($this->request->post[$extension_code . "\137\163\164\141\164\x75\163"])) { $data[$this->extension . "\x5f\x73\164\x61\164\x75\163"] = $this->request->post[$extension_code . "\x5f\x73\164\141\x74\x75\163"]; } else { $data[$this->extension . "\137\163\164\x61\x74\x75\x73"] = $this->config->get($extension_code . "\x5f\163\x74\x61\164\x75\163"); } if (isset($this->request->post[$extension_code . "\x5f\163\x6f\162\164\137\x6f\x72\x64\x65\162"])) { $data[$this->extension . "\137\163\x6f\162\x74\137\157\x72\144\145\x72"] = $this->request->post[$extension_code . "\137\163\157\x72\164\x5f\x6f\162\x64\x65\162"]; } else { $data[$this->extension . "\137\x73\157\162\164\x5f\157\x72\x64\145\162"] = $this->config->get($extension_code . "\137\x73\157\162\164\x5f\157\x72\144\x65\162"); } if (isset($this->request->post[$extension_code])) { $data[$this->extension] = $this->request->post[$extension_code]; } else { $data[$this->extension] = $this->settings; } if (isset($this->request->post[$extension_code]["\x69\155\x61\147\145"]) && is_file(DIR_IMAGE . $this->request->post[$extension_code]["\x69\155\x61\x67\x65"])) { $data["\164\150\165\x6d\142"] = $this->model_tool_image->resize($this->request->post[$extension_code]["\151\155\141\147\x65"], 100, 100); } else { if (!empty($this->settings["\151\x6d\x61\147\x65"]) && is_file(DIR_IMAGE . $this->settings["\x69\x6d\141\x67\x65"])) { $data["\x74\150\x75\x6d\142"] = $this->model_tool_image->resize($this->settings["\151\x6d\141\147\x65"], 100, 100); } else { $data["\x74\x68\165\155\x62"] = $this->model_tool_image->resize("\x6e\157\x5f\x69\155\x61\x67\x65\56\x70\156\147", 100, 100); } } $references = $this->ukrposhta->getReferences(); if (isset($references["\144\x65\160\141\x72\164\155\x65\156\x74\x5f\164\171\x70\x65\163"]) && is_array($references["\144\145\x70\x61\x72\164\155\x65\156\x74\x5f\164\x79\x70\x65\x73"])) { $data["\144\x65\x70\141\x72\164\x6d\x65\x6e\x74\137\x74\171\160\145\x73"] = $references["\144\x65\160\x61\162\x74\155\x65\156\164\137\x74\171\x70\x65\x73"]; } else { $data["\144\x65\x70\x61\x72\164\155\x65\156\x74\x5f\x74\171\160\x65\163"] = array(); } if (isset($references["\x64\145\160\x61\x72\x74\x6d\x65\156\164\137\163\164\141\x74\x75\163\145\x73"]) && is_array($references["\x64\145\160\x61\x72\164\155\x65\156\164\137\x73\164\141\x74\165\x73\x65\163"])) { $data["\x64\x65\160\x61\x72\x74\155\145\156\164\x5f\x73\164\141\x74\x75\x73\145\163"] = $references["\144\145\160\x61\162\x74\x6d\x65\x6e\x74\137\163\164\x61\164\165\x73\145\163"]; } else { $data["\x64\x65\x70\x61\162\164\155\x65\x6e\x74\x5f\163\164\x61\x74\x75\x73\145\163"] = array(); } if (isset($references["\144\145\154\x69\x76\145\162\171\137\164\x79\160\145\x73"]) && is_array($references["\144\x65\x6c\x69\166\x65\162\x79\x5f\164\171\160\145\x73"])) { $data["\x64\145\x6c\x69\166\x65\x72\x79\137\164\171\160\145\163"] = $references["\144\145\x6c\151\x76\145\162\x79\x5f\x74\x79\160\145\x73"]; } else { $data["\x64\145\x6c\x69\x76\x65\x72\x79\137\164\x79\x70\x65\163"] = array(); } if (isset($references["\x64\x61\x74\x61\x62\141\163\145"])) { $data["\144\141\164\141\142\x61\x73\145"] = $references["\144\x61\x74\141\x62\x61\163\145"]; } else { $data["\x64\x61\x74\x61\142\x61\x73\145"] = array(); } if (isset($references["\143\x6c\151\145\x6e\164\x5f\164\171\x70\x65\163"]) && is_array($references["\143\154\151\x65\x6e\164\137\164\x79\160\x65\x73"])) { $data["\x63\154\x69\145\156\x74\137\x74\x79\x70\145\163"] = $references["\143\154\x69\145\156\164\137\x74\x79\x70\145\x73"]; } else { $data["\x63\154\x69\x65\156\x74\137\164\171\x70\145\x73"] = array(); } if (isset($references["\x66\141\x69\x6c\x5f\162\145\x63\145\151\166\x65\x5f\x74\x79\x70\x65\x73"]) && is_array($references["\146\x61\151\x6c\x5f\x72\x65\143\x65\x69\166\145\x5f\164\171\x70\x65\163"])) { $data["\x66\141\x69\x6c\x5f\162\145\143\145\x69\x76\x65\x5f\x74\x79\160\x65\163"] = $references["\x66\141\x69\x6c\x5f\162\x65\143\x65\x69\166\x65\137\164\x79\x70\x65\163"]; } else { $data["\x66\141\x69\x6c\137\162\145\143\145\x69\x76\x65\137\164\x79\160\x65\x73"] = array(); } if (isset($references["\x70\141\x79\145\162\x5f\x74\x79\x70\145\x73"]) && is_array($references["\x70\141\x79\145\x72\x5f\164\171\160\145\x73"])) { $data["\160\141\x79\x65\x72\x5f\x74\171\160\x65\x73"] = $references["\x70\141\x79\145\x72\137\x74\x79\160\x65\x73"]; } else { $data["\160\141\171\x65\162\x5f\x74\x79\x70\x65\x73"] = array(); } if (isset($references["\142\x61\143\153\167\141\162\144\137\144\145\x6c\x69\x76\x65\162\x79\x5f\x70\141\x79\x65\x72\163"]) && is_array($references["\142\x61\143\153\167\x61\x72\144\137\x64\x65\154\151\x76\x65\x72\x79\x5f\160\141\x79\145\x72\x73"])) { $data["\x62\141\x63\153\x77\x61\x72\x64\x5f\144\145\154\151\x76\145\x72\171\137\x70\x61\x79\145\162\163"] = $references["\x62\141\143\153\x77\x61\162\x64\137\x64\x65\x6c\151\166\x65\162\171\137\160\x61\171\145\162\x73"]; } else { $data["\142\141\143\153\x77\x61\x72\144\x5f\144\145\154\151\166\x65\162\x79\137\x70\141\171\x65\162\x73"] = array(); } if (isset($references["\163\x68\x69\160\x6d\x65\x6e\164\x5f\x73\x74\x61\x74\x75\x73\145\163"]) && is_array($references["\x73\150\x69\160\155\145\156\164\x5f\x73\164\141\x74\x75\x73\x65\163"])) { $data["\163\150\151\x70\155\x65\156\164\137\x73\x74\x61\164\165\x73\145\163"] = $references["\x73\x68\151\160\x6d\145\x6e\164\137\163\164\141\x74\x75\x73\145\x73"]; } else { $data["\163\x68\151\160\155\x65\156\x74\x5f\x73\164\x61\164\x75\x73\145\x73"] = array(); } $data["\162\x65\147\x69\x6f\156\163"] = $this->ukrposhta->getRegions(); $data["\x69\x6d\x61\x67\x65\137\157\165\164\160\x75\x74\137\x70\x6c\141\143\x65\163"] = array("\x74\151\164\x6c\145" => $this->language->get("\x74\x65\170\164\x5f\x69\x6d\x61\x67\x65\137\x6f\x75\x74\x70\165\x74\137\x70\x6c\x61\143\145\137\164\x69\164\154\145"), "\x69\155\147\x5f\x6b\145\171" => $this->language->get("\x74\x65\x78\164\137\151\155\141\x67\145\137\157\165\164\160\165\164\x5f\160\x6c\x61\143\x65\x5f\151\155\147\137\x6b\145\171")); $data["\143\141\154\x63\x75\154\141\164\145\x5f\166\157\x6c\165\155\145\137\164\171\x70\145\x73"] = array("\x73\165\x6d\x5f\141\154\154\137\160\162\157\144\165\x63\x74\x73" => $this->language->get("\x74\145\x78\164\x5f\163\165\x6d\137\141\x6c\154\137\160\162\157\x64\x75\x63\164\x73\137\x76\157\x6c\165\x6d\145"), "\154\141\162\x67\x65\163\x74\x5f\160\x72\x6f\x64\165\x63\164" => $this->language->get("\x74\145\170\164\x5f\154\141\162\x67\145\x73\164\137\x70\x72\157\144\x75\x63\x74\x5f\x76\157\x6c\x75\x6d\145")); $data["\x75\x73\145\137\160\141\x72\141\x6d\145\x74\145\x72\163"] = array("\x70\162\157\x64\x75\x63\x74\x73\137\167\151\164\x68\x6f\165\x74\137\x70\141\x72\141\155\x65\164\145\x72\163" => $this->language->get("\x74\x65\x78\164\x5f\160\162\157\144\x75\143\164\x73\137\x77\x69\164\x68\157\165\164\137\x70\141\162\x61\x6d\145\164\x65\162\163"), "\141\154\x6c\137\160\162\x6f\x64\165\x63\164\x73" => $this->language->get("\x74\145\x78\164\137\141\154\x6c\x5f\160\x72\157\x64\x75\143\164\163"), "\x77\x68\157\154\145\x5f\x6f\162\x64\145\x72" => $this->language->get("\164\145\170\x74\137\167\150\x6f\x6c\x65\137\157\162\144\x65\162")); $data["\x63\x61\x6c\143\x75\154\x61\x74\x65\137\x63\157\x64\x5f\x74\171\160\145\163"] = array("\144\151\163\141\x62\154\x65\x64" => $this->language->get("\164\145\x78\164\x5f\144\x69\x73\x61\x62\154\145\x64"), "\x65\156\141\x62\154\145\x64" => $this->language->get("\164\x65\x78\164\137\145\156\x61\x62\154\145\x64"), "\x61\x6c\x6c\137\160\141\171\155\x65\x6e\x74\137\x6d\x65\164\x68\157\144\x73" => $this->language->get("\164\x65\170\x74\x5f\145\x6e\141\x62\154\145\x5f\146\157\162\x5f\x61\154\x6c\137\x70\x61\x79\x6d\145\x6e\x74\137\155\x65\x74\150\x6f\144\x73")); $data["\155\157\x6e\x65\x79\137\x74\x72\141\x6e\x73\x66\x65\162\x5f\x6d\145\x74\x68\157\x64\x73"] = array("\157\x6e\137\x64\x65\160\141\x72\164\155\x65\156\x74" => $this->language->get("\164\145\x78\x74\137\x6f\156\137\144\145\x70\x61\162\x74\155\x65\156\x74"), "\x74\157\x5f\x62\141\156\x6b\x5f\x61\143\143\x6f\x75\156\x74" => $this->language->get("\164\x65\170\164\137\164\x6f\137\142\141\156\x6b\137\141\143\143\x6f\165\156\164")); $data["\x63\x6f\156\x73\151\147\x6e\x6d\x65\x6e\164\x5f\144\151\163\x70\x6c\x61\x79\145\144\137\151\156\146\157\x72\155\x61\164\151\x6f\156"] = array("\x63\156\x5f\151\x64\x65\x6e\x74\151\146\151\145\162" => $this->language->get("\143\157\154\x75\155\x6e\x5f\x63\x6e\x5f\x69\x64\x65\x6e\164\151\146\151\145\162"), "\x63\156\137\156\x75\x6d\142\145\x72" => $this->language->get("\x63\x6f\x6c\x75\x6d\156\137\x63\x6e\137\156\165\155\142\x65\162"), "\x6f\162\144\145\162\137\156\165\x6d\142\x65\x72" => $this->language->get("\x63\157\154\x75\155\x6e\137\x6f\x72\144\x65\162\137\156\x75\x6d\x62\145\x72"), "\163\x68\151\160\x6d\x65\156\164\x5f\147\x72\157\x75\160" => $this->language->get("\143\x6f\x6c\x75\x6d\156\137\x73\x68\x69\160\155\145\156\164\137\147\x72\x6f\x75\160"), "\145\163\x74\151\x6d\x61\164\145\x64\137\163\x68\151\160\160\151\156\x67\137\x64\x61\164\x65" => $this->language->get("\143\x6f\154\x75\x6d\x6e\137\145\x73\164\151\x6d\x61\x74\x65\144\x5f\x73\x68\151\160\160\151\x6e\147\137\144\141\164\x65"), "\x6c\x61\x73\164\x5f\x75\160\x64\x61\x74\145\x64\137\x73\x74\x61\x74\165\x73\x5f\x64\141\x74\x65" => $this->language->get("\143\157\x6c\165\155\156\x5f\154\x61\x73\164\x5f\x75\x70\x64\141\x74\x65\144\137\x73\164\141\x74\165\163\137\x64\x61\x74\x65"), "\154\x61\x73\x74\x5f\155\157\144\151\x66\151\x65\x64\x5f\x64\141\x74\x65" => $this->language->get("\143\x6f\x6c\x75\155\x6e\x5f\x6c\x61\x73\x74\x5f\155\157\144\x69\146\151\145\144\x5f\144\141\164\x65"), "\x73\145\156\144\145\162" => $this->language->get("\x63\x6f\154\x75\x6d\156\137\x73\x65\x6e\x64\x65\162"), "\163\x65\x6e\x64\145\x72\x5f\x70\150\157\x6e\145" => $this->language->get("\x63\157\x6c\165\x6d\x6e\137\163\x65\x6e\144\x65\x72\x5f\160\x68\x6f\156\x65"), "\x73\x65\x6e\x64\x65\x72\x5f\141\x64\144\x72\x65\x73\x73" => $this->language->get("\143\x6f\x6c\x75\x6d\x6e\137\163\x65\156\144\145\162\x5f\141\x64\144\x72\145\x73\x73"), "\162\145\143\x69\160\x69\145\156\164" => $this->language->get("\143\x6f\154\x75\x6d\156\x5f\162\145\x63\151\x70\151\145\156\x74"), "\x72\145\x63\x69\x70\151\145\156\164\137\x70\150\x6f\x6e\x65" => $this->language->get("\143\157\x6c\x75\155\x6e\x5f\x72\x65\x63\151\160\x69\145\156\x74\137\x70\150\x6f\x6e\145"), "\x72\145\143\x69\160\x69\145\156\164\x5f\x61\x64\x64\x72\x65\163\x73" => $this->language->get("\143\x6f\x6c\165\x6d\156\x5f\162\x65\x63\151\x70\x69\145\156\x74\x5f\x61\x64\144\x72\145\163\x73"), "\167\145\151\x67\x68\x74" => $this->language->get("\143\x6f\x6c\165\155\x6e\x5f\x77\145\x69\147\x68\164"), "\163\x65\141\x74\x73\x5f\141\155\157\x75\x6e\164" => $this->language->get("\x63\157\154\x75\155\156\x5f\163\145\141\x74\163\x5f\x61\x6d\157\165\x6e\164"), "\x64\x65\x63\154\141\x72\145\144\x5f\x63\157\163\164" => $this->language->get("\x63\x6f\x6c\x75\x6d\156\x5f\144\x65\x63\x6c\141\x72\x65\x64\137\x63\x6f\x73\x74"), "\163\x68\151\160\x70\x69\156\x67\137\143\157\x73\164" => $this->language->get("\x63\x6f\154\165\155\x6e\137\163\x68\x69\x70\x70\151\x6e\x67\x5f\143\x6f\x73\x74"), "\x62\x61\143\153\167\x61\162\144\137\144\x65\154\x69\x76\x65\162\x79" => $this->language->get("\x63\157\154\x75\155\156\137\142\141\143\x6b\x77\141\162\x64\x5f\x64\x65\x6c\x69\x76\x65\x72\171"), "\x64\145\x6c\151\166\145\162\x79\x5f\164\x79\160\x65" => $this->language->get("\143\x6f\x6c\x75\x6d\x6e\137\x64\145\x6c\151\x76\x65\x72\171\x5f\164\x79\x70\145"), "\144\145\x6c\151\166\x65\162\x79\137\164\x65\x63\x68\156\x6f\x6c\157\x67\171" => $this->language->get("\x63\x6f\154\165\x6d\x6e\137\144\x65\154\151\x76\x65\162\171\x5f\164\145\x63\150\x6e\157\154\x6f\x67\171"), "\144\145\163\x63\x72\151\160\x74\x69\x6f\x6e" => $this->language->get("\x63\x6f\x6c\x75\155\x6e\x5f\x64\x65\163\143\162\x69\x70\164\x69\157\156"), "\x64\145\154\151\166\145\x72\171\137\160\x61\x79\x65\x72" => $this->language->get("\143\157\154\165\155\156\x5f\x64\x65\x6c\151\x76\x65\162\171\137\x70\x61\171\x65\x72"), "\x73\164\141\x74\x75\x73" => $this->language->get("\x63\x6f\154\165\x6d\156\137\x73\164\x61\164\x75\163")); $data["\160\x72\151\156\164\137\164\x79\x70\x65\163"] = array("\x73\164\x69\143\x6b\x65\x72" => $this->language->get("\x74\145\170\164\x5f\141\x64\x64\x72\145\x73\163\137\x73\x74\x69\x63\153\145\x72\137\x31\x30\60\170\61\x30\x30"), "\x73\x74\x69\143\153\145\162\x5f\147\162\157\165\160" => $this->language->get("\164\x65\x78\164\x5f\141\144\x64\x72\145\163\x73\137\163\164\x69\x63\x6b\145\162\x5f\x67\162\x6f\165\160\x5f\61\60\x30\170\x31\x30\60"), "\146\157\162\x6d\x31\60\x33\x61" => $this->language->get("\164\145\170\164\x5f\147\162\x6f\165\160\x5f\146\x6f\162\155\x5f\x31\x30\x33\141")); $data["\160\162\151\156\164\137\x66\x6f\162\155\141\164\163"] = array("\101\64" => $this->language->get("\164\145\170\164\x5f\x61\64"), "\x41\x35" => $this->language->get("\164\x65\x78\164\137\x61\x35")); $data["\x74\x69\155\145"] = array("\150\157\x75\x72" => $this->language->get("\x74\145\170\x74\x5f\x68\157\x75\x72"), "\144\x61\x79" => $this->language->get("\164\x65\170\164\x5f\x64\141\x79"), "\x6d\157\x6e\164\x68" => $this->language->get("\164\x65\170\164\137\155\x6f\156\x74\150"), "\171\145\x61\162" => $this->language->get("\x74\x65\170\164\137\171\145\141\x72")); if ($this->config->get("\143\157\156\x66\151\147\x5f\x73\x65\x63\165\x72\145")) { $protocol = "\x68\164\164\160\x73\72\x2f\57"; } else { $protocol = "\x68\x74\x74\160\72\57\x2f"; } if (!empty($this->settings["\153\x65\171\137\143\x72\157\156"])) { $key_cron = $this->settings["\153\x65\x79\137\143\x72\x6f\x6e"]; } else { $key_cron = ''; } $cron_path = "\x2f\x75\x73\162\57\x62\x69\156\x2f\x77\x67\145\164\x20\x2d\55\x6e\157\55\x63\150\145\x63\153\x2d\143\x65\162\x74\151\x66\151\143\141\x74\145\40\55\x4f\40\x2d\40\55\x71\40\55\x74\x20\x31"; $data["\x63\x72\157\x6e\137\165\x70\x64\x61\x74\x65\137\162\145\146\145\x72\145\x6e\143\x65\x73"] = $cron_path . "\x20\x27" . $protocol . $_SERVER["\x48\124\124\120\137\x48\117\123\124"] . "\x2f\151\156\144\145\x78\56\160\x68\160\x3f\x72\157\165\164\145\75" . $extension_path . "\155\157\144\x75\x6c\x65\57" . $this->extension . "\x5f\x63\x72\x6f\x6e\57\x75\160\144\x61\164\x65\x26\x74\x79\160\x65\75\x72\145\x66\145\162\x65\156\x63\x65\x73\46\x6b\145\x79\x3d" . $key_cron . "\47"; $data["\143\162\x6f\x6e\x5f\x75\x70\x64\141\x74\x65\137\x72\x65\147\x69\157\x6e\x73"] = $cron_path . "\40\x27" . $protocol . $_SERVER["\x48\124\124\x50\137\x48\117\x53\124"] . "\x2f\x69\x6e\144\145\170\56\x70\150\160\x3f\162\157\165\x74\145\75" . $extension_path . "\x6d\x6f\144\x75\x6c\x65\57" . $this->extension . "\137\143\162\157\x6e\57\165\160\x64\141\x74\145\x26\x74\171\x70\145\x3d\x72\145\x67\151\157\x6e\163\x26\153\145\171\75" . $key_cron . "\47"; $data["\x63\162\x6f\x6e\x5f\165\160\144\x61\x74\145\x5f\x63\151\x74\151\145\x73"] = $cron_path . "\40\47" . $protocol . $_SERVER["\x48\x54\124\x50\x5f\x48\x4f\123\x54"] . "\x2f\151\156\x64\145\170\56\160\x68\x70\x3f\x72\157\x75\x74\145\x3d" . $extension_path . "\x6d\157\144\165\x6c\x65\57" . $this->extension . "\x5f\x63\x72\x6f\x6e\57\x75\160\x64\x61\164\145\46\x74\171\x70\x65\x3d\143\151\164\x69\145\163\x26\x6b\x65\x79\x3d" . $key_cron . "\47"; $data["\x63\162\x6f\x6e\137\165\160\144\141\x74\145\x5f\144\145\x70\141\x72\164\x6d\145\x6e\164\x73"] = $cron_path . "\x20\47" . $protocol . $_SERVER["\110\x54\124\x50\x5f\110\117\x53\124"] . "\57\151\x6e\x64\x65\170\x2e\160\150\x70\77\162\157\165\164\145\x3d" . $extension_path . "\155\157\x64\x75\x6c\x65\57" . $this->extension . "\x5f\x63\x72\157\156\57\x75\160\x64\x61\164\x65\46\x74\171\160\x65\75\144\145\x70\141\162\x74\155\x65\x6e\164\163\46\x6b\145\x79\x3d" . $key_cron . "\x27"; $data["\143\162\x6f\x6e\137\x64\145\160\141\x72\164\x75\162\x65\163\x5f\x74\x72\141\x63\x6b\x69\x6e\x67"] = $cron_path . "\40\x27" . $protocol . $_SERVER["\x48\x54\124\120\x5f\110\117\x53\x54"] . "\x2f\x69\x6e\x64\x65\170\56\x70\x68\x70\77\x72\x6f\x75\164\145\x3d" . $extension_path . "\x6d\x6f\x64\x75\x6c\x65\x2f" . $this->extension . "\x5f\143\162\x6f\x6e\57\x64\145\x70\x61\x72\x74\165\x72\145\163\x54\162\x61\143\x6b\151\x6e\x67\x26\x6b\x65\171\x3d" . $key_cron . "\x27"; $data["\143\162\x6f\x6e\x5f\144\x65\x70\x61\162\164\x75\x72\145\x73\x5f\164\162\141\x63\153\151\156\147\137\150\162\145\x66"] = $protocol . $_SERVER["\x48\124\x54\120\137\110\x4f\x53\124"] . "\x2f\151\156\x64\145\x78\x2e\x70\x68\x70\x3f\x72\x6f\165\x74\x65\75" . $extension_path . "\x6d\157\144\165\154\145\x2f" . $this->extension . "\x5f\x63\x72\157\156\x2f\x64\145\x70\141\x72\164\165\162\145\x73\x54\x72\x61\143\x6b\151\x6e\147\46\153\x65\x79\75" . $key_cron; $data["\166"] = $this->version; $data["\x6c\151\x63\145\x6e\x73\x65"] = $this->license; $data["\151\x6e\x73\x74\162\x75\x63\164\151\157\x6e\137\x68\x72\145\146"] = "\150\x74\x74\x70\x73\x3a\x2f\57\x31\157\x63\55\155\141\170\56\143\157\155\x2f\x64\157\x63\x73\x2f" . $this->extension . "\57\151\156\x73\164\x72\165\143\x74\x69\157\156\x2e\150\164\x6d\x6c"; $data["\144\157\x63\x75\x6d\x65\x6e\164\x61\x74\151\x6f\x6e\x5f\x61\160\x69\137\150\x72\x65\x66"] = "\150\164\164\160\163\72\x2f\57\x64\x65\x76\56\x75\153\x72\160\x6f\163\x68\x74\x61\x2e\165\141\57\144\x6f\143\165\155\x65\x6e\x74\x61\164\151\157\156"; $data["\157\x66\146\151\143\x69\141\x6c\x5f\167\145\x62\163\x69\x74\x65\137\x68\x72\x65\146"] = "\150\x74\x74\x70\163\72\x2f\x2f\x75\x6b\x72\x70\x6f\163\x68\164\x61\x2e\165\x61\57"; if ($this->language->get("\x63\157\x64\145") == "\165\x61" || $this->language->get("\143\157\144\x65") == "\x75\153" || $this->language->get("\x63\157\144\x65") == "\x75\x6b\x2d\165\x61" || $this->language->get("\x63\x6f\x64\145") == "\165\141\x2d\x75\x6b") { $data["\164\162\x61\156\x73\154\141\164\151\157\x6e\163\x5f\143\157\144\x65"] = "\x75\x61\x5f\x55\x41"; } else { if ($this->language->get("\143\x6f\x64\x65") == "\x72\x75" || $this->language->get("\143\x6f\x64\x65") == "\162\165\55\162\165") { $data["\x74\162\141\156\163\154\x61\164\151\x6f\156\x73\x5f\143\x6f\x64\x65"] = "\162\165\x5f\x52\x55"; } else { $data["\164\162\x61\156\163\x6c\141\x74\151\x6f\x6e\163\137\x63\157\x64\x65"] = "\x65\x6e\137\x55\x53"; } } $data["\x74\157\164\x61\154\163"] = $this->getExtensions("\164\157\x74\141\154"); $data["\x70\x61\171\x6d\x65\156\164\x5f\x6d\x65\x74\x68\x6f\144\163"] = $this->getExtensions("\160\141\171\155\x65\x6e\164"); $data["\x73\x68\x69\x70\x70\x69\156\147\x5f\155\145\164\x68\x6f\x64\163"] = $this->getExtensions("\163\x68\151\x70\160\151\x6e\147"); require_once "\165\153\162\x70\157\163\150\164\x61\x2f\x75\153\162\160\157\x73\150\x74\141\137\x68\145\x6c\x70\x2e\x70\150\160"; } public function getCNForm() { if (version_compare(VERSION, "\x32\x2e\63", "\x3e\x3d")) { $this->load->language("\x65\170\164\145\x6e\163\x69\x6f\x6e\57\163\150\x69\x70\x70\151\x6e\x67\x2f" . $this->extension); $this->load->model("\145\x78\164\145\156\x73\x69\157\x6e\x2f\163\x68\x69\x70\160\151\x6e\147\57" . $this->extension); $model_name = "\x6d\157\x64\x65\x6c\x5f\145\170\x74\x65\x6e\x73\x69\x6f\x6e\137\163\150\151\x70\x70\151\156\x67\137" . $this->extension; } else { $this->load->language("\x73\x68\x69\x70\160\x69\x6e\147\x2f" . $this->extension); $this->load->model("\163\150\151\160\160\151\x6e\x67\x2f" . $this->extension); $model_name = "\155\157\x64\x65\154\137\x73\150\x69\x70\160\x69\156\x67\137" . $this->extension; } if ($this->request->server["\x52\105\121\x55\105\123\x54\137\115\x45\124\110\117\104"] == "\120\x4f\x53\x54") { $json = array(); if ($this->validate() && $this->validateCNForm()) { $json["\x73\x75\143\x63\145\163\x73"] = $this->request->post; } else { $json = $this->error; } $this->response->addHeader("\103\x6f\x6e\164\145\x6e\x74\x2d\x54\171\160\x65\x3a\40\141\160\160\154\151\143\141\x74\x69\157\x6e\57\152\163\157\156"); $this->response->setOutput(json_encode($json)); } else { if (isset($this->error["\x77\x61\162\156\151\156\147"])) { $data["\x65\x72\x72\157\x72\x5f\x77\x61\162\x6e\151\156\x67"][] = $this->error["\x77\141\x72\156\x69\x6e\147"]; } else { $data["\x65\x72\162\157\162\x5f\x77\141\x72\x6e\151\156\x67"] = array(); } if (isset($this->request->get["\x6f\162\144\145\x72\137\151\144"])) { $order_id = $this->request->get["\x6f\162\144\x65\x72\x5f\x69\144"]; $this->load->model("\163\x61\x6c\x65\57\x6f\162\x64\145\162"); $order_info = $this->model_sale_order->getOrder($order_id); if (!$order_info) { $data["\145\162\x72\x6f\x72\x5f\x77\x61\x72\x6e\151\156\x67"][] = $this->language->get("\x65\x72\x72\x6f\162\137\147\145\x74\137\157\162\144\x65\162"); } } else { $order_id = 0; $order_info = array(); } if (!empty($order_info["\165\x6b\x72\x70\157\x73\150\164\141\x5f\143\x6e\x5f\x75\x75\x69\x64"])) { $cn_uuid = $order_info["\165\x6b\x72\160\157\x73\x68\x74\x61\137\143\x6e\137\165\165\151\x64"]; } else { if (isset($this->request->get["\x63\x6e\137\x75\165\x69\144"])) { $cn_uuid = $this->request->get["\x63\x6e\137\x75\x75\x69\x64"]; } else { $cn_uuid = ''; } } if ($cn_uuid) { $cn = $this->ukrposhta->getCN($cn_uuid); if (!$cn) { $data["\145\162\162\x6f\162\x5f\x77\141\162\156\x69\156\147"] = $this->ukrposhta->error; $data["\x65\162\162\x6f\162\137\x77\x61\162\156\151\x6e\147"][] = $this->language->get("\145\x72\x72\x6f\162\137\147\x65\164\x5f\x63\156"); } } else { $cn = array(); } $this->document->setTitle($this->language->get("\x68\145\x61\144\151\156\x67\x5f\164\151\164\x6c\145")); if (version_compare(VERSION, "\63", "\76\x3d")) { $data["\142\x72\145\x61\144\x63\x72\165\x6d\142\x73"] = array(); $data["\142\x72\145\141\144\x63\162\x75\x6d\x62\x73"][] = array("\x74\x65\170\164" => $this->language->get("\x74\145\x78\x74\x5f\x68\157\x6d\x65"), "\x68\162\145\x66" => $this->url->link("\143\x6f\x6d\x6d\x6f\156\57\144\141\163\x68\142\x6f\141\x72\144", "\x75\163\x65\162\x5f\164\157\x6b\x65\x6e\75" . $this->session->data["\x75\x73\145\x72\137\x74\x6f\153\145\x6e"], true)); $data["\142\162\x65\x61\x64\x63\162\x75\x6d\x62\x73"][] = array("\x74\145\x78\x74" => $this->language->get("\x74\x65\x78\x74\x5f\x6f\162\144\145\x72\x73"), "\150\x72\145\x66" => $this->url->link("\x73\x61\x6c\145\57\157\x72\x64\x65\162", "\x75\163\145\162\x5f\x74\x6f\153\x65\x6e\75" . $this->session->data["\x75\x73\145\x72\x5f\x74\157\x6b\145\x6e"], true)); $data["\142\x72\x65\141\144\143\x72\x75\x6d\142\163"][] = array("\x74\145\170\x74" => $this->language->get("\x74\x65\170\x74\x5f\x6f\x72\x64\x65\x72"), "\x68\162\145\146" => $this->url->link("\x73\x61\x6c\145\57\x6f\x72\x64\x65\x72\x2f\151\x6e\146\157\x26\157\162\144\145\x72\137\x69\x64\x3d" . $order_id, "\x75\x73\x65\x72\137\164\157\153\145\x6e\75" . $this->session->data["\x75\163\145\162\137\x74\x6f\x6b\145\x6e"], true)); $data["\x63\156\137\154\151\x73\x74"] = $this->url->link("\145\x78\x74\x65\156\163\151\x6f\x6e\x2f\163\150\151\x70\160\151\156\147\57" . $this->extension . "\57\147\145\164\x43\116\114\151\163\x74", "\x75\163\145\162\x5f\x74\157\153\x65\156\75" . $this->session->data["\x75\x73\x65\x72\137\x74\x6f\153\145\156"], true); $data["\143\x61\156\x63\x65\154"] = $this->url->link("\x73\141\154\x65\x2f\157\162\x64\x65\x72", "\x75\x73\x65\x72\137\164\x6f\x6b\x65\x6e\75" . $this->session->data["\165\x73\145\162\x5f\164\x6f\153\x65\x6e"], true); $data["\x75\x73\x65\x72\x5f\x74\x6f\x6b\x65\x6e"] = $this->session->data["\x75\163\x65\162\137\164\x6f\153\145\x6e"]; } else { if (version_compare(VERSION, "\x32\x2e\x33", "\x3e\x3d")) { $data["\142\x72\145\141\x64\x63\162\165\155\x62\163"] = array(); $data["\x62\x72\x65\x61\x64\143\162\165\155\142\x73"][] = array("\164\145\x78\x74" => $this->language->get("\164\145\170\x74\x5f\150\157\x6d\145"), "\x68\162\145\x66" => $this->url->link("\143\x6f\155\x6d\x6f\156\x2f\x64\x61\163\x68\142\157\141\x72\x64", "\x74\157\x6b\x65\156\75" . $this->session->data["\164\x6f\153\145\x6e"], true)); $data["\x62\162\x65\x61\144\143\162\165\x6d\x62\163"][] = array("\x74\x65\x78\164" => $this->language->get("\164\145\170\x74\x5f\x6f\162\144\x65\x72\163"), "\x68\x72\145\x66" => $this->url->link("\163\x61\154\x65\x2f\157\162\144\145\x72", "\164\x6f\x6b\x65\156\x3d" . $this->session->data["\x74\157\x6b\145\156"], true)); $data["\x62\162\x65\141\x64\x63\x72\165\155\142\163"][] = array("\x74\x65\x78\x74" => $this->language->get("\164\145\170\164\x5f\x6f\x72\144\145\x72"), "\150\162\x65\x66" => $this->url->link("\163\x61\x6c\x65\x2f\x6f\162\x64\145\162\57\151\156\146\157\46\x6f\162\144\x65\x72\x5f\151\144\75" . $order_id, "\164\x6f\153\x65\156\x3d" . $this->session->data["\164\157\x6b\x65\x6e"], true)); $data["\143\156\x5f\x6c\151\x73\164"] = $this->url->link("\x65\x78\164\x65\156\x73\151\x6f\x6e\x2f\x73\150\151\160\160\151\x6e\147\57" . $this->extension . "\x2f\x67\x65\164\103\116\x4c\x69\x73\x74", "\x74\157\x6b\145\x6e\x3d" . $this->session->data["\x74\x6f\153\x65\156"], true); $data["\x63\141\x6e\143\145\154"] = $this->url->link("\x73\141\154\145\x2f\157\x72\144\145\162", "\164\x6f\x6b\145\x6e\x3d" . $this->session->data["\164\x6f\153\x65\x6e"], true); $data["\x74\x6f\153\x65\156"] = $this->session->data["\164\x6f\x6b\145\x6e"]; } else { $data["\142\162\145\x61\x64\143\x72\x75\155\142\163"] = array(); if (version_compare(VERSION, "\x32", "\x3e\x3d")) { $data["\142\162\145\141\x64\143\x72\165\x6d\x62\163"][] = array("\164\145\x78\x74" => $this->language->get("\x74\x65\x78\164\x5f\x68\x6f\155\x65"), "\x68\x72\x65\146" => $this->url->link("\143\x6f\x6d\155\x6f\x6e\57\x64\x61\x73\x68\x62\157\x61\162\144", "\x74\x6f\x6b\145\x6e\75" . $this->session->data["\164\x6f\x6b\x65\x6e"], "\123\123\x4c")); } else { $data["\x62\162\x65\141\144\x63\x72\165\x6d\x62\x73"][] = array("\164\x65\170\x74" => $this->language->get("\164\x65\170\164\137\x68\157\x6d\145"), "\150\x72\145\146" => $this->url->link("\x63\157\155\x6d\x6f\x6e\x2f\150\157\x6d\x65", "\164\x6f\x6b\x65\156\75" . $this->session->data["\164\x6f\153\x65\156"], "\x53\123\114")); } $data["\x62\162\x65\x61\x64\x63\162\165\x6d\142\163"][] = array("\x74\x65\x78\x74" => $this->language->get("\164\145\170\164\137\157\x72\144\145\x72\x73"), "\x68\x72\x65\146" => $this->url->link("\x73\141\154\145\57\157\162\144\x65\x72", "\x74\157\153\x65\x6e\75" . $this->session->data["\164\157\x6b\x65\156"], "\123\123\x4c")); $data["\x62\162\145\x61\x64\x63\162\x75\155\x62\x73"][] = array("\x74\x65\x78\x74" => $this->language->get("\164\145\170\x74\x5f\x6f\162\x64\x65\x72"), "\150\162\145\146" => $this->url->link("\163\x61\154\x65\57\157\x72\x64\x65\x72\57\151\x6e\x66\157\46\157\x72\x64\145\162\137\x69\x64\x3d" . $order_id, "\164\x6f\153\145\156\75" . $this->session->data["\x74\x6f\153\145\156"], "\x53\123\114")); $data["\143\x6e\137\154\x69\x73\164"] = $this->url->link("\163\x68\x69\x70\160\x69\156\147\57" . $this->extension . "\57\x67\145\164\x43\x4e\x4c\x69\163\x74", "\x74\157\x6b\x65\x6e\x3d" . $this->session->data["\164\x6f\x6b\145\x6e"], "\x53\123\x4c"); $data["\x63\141\x6e\143\x65\x6c"] = $this->url->link("\x73\x61\x6c\x65\x2f\157\x72\x64\145\162", "\164\x6f\x6b\x65\156\x3d" . $this->session->data["\164\157\153\x65\x6e"], "\123\x53\114"); $data["\x74\157\x6b\x65\x6e"] = $this->session->data["\x74\x6f\153\145\x6e"]; } } if (version_compare(VERSION, "\63", "\x3c")) { $data["\150\145\x61\144\151\156\147\x5f\164\151\164\x6c\x65"] = $this->language->get("\x68\145\x61\x64\151\156\x67\x5f\x74\x69\164\154\x65"); $data["\x68\x65\141\144\151\x6e\147\x5f\143\x6f\x6d\160\x6f\x6e\x65\156\x74\x73\137\x6c\x69\163\x74"] = $this->language->get("\x68\145\x61\x64\x69\x6e\147\137\143\157\x6d\160\157\x6e\145\x6e\x74\163\x5f\x6c\151\163\164"); $data["\142\165\164\164\157\156\x5f\x63\156\x5f\154\x69\x73\164"] = $this->language->get("\142\165\164\x74\157\x6e\x5f\143\156\x5f\154\x69\x73\x74"); $data["\x62\x75\164\164\157\156\x5f\143\x61\x6e\x63\x65\154"] = $this->language->get("\142\165\164\x74\x6f\x6e\x5f\x63\x61\156\143\x65\x6c"); $data["\142\165\x74\x74\x6f\156\137\163\x61\x76\145\x5f\143\156"] = $this->language->get("\142\165\x74\x74\157\156\x5f\x73\141\x76\145\137\143\x6e"); $data["\142\x75\x74\164\x6f\156\x5f\x62\157\x6e\165\163\x5f\144\145\160\141\162\x74\x75\x72\x65"] = $this->language->get("\142\x75\x74\164\157\x6e\x5f\142\x6f\156\165\x73\x5f\x64\145\160\141\x72\164\165\x72\x65"); $data["\142\x75\x74\x74\x6f\x6e\x5f\145\x78\160\x72\x65\163\x73"] = $this->language->get("\142\x75\164\x74\157\156\x5f\145\170\160\x72\145\x73\x73"); $data["\142\x75\x74\164\157\x6e\x5f\163\x74\x61\x6e\x64\141\162\144"] = $this->language->get("\x62\165\x74\x74\x6f\156\x5f\163\x74\x61\x6e\x64\x61\162\144"); $data["\142\x75\164\x74\157\156\137\141\x64\144\162\x65\163\x73\137\160\151\143\x6b\137\165\x70"] = $this->language->get("\x62\165\x74\164\157\156\137\141\144\144\x72\145\163\x73\x5f\160\x69\x63\x6b\137\165\x70"); $data["\142\165\164\164\157\156\137\x64\145\x70\x61\162\x74\155\145\x6e\x74\137\x64\x65\154\x69\166\145\x72\171"] = $this->language->get("\142\x75\x74\164\x6f\156\137\x64\x65\x70\x61\162\x74\155\145\x6e\x74\137\x64\x65\x6c\x69\x76\x65\162\x79"); $data["\x62\165\x74\x74\157\156\137\x64\157\157\162\x73\x5f\144\145\x6c\x69\x76\x65\162\x79"] = $this->language->get("\142\x75\164\x74\157\156\137\x64\x6f\x6f\x72\x73\x5f\x64\x65\154\151\166\x65\162\x79"); $data["\142\165\x74\164\157\156\x5f\163\x65\x61\162\143\150"] = $this->language->get("\x62\165\x74\164\x6f\156\137\x73\x65\x61\162\143\x68"); $data["\x62\x75\164\x74\157\156\137\x63\x6f\x6d\x70\x6f\x6e\145\156\164\x73\137\154\151\x73\164"] = $this->language->get("\142\x75\x74\x74\157\x6e\x5f\x63\x6f\x6d\x70\x6f\156\145\x6e\x74\163\137\154\151\163\164"); $data["\143\x6f\x6c\165\x6d\156\x5f\x64\145\163\x63\162\x69\x70\164\151\x6f\156"] = $this->language->get("\x63\x6f\x6c\165\x6d\x6e\x5f\144\145\x73\143\x72\x69\x70\164\x69\157\156"); $data["\143\x6f\154\165\155\x6e\x5f\x70\162\151\x63\x65"] = $this->language->get("\143\157\x6c\x75\155\156\137\x70\162\x69\143\x65"); $data["\x63\157\x6c\x75\155\156\137\141\x63\x74\x69\x6f\156"] = $this->language->get("\143\x6f\x6c\165\155\156\137\x61\x63\x74\151\x6f\x6e"); $data["\x65\x6e\x74\x72\x79\137\163\x65\x6e\144\145\162"] = $this->language->get("\x65\x6e\164\162\x79\137\163\145\156\144\x65\x72"); $data["\x65\156\164\162\171\137\x72\145\143\151\160\151\145\156\x74"] = $this->language->get("\145\x6e\x74\162\x79\137\x72\145\143\151\x70\x69\x65\x6e\x74"); $data["\x65\156\x74\x72\171\x5f\143\154\x69\x65\156\164\x5f\164\171\160\145"] = $this->language->get("\x65\156\x74\162\171\137\x63\154\x69\x65\x6e\x74\x5f\164\171\x70\x65"); $data["\145\x6e\164\x72\x79\137\164\151\156"] = $this->language->get("\x65\x6e\x74\162\171\137\164\x69\x6e"); $data["\x65\156\164\162\x79\x5f\x65\x64\x72\x70\x6f\x75"] = $this->language->get("\145\x6e\164\162\171\x5f\145\x64\x72\x70\157\165"); $data["\x65\156\x74\162\171\x5f\142\x61\156\x6b\x5f\x61\x63\143\x6f\165\x6e\164"] = $this->language->get("\145\156\x74\162\x79\137\142\141\x6e\153\137\x61\x63\143\x6f\165\x6e\x74"); $data["\145\x6e\x74\x72\x79\137\x65\x6d\141\151\154"] = $this->language->get("\x65\x6e\164\162\171\x5f\145\x6d\x61\x69\x6c"); $data["\x65\156\164\x72\x79\x5f\160\150\157\x6e\145"] = $this->language->get("\145\156\164\162\x79\x5f\160\150\157\156\145"); $data["\145\x6e\x74\162\x79\137\x72\x65\147\151\x6f\156"] = $this->language->get("\145\x6e\164\x72\171\137\x72\x65\x67\151\x6f\x6e"); $data["\x65\x6e\x74\x72\x79\x5f\x63\x69\x74\171"] = $this->language->get("\x65\156\164\162\x79\137\x63\151\164\x79"); $data["\x65\156\x74\x72\x79\x5f\144\x65\x70\141\x72\x74\x6d\x65\156\164"] = $this->language->get("\145\156\x74\x72\x79\137\144\x65\x70\141\162\x74\x6d\x65\156\x74"); $data["\145\156\x74\x72\171\x5f\x73\x74\162\145\145\164"] = $this->language->get("\x65\x6e\x74\x72\x79\137\x73\x74\162\x65\x65\164"); $data["\x65\156\164\x72\171\x5f\150\157\x75\163\145"] = $this->language->get("\145\x6e\164\162\x79\137\150\x6f\x75\163\x65"); $data["\x65\156\x74\x72\171\x5f\146\x6c\x61\x74"] = $this->language->get("\145\x6e\x74\x72\x79\x5f\x66\x6c\141\164"); $data["\x65\x6e\164\x72\171\137\x70\157\x73\164\143\x6f\144\145"] = $this->language->get("\x65\156\164\x72\x79\137\x70\157\163\164\x63\157\144\x65"); $data["\x65\x6e\x74\x72\171\x5f\x77\145\151\x67\x68\164"] = $this->language->get("\145\x6e\x74\x72\x79\x5f\x77\145\151\147\150\x74"); $data["\145\156\x74\x72\x79\x5f\154\145\x6e\147\164\150"] = $this->language->get("\145\156\164\x72\x79\137\154\x65\x6e\x67\x74\150"); $data["\x65\156\x74\x72\171\137\x77\151\144\x74\150"] = $this->language->get("\x65\x6e\x74\162\171\137\x77\151\x64\x74\x68"); $data["\145\156\x74\162\x79\x5f\x68\x65\x69\147\150\164"] = $this->language->get("\x65\x6e\164\x72\x79\137\x68\145\x69\147\150\x74"); $data["\145\156\x74\162\171\137\144\145\143\154\141\162\x65\x64\137\x63\x6f\163\164"] = $this->language->get("\145\x6e\x74\162\x79\137\x64\x65\143\x6c\141\162\145\144\137\143\157\163\x74"); $data["\x65\x6e\x74\x72\171\137\144\145\x70\x61\x72\164\x75\162\x65\137\144\145\x73\143\162\151\160\x74\x69\157\x6e"] = $this->language->get("\x65\156\x74\162\x79\x5f\x64\x65\x70\141\x72\x74\x75\162\x65\x5f\144\x65\163\143\x72\x69\160\164\x69\x6f\156"); $data["\x65\x6e\164\162\171\137\x73\145\141\164\x73\x5f\141\x6d\x6f\165\156\164"] = $this->language->get("\145\156\164\162\171\x5f\163\145\x61\164\x73\x5f\141\155\157\x75\156\164"); $data["\145\156\164\x72\171\137\144\145\154\x69\x76\145\162\x79\x5f\x70\x61\171\x65\x72"] = $this->language->get("\x65\156\164\162\171\x5f\144\x65\154\x69\x76\145\162\x79\x5f\x70\141\x79\x65\x72"); $data["\x65\156\164\162\171\x5f\142\x61\143\153\x77\x61\162\x64\x5f\144\x65\154\x69\166\x65\x72\x79\x5f\164\157\164\x61\x6c"] = $this->language->get("\145\x6e\x74\162\x79\x5f\142\x61\143\153\x77\141\x72\x64\x5f\144\145\154\x69\x76\145\x72\x79\137\x74\157\x74\141\x6c"); $data["\x65\x6e\x74\x72\x79\137\x62\x61\143\153\167\x61\x72\x64\137\x64\145\154\x69\166\x65\x72\171\137\160\x61\171\x65\x72"] = $this->language->get("\x65\x6e\x74\x72\x79\137\x62\x61\x63\153\167\141\162\x64\137\144\145\154\151\166\x65\162\171\137\160\141\x79\145\x72"); $data["\145\156\x74\x72\x79\137\155\157\x6e\145\171\137\x74\x72\141\x6e\163\146\x65\x72\137\155\145\x74\150\157\144"] = $this->language->get("\145\156\164\162\x79\137\155\x6f\x6e\145\x79\x5f\x74\162\x61\x6e\x73\x66\145\162\x5f\155\x65\164\150\157\x64"); $data["\145\x6e\164\162\171\137\144\145\x6c\x69\166\x65\x72\171\x5f\x6e\x6f\x74\151\x66\151\143\141\x74\151\157\x6e"] = $this->language->get("\x65\156\x74\x72\x79\137\x64\145\154\x69\x76\x65\x72\x79\x5f\156\x6f\x74\151\x66\151\143\141\x74\x69\157\156"); $data["\x65\x6e\x74\x72\171\x5f\163\155\x73\x5f\x6d\145\163\x73\141\147\145"] = $this->language->get("\145\156\x74\x72\x79\137\163\x6d\163\x5f\x6d\x65\x73\163\x61\147\x65"); $data["\145\x6e\x74\x72\171\137\x63\x68\x65\x63\153\x5f\157\x6e\137\x64\x65\x6c\151\x76\145\162\x79"] = $this->language->get("\145\x6e\x74\x72\x79\137\x63\x68\x65\143\x6b\137\157\x6e\x5f\x64\145\x6c\x69\166\x65\162\171"); $data["\x65\x6e\x74\162\171\x5f\x6f\156\137\x66\x61\151\x6c\137\162\145\143\145\151\x76\x65"] = $this->language->get("\x65\156\164\162\x79\x5f\x6f\156\137\x66\x61\x69\154\x5f\162\x65\143\x65\151\166\145"); $data["\164\145\170\x74\x5f\x73\x65\154\x65\143\x74"] = $this->language->get("\x74\x65\170\164\137\163\145\x6c\x65\143\164"); $data["\x74\x65\170\164\x5f\x73\145\x6e\144\x65\162"] = $this->language->get("\164\x65\x78\x74\x5f\x73\x65\156\144\x65\x72"); $data["\164\x65\x78\164\137\162\145\x63\x69\160\x69\145\x6e\164"] = $this->language->get("\164\145\170\x74\137\162\145\x63\x69\x70\151\x65\x6e\164"); $data["\164\x65\x78\164\x5f\144\145\x70\x61\x72\164\x75\162\x65\137\x6f\x70\x74\x69\157\x6e\163"] = $this->language->get("\164\145\x78\x74\137\x64\145\x70\141\162\x74\x75\x72\145\x5f\157\160\x74\x69\x6f\x6e\163"); $data["\x74\145\x78\x74\x5f\160\141\171\x6d\x65\x6e\164"] = $this->language->get("\x74\145\x78\164\137\x70\x61\171\155\x65\156\164"); $data["\164\145\x78\x74\x5f\141\x64\144\x69\164\x69\x6f\156\141\154\154\x79"] = $this->language->get("\164\145\170\164\x5f\x61\x64\x64\x69\x74\151\157\x6e\x61\x6c\x6c\171"); $data["\164\145\170\164\137\144\x65\143\x6c\141\x72\145\x64\x5f\x63\x6f\163\x74"] = $this->language->get("\x74\x65\170\164\x5f\x64\145\143\x6c\141\x72\145\144\x5f\143\x6f\x73\x74"); $data["\x74\x65\x78\164\137\x73\145\x61\x74"] = $this->language->get("\x74\x65\170\164\x5f\163\145\x61\164"); $data["\164\145\x78\164\137\x67\x72\x6e"] = $this->language->get("\x74\x65\170\x74\137\x67\x72\156"); $data["\x74\145\170\x74\137\143\155"] = $this->language->get("\164\145\x78\164\137\143\155"); $data["\x74\145\170\x74\x5f\x6b\147"] = $this->language->get("\x74\x65\170\x74\137\x6b\x67"); $data["\164\x65\170\x74\x5f\160\143"] = $this->language->get("\164\145\170\x74\137\x70\x63"); } $data["\x74\145\170\x74\137\146\157\162\x6d"] = $cn ? $this->language->get("\164\x65\170\x74\137\146\157\162\x6d\137\145\144\x69\x74") : $this->language->get("\x74\x65\170\x74\x5f\146\x6f\x72\x6d\x5f\x63\x72\x65\141\x74\x65"); if ($cn) { $data["\x6d\145\x74\x68\x6f\144"] = $cn["\x74\171\160\145"]; $delivery_type = explode("\x32", $cn["\x64\145\154\151\x76\145\162\171\x54\171\x70\x65"]); $data["\x62\x6f\156\x75\163\137\144\145\160\141\x72\x74\165\162\145"] = ''; $data["\x73\x65\156\144\x65\162\137\x6e\x61\155\145"] = $cn["\x73\x65\x6e\x64\145\162"]["\x6e\x61\155\x65"]; $data["\x73\x65\156\144\145\162"] = $cn["\x73\145\x6e\144\x65\x72"]["\x75\x75\151\144"]; $data["\x73\x65\x6e\144\145\x72\x5f\x74\171\160\145"] = $cn["\x73\x65\156\144\145\162"]["\x74\x79\x70\x65"]; $data["\x73\145\156\144\x65\x72\x5f\x74\x69\156"] = isset($cn["\x73\x65\156\x64\145\162"]["\164\x69\x6e"]) ? $cn["\x73\145\156\144\145\x72"]["\164\151\156"] : ''; $data["\x73\x65\156\144\145\162\137\145\x64\x72\x70\157\x75"] = isset($cn["\163\145\x6e\144\145\162"]["\x65\144\x72\160\x6f\x75"]) ? $cn["\x73\145\x6e\144\145\162"]["\x65\144\x72\160\x6f\x75"] : ''; $data["\x73\145\156\x64\145\162\137\142\141\x6e\x6b\x5f\141\143\x63\157\165\x6e\x74"] = $cn["\x73\145\x6e\144\x65\162"]["\x62\141\x6e\153\101\143\x63\157\165\x6e\x74"]; $data["\x73\145\156\x64\x65\162\137\x65\x6d\141\x69\x6c"] = $cn["\163\145\156\144\x65\162"]["\145\x6d\x61\151\154"]; $data["\163\x65\x6e\x64\145\x72\x5f\160\150\157\x6e\145"] = preg_replace("\176\134\104\x2b\176", '', $cn["\x73\145\156\x64\145\x72"]["\160\150\x6f\x6e\x65\116\x75\155\x62\145\x72"]); $data["\163\145\156\x64\x65\x72\137\162\x65\x67\x69\x6f\156"] = $this->ukrposhta->getRegionID($cn["\163\145\x6e\x64\x65\x72"]["\x61\x64\144\162\x65\163\x73\x65\x73"][0]["\141\144\x64\x72\x65\x73\163"]["\x72\x65\x67\151\x6f\156"]); $data["\163\145\x6e\x64\x65\162\x5f\x63\151\164\x79"] = $this->ukrposhta->getCityID($cn["\x73\145\x6e\x64\145\162"]["\141\144\144\x72\145\x73\163\145\x73"][0]["\141\x64\x64\x72\x65\163\x73"]["\x63\151\x74\171"]); $data["\x73\x65\156\144\145\x72\137\x73\x74\162\145\145\x74"] = $cn["\x73\145\156\x64\x65\162"]["\x61\144\x64\x72\145\163\x73\x65\x73"][0]["\141\144\144\162\145\163\163"]["\x73\164\x72\145\x65\164"]; $data["\x73\145\156\x64\x65\x72\137\x68\x6f\165\x73\145"] = $cn["\x73\145\x6e\144\x65\162"]["\x61\x64\x64\162\145\163\163\x65\x73"][0]["\141\x64\x64\x72\145\163\163"]["\150\157\165\x73\x65\116\165\155\142\145\162"]; $data["\163\145\156\144\145\162\x5f\146\154\141\x74"] = $cn["\x73\x65\x6e\144\145\x72"]["\x61\144\144\x72\145\163\x73\x65\x73"][0]["\141\x64\144\162\145\163\163"]["\141\x70\141\162\x74\x6d\145\x6e\x74\x4e\165\155\142\145\162"]; $data["\163\x65\x6e\144\145\x72\x5f\x70\x6f\x73\164\x63\157\144\x65"] = $cn["\163\145\x6e\144\145\x72"]["\x61\x64\x64\162\x65\163\x73\x65\x73"][0]["\x61\144\144\x72\x65\x73\x73"]["\x70\x6f\163\164\x63\157\144\145"]; $data["\163\x65\156\144\x65\162\x5f\x61\x64\x64\162\145\163\163"] = $cn["\163\145\156\x64\145\162"]["\141\144\144\162\145\163\x73\111\144"]; $data["\x73\x65\x6e\144\x65\x72\x5f\x61\x64\144\x72\x65\163\163\x5f\160\151\x63\153\x5f\x75\x70"] = $delivery_type[0] == "\104" ? true : false; $data["\x72\x65\143\151\x70\x69\145\x6e\x74\x5f\x6e\x61\155\x65"] = $cn["\x72\145\x63\x69\x70\151\x65\156\164"]["\156\x61\x6d\x65"]; $data["\x72\145\143\151\160\x69\x65\x6e\164"] = $cn["\162\145\x63\151\160\x69\145\x6e\164"]["\165\x75\151\x64"]; $data["\x72\x65\143\x69\x70\x69\x65\x6e\164\x5f\x74\171\x70\x65"] = $cn["\x72\145\x63\x69\160\151\x65\156\164"]["\164\171\160\145"]; $data["\162\x65\x63\151\160\x69\x65\x6e\x74\x5f\x74\x69\x6e"] = isset($cn["\x72\x65\x63\151\160\151\x65\x6e\x74"]["\x74\x69\156"]) ? $cn["\x72\x65\143\151\160\151\x65\156\164"]["\164\151\156"] : ''; $data["\x72\145\143\151\x70\x69\145\x6e\164\137\x65\144\162\160\157\x75"] = isset($cn["\x72\145\x63\x69\x70\151\145\x6e\x74"]["\145\x64\162\160\x6f\x75"]) ? $cn["\x72\x65\x63\x69\x70\151\x65\156\164"]["\x65\144\x72\160\157\165"] : ''; $data["\162\x65\143\x69\x70\151\145\156\164\137\x70\150\x6f\156\145"] = preg_replace("\x7e\x5c\x44\53\x7e", '', $cn["\162\x65\x63\151\160\x69\145\156\164"]["\160\x68\x6f\x6e\145\116\165\155\x62\145\x72"]); $data["\x72\145\x63\151\160\x69\x65\x6e\164\137\x64\145\160\141\162\x74\155\145\x6e\164\x5f\156\x61\155\x65"] = $cn["\x72\x65\143\x69\160\x69\145\x6e\164"]["\x61\144\144\x72\145\x73\163\x65\x73"][0]["\141\144\144\162\x65\x73\x73"]["\x64\145\164\x61\x69\154\x65\x64\111\x6e\146\x6f"]; $department = $this->ukrposhta->getDepartmentBYIndex($cn["\x72\x65\143\x69\160\151\145\156\164"]["\141\144\144\162\145\163\163\x65\163"][0]["\x61\x64\x64\162\145\163\x73"]["\x70\x6f\x73\x74\x63\x6f\144\145"]); if (!empty($department["\x49\x44"])) { $data["\x72\145\143\151\x70\x69\145\x6e\x74\137\144\x65\x70\x61\x72\164\x6d\x65\x6e\164"] = $department["\111\x44"]; } else { $data["\162\x65\143\151\x70\151\145\x6e\x74\x5f\x64\145\160\141\x72\164\155\145\156\x74"] = ''; } $data["\x72\x65\143\151\160\x69\x65\156\x74\x5f\x72\x65\x67\151\x6f\x6e"] = $this->ukrposhta->getRegionID($cn["\x72\x65\x63\151\160\151\145\x6e\x74"]["\x61\x64\x64\x72\145\163\163\145\x73"][0]["\141\144\x64\x72\x65\x73\163"]["\162\145\147\151\157\156"]); $data["\162\x65\143\151\x70\151\145\156\x74\137\x63\151\x74\171\137\x6e\x61\x6d\145"] = $cn["\x72\145\x63\151\160\x69\x65\156\x74"]["\141\x64\x64\x72\145\x73\x73\145\163"][0]["\x61\144\x64\x72\x65\x73\x73"]["\x63\151\164\171"]; $data["\162\x65\143\x69\160\x69\x65\156\164\137\x63\151\164\x79"] = $this->ukrposhta->getCityID($cn["\x72\145\143\151\x70\151\x65\x6e\x74"]["\141\144\x64\x72\145\163\x73\x65\x73"][0]["\141\144\x64\x72\145\163\x73"]["\x63\151\x74\x79"]); $data["\x72\145\143\x69\x70\x69\145\156\164\137\x73\x74\162\145\145\x74"] = $cn["\162\145\x63\151\160\x69\x65\x6e\164"]["\141\144\144\162\145\163\163\x65\163"][0]["\141\144\144\x72\145\163\163"]["\x73\x74\162\145\x65\164"]; $data["\162\145\143\x69\160\151\145\x6e\x74\x5f\x68\157\x75\x73\145"] = $cn["\162\145\143\151\160\x69\145\156\x74"]["\x61\x64\144\x72\x65\163\x73\x65\163"][0]["\141\x64\x64\x72\145\163\x73"]["\x68\157\165\x73\x65\x4e\165\x6d\x62\145\x72"]; $data["\x72\145\143\151\160\151\145\x6e\164\137\146\154\141\x74"] = $cn["\162\x65\143\x69\160\151\145\156\x74"]["\x61\x64\144\162\145\163\163\145\x73"][0]["\x61\x64\x64\162\145\163\x73"]["\x61\160\x61\x72\x74\155\145\156\164\x4e\165\x6d\x62\145\x72"]; $data["\162\145\x63\151\x70\x69\x65\156\x74\x5f\x70\157\163\x74\x63\x6f\144\145"] = $cn["\x72\x65\x63\x69\x70\x69\x65\156\164"]["\x61\144\x64\x72\x65\163\x73\x65\x73"][0]["\x61\144\144\162\x65\x73\163"]["\x70\x6f\163\164\x63\x6f\x64\145"]; $data["\x72\145\143\151\160\x69\x65\156\x74\x5f\141\x64\144\162\x65\x73\163\x5f\x69\x64"] = $cn["\x72\145\143\151\x70\151\145\x6e\x74"]["\141\x64\x64\x72\x65\x73\x73\x49\144"]; $data["\x72\145\x63\x69\x70\151\x65\x6e\164\x5f\163\145\162\x76\x69\143\145\x5f\x74\171\x70\x65"] = $delivery_type[1]; $data["\x73\145\141\x74\x73\137\x61\x6d\x6f\x75\x6e\x74"] = count($cn["\160\141\x72\x63\x65\154\163"]); foreach ($cn["\160\141\162\143\145\154\x73"] as $parcel) { $data["\160\141\x72\x63\145\x6c\x73"][] = array("\165\165\151\x64" => $parcel["\165\165\x69\144"], "\x77\145\x69\x67\150\x74" => $parcel["\167\x65\x69\x67\x68\164"] / 1000, "\x6c\x65\156\147\164\x68" => $parcel["\154\x65\156\147\x74\150"], "\x77\151\144\164\150" => $parcel["\x77\x69\x64\164\x68"], "\150\145\151\x67\x68\164" => $parcel["\150\145\x69\147\150\x74"], "\144\x65\x63\154\x61\x72\x65\x64\x5f\143\x6f\163\164" => $parcel["\x64\145\143\x6c\141\x72\145\x64\120\162\x69\x63\x65"], "\x64\145\x70\x61\x72\164\x75\162\145\x5f\144\x65\163\x63\162\151\x70\164\151\x6f\156" => $parcel["\x64\145\x73\x63\162\151\160\x74\x69\157\156"]); } $data["\x64\x65\x6c\151\166\145\162\x79\x5f\x70\141\x79\x65\x72"] = $cn["\x70\x61\151\x64\x42\171\x52\x65\x63\151\x70\x69\x65\x6e\x74"] ? "\162\x65\143\151\x70\x69\145\156\x74" : "\163\x65\156\x64\x65\162"; $data["\x62\x61\143\153\167\x61\162\144\x5f\x64\x65\154\x69\x76\x65\x72\171\137\x74\x6f\164\x61\154"] = $cn["\160\x6f\163\x74\x50\x61\x79"]; $data["\142\x61\143\153\x77\141\162\144\x5f\x64\145\154\x69\x76\145\162\171\x5f\x70\x61\171\145\x72"] = $cn["\160\x6f\x73\x74\x50\141\171\120\141\x69\144\102\171\122\x65\143\x69\x70\x69\145\x6e\164"] ? "\x72\145\x63\151\160\x69\x65\x6e\x74" : "\163\145\x6e\144\x65\162"; $data["\155\x6f\x6e\x65\x79\x5f\x74\x72\x61\156\163\146\x65\x72\x5f\x6d\x65\x74\x68\x6f\x64"] = $cn["\164\x72\141\x6e\163\146\145\162\120\x6f\163\164\x50\141\171\124\157\x42\x61\x6e\153\101\143\143\x6f\x75\x6e\x74"] ? "\164\x6f\x5f\x62\x61\156\153\x5f\x61\143\143\x6f\165\156\x74" : "\x6f\156\137\144\145\160\141\x72\x74\155\145\156\164"; $data["\144\x65\x6c\x69\x76\x65\162\x79\x5f\156\x6f\164\151\146\x69\143\x61\164\151\x6f\x6e"] = $cn["\x77\151\164\150\x44\x65\x6c\x69\166\x65\162\x79\x4e\x6f\x74\151\x66\x69\x63\141\164\151\x6f\x6e"]; $data["\x73\155\x73\x5f\x6d\145\x73\x73\141\x67\x65"] = $cn["\163\155\x73"]; $data["\x63\x68\x65\x63\153\x5f\157\156\137\144\x65\x6c\151\166\x65\x72\x79"] = $cn["\143\150\x65\x63\x6b\x4f\156\x44\x65\154\151\166\145\x72\171"]; $data["\157\x6e\137\146\x61\151\154\137\162\x65\143\145\151\x76\x65"] = $cn["\x6f\x6e\x46\x61\151\x6c\122\x65\x63\145\151\166\145\124\x79\160\145"]; } else { if ($order_info) { $order_products = $this->{$model_name}->getOrderProducts($order_id); $order_totals = $this->model_sale_order->getOrderTotals($order_id); if ($order_info["\x73\164\x6f\x72\145\137\x69\144"] != $this->config->get("\x63\157\156\x66\x69\147\x5f\163\164\x6f\x72\x65\137\x69\144")) { if (version_compare(VERSION, "\x33", "\76\75")) { $extension_code = "\x73\x68\151\x70\x70\151\156\x67\137" . $this->extension; } else { $extension_code = $this->extension; } $this->load->model("\163\x65\164\164\151\x6e\x67\57\x73\145\164\164\x69\x6e\147"); $store_settings = $this->model_setting_setting->getSetting($extension_code, $order_info["\163\164\157\162\x65\x5f\x69\144"]); if (isset($store_settings[$extension_code])) { $this->settings = $store_settings[$extension_code]; } } $find_order = array("\173\x6f\162\144\145\x72\137\x69\144\x7d", "\173\151\156\166\x6f\151\143\x65\x5f\x6e\157\175", "\173\x69\156\166\x6f\x69\143\145\137\160\162\x65\146\x69\x78\x7d", "\x7b\x73\164\x6f\162\x65\137\x6e\x61\155\x65\175", "\x7b\x73\164\157\x72\x65\x5f\x75\162\154\175", "\x7b\143\x75\x73\164\x6f\x6d\x65\162\175", "\x7b\146\151\x72\x73\164\x6e\x61\x6d\145\x7d", "\173\154\141\163\x74\156\x61\155\x65\175", "\173\145\155\x61\x69\x6c\175", "\173\164\145\x6c\x65\x70\x68\157\x6e\x65\x7d", "\x7b\146\141\170\175", "\x7b\x70\x61\171\x6d\145\156\x74\x5f\x66\151\x72\163\x74\x6e\x61\x6d\x65\175", "\x7b\x70\x61\x79\x6d\145\156\164\137\x6c\x61\x73\164\x6e\x61\x6d\145\x7d", "\173\160\x61\171\155\145\x6e\x74\137\x63\157\x6d\160\141\x6e\171\x7d", "\x7b\160\141\171\x6d\x65\x6e\164\137\x61\144\x64\162\x65\163\163\x5f\x31\x7d", "\x7b\x70\x61\171\155\x65\x6e\164\x5f\x61\144\x64\162\x65\163\163\x5f\x32\175", "\x7b\160\x61\171\x6d\145\156\x74\137\x70\x6f\x73\x74\x63\157\x64\145\175", "\173\x70\x61\x79\155\145\156\x74\137\x63\151\164\x79\x7d", "\173\160\141\x79\x6d\145\x6e\x74\x5f\x7a\157\156\145\175", "\173\160\141\171\x6d\x65\x6e\x74\x5f\172\x6f\156\x65\x5f\x69\144\x7d", "\173\x70\x61\171\155\x65\x6e\164\x5f\x63\157\x75\156\164\162\x79\x7d", "\173\x73\x68\151\160\160\151\x6e\147\x5f\146\x69\162\x73\x74\x6e\141\x6d\145\x7d", "\173\x73\x68\x69\160\x70\x69\156\x67\x5f\x6c\x61\x73\164\x6e\141\155\x65\x7d", "\173\x73\x68\x69\x70\160\151\x6e\147\137\x63\x6f\x6d\x70\141\156\171\x7d", "\x7b\x73\x68\x69\160\x70\x69\x6e\x67\x5f\x61\144\144\x72\145\x73\163\137\61\175", "\173\163\150\151\x70\x70\x69\x6e\x67\137\x61\144\144\162\145\163\163\137\62\175", "\x7b\x73\x68\x69\x70\x70\151\x6e\147\137\160\157\163\x74\x63\157\144\145\175", "\x7b\x73\150\151\160\160\151\x6e\x67\137\x63\151\164\x79\x7d", "\173\163\x68\151\x70\x70\x69\x6e\x67\x5f\x7a\x6f\156\x65\x7d", "\x7b\163\150\151\x70\160\x69\x6e\147\137\172\157\156\x65\x5f\151\x64\175", "\x7b\x73\150\151\x70\x70\x69\x6e\x67\x5f\143\157\165\x6e\164\x72\x79\175", "\173\x63\x6f\155\x6d\x65\156\x74\x7d", "\173\164\157\x74\x61\154\175", "\173\x63\157\155\x6d\151\163\x73\151\x6f\156\x7d", "\173\144\141\x74\x65\x5f\x61\144\x64\145\x64\x7d", "\x7b\144\x61\x74\145\x5f\155\x6f\144\x69\146\151\145\x64\175"); $replace_order = array("\157\162\144\145\162\x5f\x69\x64" => $order_info["\x6f\162\144\145\x72\x5f\x69\144"], "\151\156\166\x6f\x69\x63\145\x5f\x6e\157" => $order_info["\x69\156\166\157\x69\143\145\x5f\156\x6f"], "\151\156\x76\x6f\x69\x63\145\x5f\x70\x72\145\x66\x69\170" => $order_info["\151\x6e\166\x6f\x69\x63\x65\137\x70\162\x65\146\x69\170"], "\163\164\x6f\162\145\137\x6e\141\x6d\145" => $order_info["\163\x74\x6f\162\145\137\156\x61\x6d\145"], "\x73\164\x6f\x72\145\137\x75\162\x6c" => $order_info["\x73\164\x6f\x72\145\137\165\162\154"], "\143\x75\163\x74\x6f\155\x65\x72" => $order_info["\143\x75\x73\164\157\155\145\162"], "\x66\151\x72\163\164\x6e\x61\155\145" => $order_info["\x66\151\x72\163\x74\156\141\x6d\x65"], "\x6c\141\x73\x74\x6e\141\x6d\145" => $order_info["\154\141\x73\164\x6e\141\155\145"], "\145\x6d\x61\151\x6c" => $order_info["\x65\155\141\151\x6c"], "\164\145\x6c\145\x70\150\x6f\156\145" => $order_info["\x74\145\154\x65\x70\150\x6f\156\145"], "\x66\x61\170" => isset($order_info["\x66\141\x78"]) ? $order_info["\146\141\170"] : '', "\x70\141\x79\155\145\156\164\137\146\151\162\163\164\156\141\x6d\145" => $order_info["\x70\141\x79\155\145\156\164\137\146\151\162\x73\164\x6e\141\155\145"], "\160\x61\x79\155\145\x6e\x74\137\154\x61\x73\164\x6e\x61\x6d\145" => $order_info["\160\141\171\x6d\145\x6e\x74\x5f\x6c\141\163\164\156\141\x6d\145"], "\x70\x61\171\x6d\145\156\164\137\x63\157\x6d\160\141\156\171" => $order_info["\160\x61\x79\x6d\145\x6e\x74\x5f\x63\157\x6d\x70\141\156\x79"], "\160\x61\x79\x6d\145\156\164\137\141\x64\x64\162\145\x73\x73\x5f\61" => $order_info["\x70\141\171\155\145\156\164\x5f\141\144\x64\x72\x65\x73\x73\x5f\61"], "\x70\x61\x79\x6d\x65\x6e\164\x5f\141\x64\x64\x72\x65\x73\163\137\62" => $order_info["\160\x61\171\155\x65\156\164\137\141\144\x64\x72\x65\163\163\137\62"], "\160\x61\171\x6d\x65\156\164\137\x70\157\163\x74\143\x6f\144\x65" => $order_info["\x70\x61\171\x6d\145\x6e\164\137\160\157\163\x74\x63\x6f\144\x65"], "\x70\x61\x79\155\145\156\x74\x5f\x63\151\164\x79" => $order_info["\x70\141\x79\x6d\x65\x6e\164\137\143\x69\164\171"], "\x70\141\x79\x6d\145\x6e\164\x5f\172\x6f\x6e\145" => $order_info["\160\141\171\x6d\x65\x6e\x74\x5f\x7a\157\156\145"], "\160\141\171\x6d\145\x6e\164\137\x7a\x6f\156\x65\137\151\144" => $order_info["\x70\x61\x79\x6d\x65\156\164\137\x7a\x6f\x6e\x65\x5f\x69\x64"], "\x70\141\171\x6d\x65\156\164\x5f\x63\157\165\156\x74\x72\171" => $order_info["\160\141\171\155\145\156\164\137\143\x6f\x75\x6e\x74\162\171"], "\x73\x68\x69\160\160\x69\156\147\137\146\x69\x72\163\164\x6e\141\155\x65" => $order_info["\163\150\151\x70\160\x69\156\147\x5f\x66\x69\x72\163\x74\156\x61\x6d\145"], "\163\x68\151\160\160\151\x6e\x67\x5f\154\141\163\x74\156\141\x6d\145" => $order_info["\x73\x68\x69\160\160\x69\156\147\x5f\x6c\x61\163\x74\x6e\x61\x6d\x65"], "\163\x68\151\160\160\151\x6e\x67\137\143\157\x6d\160\x61\156\171" => $order_info["\163\x68\151\x70\x70\151\156\147\137\143\x6f\155\x70\141\156\171"], "\x73\x68\151\x70\x70\151\156\x67\137\x61\144\144\162\x65\163\x73\137\61" => $order_info["\163\150\151\160\160\x69\156\x67\x5f\141\x64\x64\x72\145\163\163\x5f\x31"], "\163\x68\x69\160\160\x69\156\147\x5f\x61\144\144\x72\145\x73\x73\137\62" => $order_info["\x73\x68\x69\160\160\151\156\147\x5f\x61\x64\x64\162\x65\163\x73\x5f\x32"], "\163\x68\x69\160\160\151\x6e\147\137\160\x6f\x73\164\143\x6f\144\145" => $order_info["\x73\150\x69\x70\x70\151\156\147\137\x70\157\163\164\x63\157\144\145"], "\163\x68\x69\160\x70\151\x6e\x67\x5f\x63\151\164\x79" => $order_info["\x73\x68\x69\x70\x70\x69\x6e\147\x5f\x63\x69\164\171"], "\163\150\151\160\160\x69\156\x67\137\172\x6f\156\145" => $order_info["\163\x68\x69\160\160\x69\x6e\147\137\172\x6f\156\145"], "\163\x68\x69\160\x70\151\156\147\x5f\172\x6f\156\145\x5f\151\x64" => $order_info["\163\150\151\160\x70\x69\156\147\137\x7a\157\x6e\145\x5f\x69\144"], "\163\x68\x69\160\x70\151\156\147\x5f\143\157\x75\156\x74\162\171" => $order_info["\x73\x68\151\x70\x70\151\156\147\x5f\143\x6f\165\156\x74\x72\171"], "\143\x6f\x6d\x6d\145\156\164" => $order_info["\143\x6f\155\155\145\x6e\164"], "\164\x6f\x74\x61\154" => $order_info["\x74\x6f\x74\x61\154"], "\143\157\x6d\155\151\163\163\151\x6f\x6e" => $order_info["\143\157\155\155\x69\163\x73\x69\157\x6e"], "\x64\x61\164\x65\x5f\x61\x64\144\x65\x64" => $order_info["\144\141\x74\x65\x5f\x61\144\x64\x65\144"], "\144\x61\164\145\x5f\155\x6f\144\x69\146\151\145\x64" => $order_info["\144\141\x74\x65\x5f\x6d\x6f\x64\151\146\x69\145\144"]); foreach ($this->{$model_name}->getSimpleFields($order_id) as $k => $v) { if (!in_array("\173" . $k . "\x7d", $find_order)) { $find_order[] = "\173" . $k . "\x7d"; $replace_order[$k] = $v; } } $find_product = array("\173\x70\162\157\144\165\143\x74\x5f\151\144\x7d", "\x7b\x6e\141\155\x65\175", "\173\155\157\144\x65\x6c\175", "\173\x6f\160\164\151\157\x6e\x7d", "\x7b\x73\x6b\x75\x7d", "\x7b\x65\141\x6e\x7d", "\173\165\x70\x63\175", "\x7b\152\x61\x6e\x7d", "\173\x69\x73\x62\x6e\x7d", "\173\155\160\156\x7d", "\173\x71\165\141\x6e\x74\151\x74\171\x7d"); $data["\142\x6f\156\x75\163\x5f\x64\x65\160\x61\162\x74\x75\162\145"] = $this->settings["\142\x6f\156\x75\x73\x5f\144\x65\x70\141\x72\164\165\162\x65"]; $shipping_code_parts = explode("\56", $order_info["\x73\150\151\160\x70\151\x6e\147\137\143\157\x64\145"]); if ($shipping_code_parts[1] == "\163\x74\x61\x6e\x64\x61\162\x64\137\144\145\x70\x61\x72\164\155\x65\156\x74" || $shipping_code_parts[1] == "\x73\164\141\156\x64\x61\162\144\137\x64\157\x6f\162\x73") { $data["\x6d\145\164\150\x6f\x64"] = "\123\x54\101\116\x44\101\x52\104"; } else { $data["\x6d\145\164\150\x6f\x64"] = "\105\x58\x50\x52\105\x53\123"; } $data["\163\145\156\x64\145\162\x5f\x6e\141\x6d\145"] = $this->settings["\163\145\156\x64\145\x72\x5f\156\x61\155\x65"]; $data["\163\145\156\144\145\x72"] = $this->settings["\163\x65\x6e\144\145\162"]; $data["\x73\145\x6e\144\145\162\137\x74\x79\160\x65"] = $this->settings["\163\x65\156\x64\145\162\137\x74\x79\x70\145"]; $data["\163\145\x6e\x64\x65\162\x5f\x74\x69\156"] = $this->settings["\x73\145\156\144\145\x72\137\164\151\156"]; $data["\x73\145\x6e\144\145\162\137\145\x64\x72\160\157\x75"] = $this->settings["\163\x65\156\144\x65\162\137\145\144\x72\160\x6f\165"]; $data["\163\x65\x6e\144\145\x72\137\x62\141\156\x6b\137\141\143\143\x6f\165\x6e\x74"] = $this->settings["\x73\x65\x6e\x64\x65\x72\x5f\142\x61\156\x6b\x5f\x61\x63\x63\x6f\x75\156\164"]; $data["\x73\145\x6e\x64\145\162\x5f\x65\155\x61\x69\154"] = $this->settings["\163\145\156\x64\x65\162\137\x65\155\141\x69\154"]; $data["\x73\145\x6e\x64\x65\x72\137\160\x68\157\156\x65"] = $this->settings["\163\145\x6e\x64\x65\162\137\160\x68\x6f\x6e\145"]; $data["\163\x65\x6e\x64\145\x72\137\162\145\147\151\157\156"] = $this->settings["\163\145\x6e\144\145\x72\x5f\162\145\147\x69\x6f\156"]; $data["\163\145\x6e\144\145\162\137\x63\x69\164\171"] = $this->settings["\x73\x65\156\x64\x65\x72\x5f\143\151\164\171"]; $data["\x73\145\x6e\144\x65\162\x5f\163\x74\162\145\x65\x74"] = $this->settings["\x73\x65\x6e\x64\x65\x72\x5f\x73\164\x72\x65\x65\x74"]; $data["\x73\145\156\144\145\162\x5f\150\157\x75\163\x65"] = $this->settings["\x73\x65\x6e\x64\145\x72\x5f\150\157\165\x73\145"]; $data["\x73\145\156\x64\x65\x72\x5f\146\x6c\141\x74"] = $this->settings["\163\145\x6e\144\145\162\137\146\x6c\x61\164"]; $data["\x73\145\x6e\x64\145\x72\x5f\x70\157\163\164\143\x6f\x64\145"] = $this->settings["\163\145\x6e\144\145\x72\x5f\160\157\x73\x74\x63\x6f\144\145"]; $data["\x73\x65\156\x64\145\162\x5f\x61\144\144\162\x65\x73\x73"] = $this->settings["\x73\145\156\144\145\x72\x5f\141\x64\x64\162\x65\163\163"]; $data["\x73\x65\x6e\x64\145\162\x5f\141\144\x64\162\x65\163\x73\x5f\x70\x69\x63\x6b\137\165\x70"] = $this->settings["\x73\145\156\x64\x65\x72\x5f\141\x64\144\x72\x65\163\163\137\x70\x69\143\x6b\x5f\165\160"]; $data["\162\145\143\x69\x70\151\145\x6e\164\137\156\141\x6d\x65"] = preg_replace("\x2f\x20\173\x32\x2c\175\57", "\x20", mb_convert_case(trim(str_replace($find_order, $replace_order, $this->settings["\x72\x65\143\151\160\151\x65\x6e\x74"])), MB_CASE_TITLE, "\125\x54\x46\x2d\x38")); $data["\162\145\143\151\160\x69\x65\x6e\x74"] = ''; $data["\162\145\x63\151\x70\151\145\x6e\x74\x5f\x74\x79\x70\145"] = trim(str_replace($find_order, $replace_order, $this->settings["\x72\145\x63\x69\x70\151\145\156\164\137\164\171\x70\x65"])); $data["\162\x65\x63\x69\x70\151\145\156\164\x5f\x74\151\156"] = trim(str_replace($find_order, $replace_order, $this->settings["\x72\x65\143\151\x70\x69\x65\156\164\x5f\x74\x69\x6e"])); $data["\162\x65\x63\x69\x70\151\145\156\164\x5f\145\144\162\160\157\x75"] = trim(str_replace($find_order, $replace_order, $this->settings["\162\x65\x63\x69\160\x69\145\x6e\x74\x5f\145\144\162\x70\157\165"])); $data["\162\145\143\151\x70\x69\x65\156\x74\137\x70\150\x6f\x6e\145"] = preg_replace("\x2f\x5b\136\60\55\x39\x5d\x2f", '', str_replace($find_order, $replace_order, $this->settings["\162\145\x63\x69\x70\151\x65\x6e\164\137\160\150\157\x6e\145"])); $data["\162\145\143\151\x70\x69\145\x6e\164\x5f\x72\145\147\x69\157\x6e\x5f\x6e\x61\155\x65"] = trim(str_replace($find_order, $replace_order, $this->settings["\162\145\143\151\x70\x69\145\156\164\137\162\145\x67\x69\x6f\x6e"])); $data["\162\x65\143\x69\160\151\x65\156\x74\137\162\145\147\x69\157\156"] = $this->ukrposhta->getRegionID($data["\x72\145\143\151\x70\151\145\x6e\164\x5f\x72\145\147\x69\x6f\156\137\x6e\x61\x6d\145"]); $data["\x72\145\x63\151\x70\151\x65\x6e\164\137\143\151\164\171\137\156\141\x6d\x65"] = trim(str_replace($find_order, $replace_order, $this->settings["\162\145\x63\x69\x70\x69\x65\156\x74\x5f\x63\151\x74\171"])); $data["\x72\x65\x63\x69\x70\x69\145\156\x74\x5f\x63\151\164\x79"] = $this->ukrposhta->getCityID($data["\x72\145\143\x69\x70\x69\145\x6e\164\x5f\143\151\x74\x79\x5f\x6e\141\x6d\145"]); $data["\x72\145\143\151\160\151\145\156\164\x5f\144\x65\x70\141\x72\x74\155\x65\156\164\x5f\x6e\x61\x6d\x65"] = trim(str_replace($find_order, $replace_order, $this->settings["\162\145\x63\x69\160\x69\x65\156\164\x5f\x64\145\160\141\x72\164\x6d\145\x6e\164"])); $data["\162\145\143\151\x70\x69\145\156\164\x5f\144\x65\x70\141\x72\x74\x6d\145\156\x74"] = $this->ukrposhta->getDepartmentID($data["\x72\145\x63\x69\x70\151\145\x6e\x74\137\x64\145\160\x61\162\x74\155\145\x6e\x74\x5f\x6e\141\x6d\x65"]); $data["\162\x65\x63\151\x70\x69\x65\x6e\x74\x5f\141\144\144\162\145\163\163"] = trim(str_replace($find_order, $replace_order, $this->settings["\162\x65\x63\x69\x70\x69\x65\156\164\x5f\141\x64\x64\162\145\x73\163"])); $data["\x72\145\143\151\160\151\x65\156\164\137\163\x74\162\145\145\164"] = trim(str_replace($find_order, $replace_order, $this->settings["\x72\145\143\x69\x70\x69\x65\x6e\164\x5f\163\x74\162\x65\145\x74"])); $data["\x72\x65\143\x69\x70\151\x65\156\164\137\150\157\x75\163\145"] = trim(str_replace($find_order, $replace_order, $this->settings["\162\145\x63\x69\160\151\145\156\164\x5f\x68\x6f\165\x73\x65"])); $data["\x72\x65\x63\x69\x70\151\145\x6e\x74\x5f\146\x6c\141\x74"] = trim(str_replace($find_order, $replace_order, $this->settings["\x72\x65\x63\151\x70\x69\x65\156\x74\x5f\x66\154\141\x74"])); $data["\162\x65\x63\x69\x70\151\x65\156\x74\137\x70\x6f\163\x74\x63\157\144\145"] = trim(str_replace($find_order, $replace_order, $this->settings["\x72\x65\143\151\x70\151\145\156\x74\x5f\160\157\163\164\x63\x6f\144\x65"])); $data["\162\x65\143\151\x70\151\145\156\164\x5f\141\x64\144\162\145\x73\x73\x5f\x69\x64"] = ''; $data["\162\145\x63\151\160\x69\145\156\x74\x5f\x73\x65\162\x76\x69\x63\145\x5f\164\x79\x70\145"] = strstr($order_info["\x73\x68\x69\160\160\151\x6e\147\x5f\x63\157\144\x65"], "\137") == "\137\x64\x65\x70\141\x72\x74\155\x65\x6e\x74" ? "\x57" : "\104"; if ($data["\x72\x65\x63\x69\160\x69\x65\x6e\x74\x5f\141\x64\144\x72\145\x73\163"] && !$data["\162\145\x63\x69\160\x69\145\156\x74\x5f\x73\x74\162\145\x65\x74"]) { $address = $this->parseAddress($data["\162\x65\143\151\x70\x69\145\156\164\137\141\144\144\x72\x65\163\163"]); $data["\x72\145\x63\151\x70\x69\145\156\164\137\163\164\x72\145\x65\164"] = $address["\x73\164\x72\145\145\x74\x5f\x74\171\160\x65"] . "\x20" . $address["\x73\164\162\145\x65\164"]; $data["\162\145\143\151\160\151\x65\x6e\x74\137\150\x6f\x75\163\x65"] = $address["\150\x6f\x75\x73\145"]; $data["\x72\145\143\151\x70\151\145\156\164\x5f\x66\154\x61\164"] = $address["\x66\x6c\141\164"]; } $declared_cost = $this->convertToUAH($this->getDeclaredCost($order_totals), $order_info["\143\x75\162\x72\x65\x6e\x63\171\x5f\143\x6f\144\145"], $order_info["\x63\x75\162\162\145\156\143\171\137\x76\x61\154\165\145"]); $data["\142\x61\143\153\x77\x61\x72\x64\x5f\x64\x65\154\x69\x76\x65\x72\x79\x5f\x74\x6f\164\141\x6c"] = $declared_cost; if ($this->settings["\x64\145\143\154\141\x72\145\144\x5f\x63\157\163\164\x5f\155\x69\156\151\155\165\x6d"] && $declared_cost < $this->settings["\x64\x65\143\x6c\x61\x72\145\144\137\x63\157\x73\164\x5f\x6d\151\156\151\155\x75\x6d"]) { $declared_cost = $this->settings["\x64\145\x63\154\x61\162\x65\x64\137\143\157\x73\x74\137\x6d\x69\156\151\155\x75\155"]; } $departure_description = ''; $template = explode("\x7c", $this->settings["\144\x65\x70\141\162\x74\x75\x72\x65\x5f\144\145\x73\x63\162\151\160\164\x69\x6f\156"]); if ($template[0]) { $departure_description .= preg_replace(array("\57\x5c\x73\x5c\x73\53\x2f", "\x2f\x5c\162\134\x72\53\x2f", "\57\x5c\156\134\x6e\53\x2f"), "\40", trim(str_replace($find_order, $replace_order, $template[0]))); } if (isset($template[1])) { foreach ($order_products as $k => $product) { $replace_product = array("\160\x72\157\x64\165\143\164\137\x69\144" => $product["\x70\162\157\144\x75\143\164\137\x69\x64"], "\156\x61\x6d\145" => $product["\x6e\x61\155\145"], "\x6d\x6f\x64\x65\x6c" => $product["\155\157\x64\x65\154"], "\157\160\164\x69\157\x6e" => '', "\163\153\165" => $product["\163\x6b\x75"], "\145\141\x6e" => $product["\145\141\x6e"], "\x75\160\143" => $product["\x75\160\143"], "\x6a\x61\156" => $product["\x6a\141\x6e"], "\x69\163\142\x6e" => $product["\151\x73\x62\156"], "\x6d\160\x6e" => $product["\155\160\156"], "\x71\165\x61\x6e\164\151\164\171" => $product["\x71\x75\x61\156\164\151\x74\171"]); if ($product["\x6f\160\164\151\x6f\x6e"]) { foreach ($product["\x6f\x70\164\151\157\x6e"] as $option) { $replace_product["\157\x70\164\x69\x6f\x6e"] .= $option["\156\141\x6d\x65"] . "\x3a\x20" . $option["\x76\x61\154\165\x65"]; } } $departure_description .= preg_replace(array("\x2f\x5c\163\134\x73\53\57", "\x2f\x5c\162\134\162\53\x2f", "\x2f\x5c\x6e\x5c\x6e\53\57"), "\40", trim(str_replace($find_product, $replace_product, $template[1]))); } } $departure = $this->ukrposhta->getDeparture($order_products); $departure_seats = $this->ukrposhta->getDepartureSeats($order_products); if ($this->settings["\x73\145\141\164\163\137\141\x6d\x6f\165\156\x74"] && $this->settings["\x73\x65\141\164\163\x5f\141\x6d\157\x75\x6e\x74"] != $departure_seats) { $data["\x73\x65\x61\x74\163\x5f\141\155\x6f\x75\156\164"] = $this->settings["\163\145\141\x74\163\137\x61\x6d\x6f\165\156\x74"]; for ($i = 1; $i <= $data["\163\145\141\x74\163\x5f\x61\155\x6f\165\156\x74"]; $i++) { $data["\x70\x61\162\x63\145\154\x73"][] = array("\x77\145\151\x67\x68\164" => max(round($departure["\x77\x65\x69\x67\x68\x74"] / $data["\x73\x65\x61\164\163\137\141\155\157\165\156\164"], 2), $this->settings["\167\x65\151\x67\150\x74\x5f\155\151\156\x69\x6d\x75\155"]), "\154\x65\156\x67\164\150" => round($departure["\154\145\x6e\x67\x74\x68"] / $data["\x73\x65\141\164\x73\137\x61\155\157\165\156\x74"], 2), "\x77\x69\x64\x74\150" => round($departure["\x77\x69\144\x74\150"] / $data["\163\145\x61\x74\x73\137\x61\155\x6f\165\x6e\164"], 2), "\x68\x65\x69\x67\150\x74" => round($departure["\150\x65\x69\x67\x68\164"] / $data["\x73\145\141\x74\163\x5f\141\x6d\157\165\x6e\x74"], 2), "\144\145\x63\x6c\x61\162\x65\144\137\x63\x6f\x73\x74" => $declared_cost, "\144\145\160\141\162\x74\165\162\145\137\144\x65\x73\x63\162\x69\160\164\151\x6f\x6e" => $departure_description); } } else { $data["\x73\145\x61\164\163\x5f\x61\x6d\157\x75\156\164"] = $departure_seats; foreach ($departure["\x70\141\x72\143\x65\154\163"] as $parcel) { $data["\160\x61\162\x63\x65\x6c\163"][] = array("\167\x65\151\x67\150\164" => max(round($parcel["\167\145\x69\x67\x68\164"], 2), $this->settings["\x77\145\151\147\150\x74\x5f\x6d\x69\156\x69\155\165\155"]), "\154\x65\x6e\147\x74\150" => $parcel["\x6c\x65\x6e\x67\x74\x68"], "\167\x69\144\x74\x68" => $parcel["\x77\x69\144\x74\150"], "\150\x65\151\147\x68\164" => $parcel["\150\x65\151\x67\x68\164"], "\x64\x65\143\154\141\x72\x65\144\x5f\143\x6f\163\164" => $declared_cost, "\144\145\160\141\x72\x74\165\x72\x65\137\144\145\x73\143\x72\151\160\164\151\157\x6e" => $departure_description); } } if (isset($this->settings["\x73\x68\151\x70\160\151\156\x67\x5f\x6d\x65\164\150\x6f\x64\x73"][$shipping_code_parts[1]]["\146\162\145\145\x5f\163\150\x69\160\160\x69\156\x67"]) && $this->settings["\163\150\151\160\x70\x69\156\x67\x5f\155\x65\x74\150\x6f\x64\x73"][$shipping_code_parts[1]]["\146\x72\145\145\137\163\x68\x69\160\160\x69\x6e\x67"] && $this->settings["\x73\150\x69\160\160\x69\x6e\x67\x5f\x6d\145\164\x68\157\144\x73"][$shipping_code_parts[1]]["\x66\162\x65\x65\137\163\x68\151\x70\160\x69\156\x67"] <= $this->convertToUAH($order_totals[count($order_totals) - 1]["\x76\141\154\165\x65"], $order_info["\x63\165\x72\x72\x65\x6e\143\171\137\x63\x6f\144\x65"], $order_info["\143\165\162\x72\145\x6e\143\x79\x5f\166\x61\x6c\x75\x65"])) { $data["\144\145\x6c\x69\166\x65\x72\x79\x5f\x70\141\171\x65\162"] = "\163\x65\x6e\x64\x65\162"; } else { $data["\x64\x65\154\151\x76\x65\x72\171\137\x70\x61\x79\x65\x72"] = $this->settings["\x64\x65\154\151\x76\145\162\x79\x5f\160\x61\171\145\x72"]; } if (isset($order_info["\160\141\x79\155\x65\x6e\164\137\x63\x6f\144\x65"]) && isset($this->settings["\160\x61\171\155\x65\156\x74\x5f\x63\157\144"]) && (in_array($order_info["\x70\x61\x79\x6d\145\x6e\x74\137\x63\x6f\x64\145"], $this->settings["\160\x61\171\155\x65\x6e\x74\137\x63\x6f\x64"]) || in_array(stristr($order_info["\x70\141\171\155\x65\156\x74\137\143\157\144\x65"], "\x2e", true), $this->settings["\160\141\171\x6d\x65\156\x74\x5f\x63\x6f\144"]))) { if (!$data["\160\x61\162\x63\145\154\x73"][0]["\x64\x65\143\x6c\141\162\145\144\x5f\143\157\163\164"] && $this->settings["\x64\x65\x63\154\141\x72\145\x64\137\143\x6f\x73\x74\x5f\144\145\x66\x61\x75\x6c\x74"]) { $data["\x70\x61\x72\x63\145\154\163"][0]["\144\x65\x63\x6c\x61\x72\x65\x64\x5f\x63\157\x73\x74"] = $this->settings["\x64\x65\143\154\141\162\145\x64\137\143\x6f\x73\x74\137\144\145\146\141\x75\x6c\164"]; } } else { if ($this->settings["\x64\x65\x63\154\x61\x72\x65\x64\x5f\x63\x6f\163\164\137\144\145\146\141\x75\x6c\x74"]) { $data["\160\x61\162\143\x65\154\163"][0]["\x64\145\143\154\x61\162\145\144\137\x63\x6f\x73\x74"] = $this->settings["\144\x65\x63\154\x61\x72\145\x64\x5f\143\157\x73\x74\137\144\x65\x66\x61\165\154\x74"]; } $data["\x62\x61\x63\153\167\x61\x72\144\x5f\x64\x65\x6c\151\x76\145\162\171\x5f\x74\x6f\164\141\154"] = false; } $cod_plus_settings = $this->config->get("\x63\157\144\x5f\160\x6c\x75\163"); if (isset($cod_plus_settings[$order_info["\x73\x68\x69\160\160\151\156\147\137\x63\157\144\145"]])) { $cod_plus_free = $cod_plus_settings[$order_info["\x73\150\151\160\160\x69\156\147\137\x63\x6f\144\x65"]]["\x66\x72\x65\x65"]; } else { if (isset($cod_plus_settings[stristr($order_info["\163\x68\151\x70\160\x69\x6e\147\x5f\x63\x6f\144\145"], "\56", true)])) { $cod_plus_free = $cod_plus_settings[stristr($order_info["\163\150\151\160\160\151\x6e\x67\x5f\x63\157\144\145"], "\x2e", true)]["\x66\x72\145\x65"]; } else { $cod_plus_free = 0; } } if ($cod_plus_free && $cod_plus_free <= $data["\142\x61\x63\153\167\x61\162\144\137\144\145\x6c\x69\166\145\162\x79\137\164\x6f\164\141\x6c"]) { $data["\x62\x61\143\153\x77\x61\162\144\137\x64\x65\154\151\166\x65\162\171\x5f\160\141\171\145\162"] = "\163\145\x6e\x64\x65\x72"; } else { $data["\142\x61\x63\153\167\x61\162\144\x5f\144\x65\154\x69\x76\145\x72\171\137\x70\x61\171\145\162"] = $this->settings["\x62\141\143\153\x77\x61\162\144\x5f\x64\145\x6c\151\166\145\x72\171\137\x70\141\x79\x65\162"]; } $data["\x6d\157\x6e\x65\171\x5f\x74\x72\x61\156\163\146\145\162\x5f\x6d\x65\x74\150\x6f\144"] = $this->settings["\155\x6f\156\145\171\x5f\164\162\x61\x6e\163\x66\x65\x72\x5f\155\145\x74\x68\157\144"]; $data["\x64\145\x6c\151\166\x65\162\171\x5f\x6e\157\x74\151\146\151\x63\x61\x74\x69\x6f\156"] = $this->settings["\144\145\x6c\151\x76\145\x72\171\x5f\x6e\x6f\x74\x69\x66\151\x63\141\x74\x69\157\x6e"]; $data["\163\155\163\137\155\145\x73\x73\x61\x67\x65"] = $this->settings["\163\155\163\x5f\x6d\145\x73\x73\141\147\145"]; $data["\143\150\x65\143\153\x5f\157\x6e\137\144\145\x6c\x69\x76\x65\x72\171"] = $this->settings["\143\x68\145\x63\153\137\157\156\137\x64\145\154\151\166\x65\x72\x79"]; $data["\x6f\156\137\x66\x61\151\x6c\x5f\162\x65\143\145\151\166\145"] = $this->settings["\157\156\137\x66\141\x69\x6c\137\162\x65\x63\145\151\166\x65"]; } else { $data["\x62\x6f\x6e\165\163\x5f\x64\145\x70\141\x72\164\x75\x72\145"] = $this->settings["\142\x6f\156\165\163\137\144\145\x70\141\162\164\x75\x72\x65"]; $data["\155\145\x74\x68\157\144"] = "\105\x58\x50\122\x45\x53\x53"; $data["\163\x65\156\x64\x65\x72\x5f\x6e\141\155\145"] = $this->settings["\163\x65\156\144\x65\x72\x5f\x6e\141\x6d\x65"]; $data["\x73\145\x6e\x64\x65\162"] = $this->settings["\x73\x65\x6e\144\145\162"]; $data["\x73\x65\x6e\x64\x65\162\x5f\164\171\160\x65"] = $this->settings["\x73\x65\x6e\x64\x65\162\137\164\171\160\x65"]; $data["\x73\145\156\144\145\x72\137\164\x69\156"] = $this->settings["\x73\145\156\x64\x65\162\137\164\151\x6e"]; $data["\163\145\156\x64\145\x72\x5f\x65\x64\x72\x70\157\x75"] = $this->settings["\163\145\156\x64\145\x72\x5f\x65\144\x72\x70\x6f\x75"]; $data["\163\x65\x6e\144\x65\162\137\x62\x61\x6e\x6b\137\x61\143\x63\x6f\165\x6e\164"] = $this->settings["\x73\x65\x6e\x64\145\x72\137\x62\x61\156\153\137\141\143\x63\x6f\165\156\164"]; $data["\163\145\x6e\x64\145\162\137\145\x6d\141\x69\x6c"] = $this->settings["\x73\145\156\x64\x65\x72\137\145\155\141\x69\154"]; $data["\163\145\x6e\144\x65\162\137\x70\x68\x6f\156\145"] = $this->settings["\163\x65\x6e\144\x65\162\x5f\x70\150\x6f\x6e\x65"]; $data["\163\145\x6e\x64\145\162\137\162\x65\x67\x69\157\156"] = $this->settings["\x73\145\156\144\145\162\x5f\162\145\x67\x69\x6f\x6e"]; $data["\163\145\x6e\x64\x65\x72\x5f\x63\x69\164\x79"] = $this->settings["\163\145\x6e\144\x65\162\137\x63\x69\164\171"]; $data["\x73\145\156\144\x65\x72\137\x73\164\162\145\145\164"] = $this->settings["\x73\145\156\x64\x65\162\x5f\x73\x74\x72\145\x65\x74"]; $data["\163\145\156\144\x65\162\x5f\x68\x6f\165\163\145"] = $this->settings["\163\x65\156\144\145\x72\137\x68\x6f\165\163\145"]; $data["\x73\x65\x6e\144\x65\162\x5f\146\154\141\164"] = $this->settings["\x73\x65\156\x64\x65\162\x5f\x66\x6c\141\x74"]; $data["\163\145\x6e\x64\145\162\137\160\157\x73\x74\143\x6f\x64\145"] = $this->settings["\163\145\x6e\x64\x65\162\x5f\x70\x6f\163\x74\143\x6f\144\x65"]; $data["\163\145\156\x64\145\162\x5f\141\144\144\162\x65\163\x73"] = $this->settings["\x73\145\156\x64\x65\162\137\x61\144\x64\162\145\163\x73"]; $data["\163\145\156\144\145\162\x5f\141\x64\144\162\x65\163\163\137\x70\x69\143\x6b\x5f\165\x70"] = $this->settings["\163\x65\x6e\x64\145\x72\137\x61\144\x64\162\145\x73\x73\137\x70\151\143\x6b\137\165\x70"]; $data["\162\145\143\151\x70\151\145\x6e\x74\137\156\x61\x6d\x65"] = ''; $data["\x72\145\143\151\160\151\145\x6e\x74"] = ''; $data["\162\x65\143\151\160\151\x65\x6e\x74\137\x74\x79\x70\x65"] = "\111\116\x44\111\x56\x49\x44\125\101\x4c"; $data["\162\145\x63\151\x70\x69\x65\x6e\164\x5f\x74\x69\x6e"] = ''; $data["\162\x65\143\x69\x70\x69\x65\156\164\137\x65\144\x72\x70\x6f\x75"] = ''; $data["\x72\x65\x63\151\x70\151\x65\156\164\137\x70\150\157\x6e\x65"] = ''; $data["\x72\x65\x63\151\160\x69\145\x6e\x74\137\162\145\x67\x69\157\156"] = ''; $data["\162\145\x63\151\160\x69\x65\x6e\x74\x5f\143\151\x74\x79\137\x6e\x61\x6d\x65"] = ''; $data["\162\x65\143\x69\x70\x69\145\x6e\x74\x5f\x63\x69\164\171"] = ''; $data["\162\x65\x63\x69\160\x69\x65\x6e\x74\x5f\x64\x65\160\x61\162\164\x6d\145\156\x74\137\x6e\141\155\x65"] = ''; $data["\162\x65\x63\151\160\151\145\156\164\x5f\x64\145\160\141\x72\x74\x6d\x65\156\x74"] = ''; $data["\x72\145\x63\x69\160\x69\x65\x6e\164\137\x73\164\x72\x65\145\x74"] = ''; $data["\x72\x65\x63\151\160\x69\x65\x6e\x74\x5f\x68\157\165\x73\145"] = ''; $data["\x72\x65\143\x69\160\151\145\x6e\x74\137\x66\154\x61\164"] = ''; $data["\x72\145\x63\151\160\x69\x65\156\x74\137\x70\157\163\x74\143\157\x64\145"] = ''; $data["\162\145\143\x69\x70\151\145\x6e\x74\137\x61\144\x64\x72\x65\163\163\x5f\151\144"] = ''; $data["\x72\145\143\x69\x70\x69\145\x6e\164\x5f\163\145\x72\166\151\143\x65\137\164\171\x70\x65"] = "\127"; $departure = $this->ukrposhta->getDeparture(false); $data["\160\x61\x72\143\145\x6c\163"] = $departure["\x70\x61\x72\143\x65\154\163"]; $data["\x70\x61\162\x63\x65\x6c\x73"][0]["\144\145\143\154\x61\162\x65\144\x5f\x63\x6f\163\x74"] = $this->settings["\x64\145\x63\154\x61\x72\x65\144\137\x63\157\163\x74\x5f\x64\145\x66\141\x75\154\x74"]; $data["\x70\141\x72\x63\x65\x6c\163"][0]["\144\145\160\x61\x72\x74\x75\x72\x65\x5f\x64\x65\163\x63\162\x69\160\164\x69\157\x6e"] = ''; $data["\x73\x65\141\x74\x73\x5f\x61\155\x6f\165\x6e\164"] = $this->settings["\x73\145\x61\x74\163\137\x61\155\x6f\165\x6e\164"]; $data["\144\x65\143\x6c\141\162\x65\x64\137\143\157\163\164"] = $this->settings["\144\x65\143\x6c\x61\x72\145\x64\x5f\143\x6f\163\164\137\144\145\x66\141\165\x6c\164"]; $data["\x64\x65\x70\141\162\164\165\x72\x65\137\x64\x65\x73\x63\162\151\x70\164\x69\157\x6e"] = $this->settings["\144\x65\x70\141\x72\164\x75\162\145\x5f\x64\x65\163\x63\x72\x69\x70\164\x69\157\156"]; $data["\x64\145\x6c\x69\x76\145\162\171\137\x70\141\171\x65\162"] = $this->settings["\144\145\x6c\x69\x76\145\x72\x79\137\160\141\x79\145\162"]; $data["\142\x61\x63\153\167\x61\162\144\x5f\x64\145\x6c\151\x76\145\x72\x79\137\x74\157\x74\x61\x6c"] = $data["\x64\145\143\154\141\162\145\144\137\143\x6f\x73\164"]; $data["\x62\141\x63\153\x77\x61\x72\x64\137\x64\145\154\x69\166\145\162\x79\137\x70\141\x79\x65\162"] = $this->settings["\x62\x61\143\153\x77\141\162\144\x5f\144\x65\x6c\x69\166\145\x72\x79\137\x70\141\171\x65\x72"]; $data["\x6d\x6f\x6e\145\x79\137\x74\162\141\156\x73\146\145\162\x5f\155\145\164\x68\157\x64"] = $this->settings["\155\x6f\156\145\x79\x5f\164\162\141\156\x73\x66\145\x72\137\155\x65\164\x68\x6f\x64"]; $data["\x64\145\154\x69\x76\x65\162\x79\137\x6e\157\x74\x69\x66\x69\x63\x61\164\x69\x6f\156"] = $this->settings["\144\x65\x6c\x69\x76\x65\162\171\137\x6e\157\164\x69\x66\x69\143\x61\x74\x69\157\x6e"]; $data["\x73\155\163\x5f\155\x65\x73\163\x61\x67\145"] = $this->settings["\163\155\163\x5f\155\x65\x73\163\141\x67\145"]; $data["\x63\x68\x65\x63\153\x5f\x6f\x6e\x5f\x64\145\x6c\x69\166\x65\162\x79"] = $this->settings["\143\x68\145\143\153\x5f\x6f\156\x5f\x64\x65\154\151\x76\x65\x72\171"]; $data["\x6f\x6e\x5f\x66\141\x69\154\137\x72\145\143\145\x69\x76\145"] = $this->settings["\157\x6e\x5f\x66\141\x69\x6c\x5f\x72\145\143\x65\151\x76\x65"]; } } $data["\162\x65\x66\145\162\x65\156\x63\x65\163"] = $this->ukrposhta->getReferences(); if (isset($data["\x72\145\146\145\x72\145\156\143\145\163"]["\143\154\151\x65\x6e\x74\x5f\164\171\x70\x65\x73"]) && is_array($data["\x72\x65\146\x65\x72\x65\x6e\143\145\163"]["\x63\154\151\145\x6e\x74\137\164\x79\x70\x65\163"])) { $data["\x63\154\x69\145\156\164\137\x74\171\160\x65\x73"] = $data["\162\x65\146\x65\x72\145\156\143\x65\x73"]["\x63\x6c\x69\145\x6e\x74\x5f\164\171\x70\x65\x73"]; } else { $data["\x63\154\x69\145\x6e\164\137\x74\x79\x70\x65\x73"] = array(); } if (isset($data["\162\x65\146\x65\162\x65\x6e\143\x65\x73"]["\160\141\171\145\x72\x5f\164\x79\160\x65\163"]) && is_array($data["\x72\x65\x66\145\x72\145\156\x63\x65\x73"]["\x70\x61\x79\145\x72\x5f\x74\x79\160\x65\163"])) { $data["\x70\141\171\145\x72\x5f\x74\171\160\x65\163"] = $data["\162\x65\146\145\x72\145\x6e\143\x65\163"]["\160\141\171\145\162\137\164\171\x70\x65\163"]; } else { $data["\160\x61\x79\x65\162\x5f\164\x79\x70\145\163"] = array(); } if (isset($data["\162\x65\x66\x65\162\145\x6e\x63\x65\163"]["\142\141\143\x6b\x77\141\162\144\x5f\x64\x65\x6c\151\x76\145\162\x79\137\160\x61\x79\145\x72\163"]) && is_array($data["\162\145\146\145\162\x65\x6e\x63\145\x73"]["\142\141\143\x6b\x77\141\x72\x64\x5f\x64\x65\x6c\151\166\x65\x72\x79\137\x70\x61\x79\x65\162\x73"])) { $data["\142\x61\143\x6b\167\x61\x72\144\137\144\x65\154\x69\166\145\162\171\137\160\141\171\x65\x72\x73"] = $data["\x72\x65\x66\x65\162\145\156\143\145\163"]["\x62\x61\143\153\167\141\162\x64\x5f\144\x65\x6c\151\x76\x65\162\x79\x5f\x70\x61\171\x65\162\163"]; } else { $data["\142\141\143\153\x77\141\x72\x64\137\x64\145\154\x69\166\145\162\x79\137\x70\141\171\145\x72\x73"] = array(); } $data["\x6d\157\x6e\145\171\137\x74\162\x61\156\163\x66\145\162\x5f\x6d\x65\164\150\157\x64\163"] = array("\x6f\156\x5f\144\x65\x70\x61\x72\x74\155\145\x6e\x74" => $this->language->get("\x74\x65\x78\x74\x5f\157\156\x5f\144\x65\160\141\x72\x74\155\145\x6e\164"), "\x74\x6f\137\142\x61\x6e\153\x5f\x61\143\143\x6f\x75\x6e\164" => $this->language->get("\164\145\x78\x74\137\x74\157\x5f\x62\141\156\x6b\x5f\x61\x63\143\157\x75\156\x74")); if (isset($data["\x72\x65\x66\145\162\145\156\x63\x65\163"]["\146\141\x69\x6c\x5f\162\145\x63\145\151\166\145\137\x74\x79\x70\x65\x73"]) && is_array($data["\x72\145\x66\145\162\x65\156\x63\145\x73"]["\146\x61\x69\154\x5f\162\145\x63\x65\151\166\145\137\x74\x79\160\145\163"])) { $data["\x66\141\x69\154\x5f\x72\145\143\x65\x69\x76\x65\137\164\x79\x70\145\163"] = $data["\162\x65\x66\145\x72\145\x6e\143\x65\x73"]["\x66\141\x69\x6c\x5f\162\145\143\145\x69\x76\145\x5f\x74\x79\160\x65\163"]; } else { $data["\146\141\151\x6c\137\162\x65\143\145\151\x76\145\137\x74\x79\160\x65\163"] = array(); } $data["\x72\145\x67\151\157\x6e\x73"] = $this->ukrposhta->getRegions(); $data["\x74\x6f\164\141\154\163"] = array(); if (isset($order_totals)) { foreach ($order_totals as $total) { $data["\x74\x6f\x74\x61\154\163"][] = array("\164\151\164\154\x65" => strip_tags($total["\x74\x69\164\x6c\x65"]), "\160\162\151\143\x65" => $this->convertToUAH($total["\166\141\154\x75\145"], $order_info["\x63\x75\162\x72\145\x6e\143\171\137\143\x6f\x64\x65"], $order_info["\x63\165\x72\162\145\156\x63\171\137\166\x61\154\165\145"]), "\x73\x74\141\164\165\163" => isset($this->settings["\x64\145\143\154\x61\162\x65\x64\x5f\143\x6f\x73\x74"]) && in_array($total["\x63\x6f\x64\x65"], (array) $this->settings["\x64\x65\x63\x6c\141\162\145\x64\137\x63\x6f\163\x74"]) ? 1 : 0); } } $data["\157\162\x64\145\x72\137\x69\144"] = $order_id; $data["\x63\156\137\x75\165\x69\144"] = $cn_uuid; $data["\166"] = $this->version; if ($this->language->get("\143\x6f\x64\145") == "\165\x61" || $this->language->get("\143\x6f\x64\145") == "\165\x6b" || $this->language->get("\143\157\x64\145") == "\165\x6b\55\x75\x61" || $this->language->get("\x63\x6f\x64\145") == "\165\141\x2d\x75\x6b") { $data["\x74\162\141\156\x73\154\141\164\x69\x6f\x6e\x73\x5f\x63\157\x64\x65"] = "\x75\x61\x5f\125\101"; } else { if ($this->language->get("\x63\x6f\x64\145") == "\x72\x75" || $this->language->get("\143\x6f\144\x65") == "\x72\x75\55\x72\165") { $data["\164\x72\141\156\x73\x6c\141\164\151\157\156\x73\137\x63\x6f\x64\x65"] = "\x72\x75\x5f\122\125"; } else { $data["\164\162\141\156\163\x6c\141\164\151\x6f\x6e\163\x5f\x63\x6f\144\145"] = "\145\x6e\137\x55\123"; } } if (version_compare(VERSION, "\62\x2e\x33", "\76\75")) { $data["\150\145\141\x64\x65\162"] = $this->load->controller("\143\x6f\155\155\157\156\57\x68\145\141\144\x65\x72"); $data["\x63\x6f\x6c\165\155\156\x5f\x6c\x65\146\x74"] = $this->load->controller("\x63\157\x6d\x6d\157\x6e\57\143\x6f\154\165\155\x6e\137\154\145\x66\x74"); $data["\x66\x6f\157\164\x65\x72"] = $this->load->controller("\x63\x6f\x6d\x6d\x6f\156\57\x66\157\x6f\164\145\x72"); $this->response->setOutput($this->load->view("\145\x78\x74\145\156\163\x69\x6f\156\x2f\163\x68\x69\160\160\x69\156\x67\57" . $this->extension . "\x5f\143\156\137\146\157\162\155", $data)); } else { if (version_compare(VERSION, "\62", "\76\75")) { $data["\150\145\x61\144\x65\162"] = $this->load->controller("\143\157\x6d\x6d\157\156\x2f\150\x65\141\144\145\x72"); $data["\143\x6f\x6c\165\155\x6e\x5f\154\145\x66\x74"] = $this->load->controller("\143\x6f\x6d\x6d\157\156\57\143\157\x6c\x75\155\156\x5f\154\145\146\164"); $data["\146\157\x6f\x74\145\162"] = $this->load->controller("\x63\x6f\155\155\157\x6e\57\146\x6f\157\164\145\162"); $this->response->setOutput($this->load->view("\163\x68\151\160\160\x69\x6e\147\x2f" . $this->extension . "\x5f\x63\156\x5f\146\x6f\162\155\x2e\x74\x70\154", $data)); } else { $data["\150\x65\x61\144\145\x72"] = $this->getChild("\143\157\x6d\x6d\157\156\x2f\150\145\x61\x64\x65\162"); $data["\x66\157\157\x74\x65\x72"] = $this->getChild("\x63\x6f\155\155\x6f\x6e\57\x66\157\x6f\x74\x65\162"); $this->template = "\163\150\151\160\x70\151\x6e\x67\57" . $this->extension . "\x5f\x63\156\137\146\x6f\x72\x6d\x2e\x74\160\154"; $patterns = array("\57\74\163\x63\x72\151\x70\164\40\164\x79\160\x65\x3d\42\x74\x65\170\x74\x5c\x2f\152\141\166\141\163\143\x72\151\x70\164\x22\x20\163\162\143\75\42\x76\x69\145\x77\x5c\57\x6a\x61\166\x61\163\143\x72\151\x70\x74\x5c\x2f\x6a\x71\x75\x65\x72\x79\x5c\x2f\x6a\x71\x75\x65\162\x79\55\x28\x2e\x2b\51\134\x2e\155\x69\x6e\x5c\56\152\163\42\x3e\74\x5c\x2f\163\143\x72\x69\x70\164\x3e\57", "\x2f\x3c\163\143\x72\x69\160\x74\40\x74\x79\160\145\75\x22\164\145\170\164\134\x2f\x6a\141\166\141\163\x63\162\x69\x70\x74\42\40\x73\162\143\75\42\x76\151\145\x77\x5c\x2f\152\x61\x76\141\163\143\162\x69\160\x74\134\x2f\x6a\161\x75\145\x72\171\x5c\x2f\x75\151\x5c\x2f\152\161\165\145\x72\x79\55\165\x69\55\x28\x2e\x2b\51\x5c\56\152\x73\x22\x3e\74\134\57\163\143\162\x69\160\164\x3e\57"); $replacements = array("\74\x73\x63\162\151\x70\164\x20\164\x79\x70\x65\75\42\164\x65\x78\x74\x2f\x6a\x61\166\x61\163\143\x72\151\160\164\x22\40\163\x72\143\75\x22\x68\164\164\x70\163\x3a\x2f\57\x63\x6f\x64\145\56\152\x71\165\145\x72\x79\x2e\143\157\x6d\x2f\152\161\x75\x65\x72\171\55\62\56\x31\x2e\x31\56\155\x69\156\56\x6a\x73\x22\76\74\x2f\163\x63\162\151\160\x74\76\xd\12\40\40\40\x20\40\x20\40\40\x20\x20\x20\40\x20\40\x20\40\x20\40\x20\40\x3c\x73\x63\162\x69\160\164\40\x74\x79\x70\145\75\x22\164\145\x78\164\x2f\152\x61\166\x61\163\x63\162\151\x70\x74\42\x20\163\x72\143\75\x22\150\164\x74\x70\x73\72\57\x2f\x63\x6f\144\x65\x2e\152\x71\165\x65\162\x79\56\x63\157\155\x2f\x6a\161\x75\145\162\x79\x2d\x6d\151\147\x72\x61\x74\145\x2d\61\56\x32\x2e\x31\56\x6d\x69\156\x2e\x6a\x73\42\76\x3c\57\x73\x63\x72\x69\160\x74\x3e\15\xa\x20\40\x20\x20\x20\40\x20\x20\40\x20\40\40\x20\x20\40\40\x20\40\x20\x20\x3c\x73\x63\x72\151\160\164\40\x74\171\160\x65\75\42\x74\145\x78\164\57\x6a\x61\166\x61\163\143\x72\151\x70\x74\x22\x20\x73\x72\x63\x3d\42\150\164\164\x70\x73\x3a\x2f\57\155\141\170\143\x64\x6e\x2e\142\157\x6f\164\x73\164\162\141\x70\x63\144\x6e\56\x63\x6f\155\57\142\x6f\157\x74\163\x74\162\x61\x70\x2f\x33\56\x33\x2e\67\57\x6a\x73\x2f\x62\x6f\157\164\163\164\162\141\x70\56\155\151\x6e\x2e\152\163\42\76\74\x2f\163\143\x72\151\x70\164\76\xd\xa\x20\x20\40\x20\x20\x20\40\x20\40\x20\40\40\x20\x20\x20\40\40\40\40\40\x3c\x73\143\162\151\x70\x74\40\x74\171\160\145\75\x22\x74\x65\170\x74\x2f\152\141\166\141\x73\143\162\151\160\164\42\40\163\x72\x63\x3d\42\166\151\x65\x77\57\152\141\166\x61\x73\143\162\x69\160\x74\57\157\143\x6d\x61\170\57\x6d\157\155\x65\x6e\164\x2e\155\151\156\56\152\163\x22\76\74\x2f\x73\x63\x72\151\160\x74\x3e\xd\xa\x20\x20\x20\40\40\x20\40\x20\40\x20\x20\x20\40\x20\40\40\40\40\x20\x20\x3c\163\143\x72\x69\160\x74\x20\164\x79\160\145\75\42\x74\x65\x78\164\57\152\141\x76\x61\163\x63\x72\151\x70\164\x22\40\163\162\143\75\x22\166\x69\145\167\57\x6a\x61\166\x61\x73\143\x72\151\160\x74\57\157\x63\x6d\141\170\x2f\x62\x6f\x6f\164\x73\x74\162\141\x70\x2d\144\141\x74\145\164\x69\x6d\145\160\x69\x63\153\145\x72\x2e\x6d\151\x6e\x2e\152\163\x22\x3e\74\57\163\x63\x72\x69\160\164\x3e\xd\xa\40\x20\x20\40\x20\x20\x20\40\40\x20\40\x20\40\x20\40\x20\x20\x20\x20\x20\74\163\x63\x72\151\160\x74\40\164\171\x70\x65\x3d\42\164\145\x78\x74\57\152\x61\166\x61\163\143\x72\151\160\164\x22\40\163\162\143\x3d\42\166\x69\x65\x77\57\152\141\x76\141\163\x63\x72\x69\160\x74\x2f\x6f\143\155\141\170\x2f\x6f\x63\155\x61\170\x2e\152\163\42\x3e\x3c\57\163\143\x72\x69\160\164\76\xd\12\40\x20\40\x20\40\x20\x20\x20\40\40\x20\x20\x20\x20\x20\x20\40\40\40\x20\x3c\154\x69\x6e\x6b\40\162\145\x6c\75\42\163\164\171\154\145\163\x68\x65\145\164\42\40\x74\171\160\x65\75\42\164\x65\x78\164\57\x63\163\163\x22\40\150\162\x65\146\x3d\42\150\x74\164\160\163\x3a\x2f\57\155\141\170\143\x64\x6e\x2e\x62\x6f\x6f\164\x73\164\x72\x61\160\143\144\156\56\x63\x6f\155\x2f\x62\157\x6f\x74\x73\164\162\141\160\x2f\x33\x2e\63\x2e\67\57\143\163\x73\x2f\142\157\x6f\x74\x73\x74\162\141\x70\56\x6d\x69\x6e\x2e\143\x73\163\42\40\155\x65\x64\151\141\75\x22\163\x63\162\x65\145\156\42\40\x2f\x3e\15\12\x20\40\40\40\x20\40\x20\40\40\x20\x20\40\x20\x20\40\x20\x20\40\x20\x20\x3c\x6c\x69\x6e\x6b\40\162\145\154\x3d\x22\163\164\x79\x6c\x65\163\150\x65\145\164\x22\x20\164\171\x70\x65\x3d\42\164\145\170\x74\x2f\143\x73\163\42\40\150\x72\145\x66\x3d\42\166\x69\x65\x77\57\163\164\171\154\145\x73\x68\x65\x65\164\x2f\x6f\x63\155\141\170\x2f\x62\x6f\157\164\163\x74\162\x61\160\x2e\x66\151\x78\x2e\x63\163\x73\x22\40\x6d\145\144\x69\x61\75\42\163\143\162\x65\x65\x6e\x22\x20\57\x3e\xd\xa\40\x20\x20\x20\x20\40\x20\x20\x20\40\x20\x20\40\x20\x20\x20\40\x20\x20\40\74\x6c\x69\156\x6b\x20\x72\145\x6c\x3d\x22\163\164\171\x6c\x65\163\150\x65\145\x74\42\40\x74\x79\160\145\75\42\x74\x65\x78\x74\57\x63\x73\x73\42\40\x68\162\145\x66\75\42\150\x74\x74\x70\x73\72\57\57\155\x61\x78\x63\144\156\x2e\x62\157\x6f\164\x73\x74\162\x61\160\x63\144\x6e\56\x63\157\155\x2f\x66\157\x6e\x74\x2d\x61\167\145\x73\157\155\x65\x2f\x34\56\67\56\60\x2f\x63\x73\x73\57\146\x6f\x6e\164\x2d\x61\167\145\163\157\155\145\56\155\151\156\56\143\163\163\42\40\x6d\145\144\x69\141\75\x22\163\x63\x72\145\x65\x6e\x22\x20\57\x3e\15\12\x20\40\x20\x20\x20\x20\40\x20\40\40\40\40\x20\x20\40\x20\40\x20\40\x20\74\154\151\x6e\153\x20\162\145\154\75\42\x73\x74\171\154\145\163\x68\x65\145\x74\x22\40\x74\x79\160\x65\75\42\164\x65\170\164\x2f\x63\163\163\42\x20\150\162\145\146\x3d\42\166\151\145\x77\x2f\163\x74\171\154\145\x73\150\145\x65\x74\x2f\157\x63\155\x61\170\x2f\142\157\x6f\x74\x73\164\162\141\160\x2d\x64\x61\164\x65\164\151\155\145\x70\151\143\x6b\x65\x72\56\x6d\x69\x6e\56\143\163\163\x22\40\155\x65\144\x69\x61\x3d\42\x73\x63\x72\145\x65\x6e\42\40\57\76", "\74\x73\x63\x72\x69\160\x74\x20\164\x79\x70\x65\x3d\42\164\x65\x78\x74\x2f\x6a\x61\x76\141\x73\x63\x72\x69\x70\164\42\x20\163\x72\x63\x3d\x22\x68\x74\164\160\x73\x3a\x2f\57\x63\x6f\x64\x65\56\x6a\161\165\145\x72\171\x2e\x63\x6f\x6d\x2f\165\x69\x2f\61\56\x38\x2e\x32\x34\x2f\152\161\165\145\162\x79\x2d\x75\x69\x2e\155\x69\x6e\56\152\163\42\x3e\74\57\163\x63\x72\151\x70\x74\x3e"); $data["\x68\x65\x61\x64\x65\x72"] = preg_replace($patterns, $replacements, $data["\150\x65\x61\x64\145\162"]); $this->data = $data; $this->response->setOutput($this->render()); } } } } public function getCNList() { if (version_compare(VERSION, "\62\x2e\x33", "\76\x3d")) { $this->load->language("\145\170\x74\x65\156\x73\151\x6f\x6e\x2f\163\x68\151\x70\160\151\x6e\x67\57" . $this->extension); $this->load->model("\145\170\164\145\156\163\x69\157\x6e\57\x73\150\x69\x70\x70\151\x6e\147\57" . $this->extension); $model_name = "\x6d\157\x64\x65\x6c\137\x65\x78\164\x65\156\163\151\x6f\156\137\163\x68\x69\160\x70\x69\x6e\x67\x5f" . $this->extension; } else { $this->load->language("\163\x68\151\x70\160\151\x6e\x67\x2f" . $this->extension); $this->load->model("\163\x68\151\160\160\151\x6e\x67\57" . $this->extension); $model_name = "\x6d\157\x64\145\x6c\137\x73\x68\x69\160\x70\x69\156\x67\x5f" . $this->extension; } $this->document->setTitle($this->language->get("\x68\145\x61\144\x69\156\x67\x5f\x74\x69\x74\154\x65")); if (isset($this->session->data["\x73\165\x63\x63\x65\163\163"])) { $data["\143\156\x5f\x75\x75\151\144"] = $this->session->data["\143\x6e\137\x75\x75\151\144"]; $data["\163\x75\143\143\x65\163\x73"] = $this->session->data["\x73\165\143\143\145\163\x73"]; unset($this->session->data["\163\165\143\x63\145\163\163"]); unset($this->session->data["\143\156\x5f\x75\165\x69\144"]); } else { $data["\143\x6e\x5f\165\165\151\x64"] = ''; $data["\x73\x75\143\x63\x65\x73\x73"] = ''; } if (isset($this->request->post["\x73\x65\154\145\143\x74\x65\x64"])) { $data["\x73\145\x6c\145\x63\164\145\144"] = (array) $this->request->post["\x73\x65\154\145\x63\x74\x65\144"]; } else { $data["\x73\145\154\x65\143\x74\145\x64"] = array(); } if (isset($this->request->get["\146\151\x6c\164\145\162\x5f\x63\156\x5f\156\x75\x6d\142\145\x72"])) { $filter_cn_number = $this->request->get["\146\x69\154\164\x65\x72\137\143\x6e\x5f\156\x75\x6d\x62\x65\162"]; } else { $filter_cn_number = NULL; } if (isset($this->request->get["\146\x69\154\x74\x65\x72\137\x6f\162\x64\x65\x72\137\x69\144"])) { $filter_order_id = $this->request->get["\x66\x69\154\x74\x65\x72\137\157\162\x64\145\162\x5f\x69\x64"]; } else { $filter_order_id = NULL; } if (isset($this->request->get["\x70\141\147\145"])) { $page = $this->request->get["\x70\x61\147\145"]; } else { $page = 1; } if ($this->settings["\160\x72\151\156\x74\x5f\164\x79\x70\x65"] == "\163\x74\x69\x63\x6b\145\x72\x5f\147\162\157\x75\x70") { $customized_printing = "\46\164\171\x70\145\x3d\x73\x74\151\143\x6b\x65\x72\x5f\147\x72\157\165\x70"; } else { if ($this->settings["\x70\x72\151\156\164\137\164\171\x70\x65"] == "\x66\x6f\x72\x6d\x31\60\x33\141") { $customized_printing = "\x26\x74\x79\160\145\x3d\146\157\162\x6d\61\x30\x33\141"; } else { $customized_printing = "\46\164\x79\x70\145\x3d\x73\164\151\x63\x6b\145\x72"; } } if ($this->settings["\160\162\x69\156\x74\x5f\146\157\162\x6d\141\x74"] == "\101\64") { $customized_printing .= "\46\x66\157\x72\x6d\x61\164\75\x41\64"; } else { if ($this->settings["\160\x72\151\156\x74\137\146\x6f\x72\x6d\141\x74"] == "\101\x35") { $customized_printing .= "\x26\x66\157\x72\155\141\164\x3d\101\65"; } } if ($this->settings["\160\x72\x69\156\x74\137\x73\x65\x6e\144\145\x72\x5f\156\141\x6d\x65"]) { $customized_printing .= "\x26\x70\x72\151\x6e\x74\137\x73\x65\x6e\x64\145\162\x5f\156\141\155\x65\75\x31"; } if (!$this->settings["\x70\x72\x69\x6e\x74\137\x64\145\154\x69\x76\x65\162\171\x5f\x70\x72\151\x63\145"]) { $customized_printing .= "\46\150\x69\x64\145\137\144\145\x6c\151\166\145\x72\x79\137\160\x72\x69\x63\x65\75\x31"; } if (!$this->settings["\x70\162\x69\x6e\x74\x5f\144\x65\x63\154\x61\162\x65\144\x5f\x70\x72\151\x63\x65"]) { $customized_printing .= "\x26\150\151\x64\x65\x5f\x64\x65\x63\154\141\x72\145\x64\137\160\x72\x69\x63\x65\x3d\x31"; } if (version_compare(VERSION, "\63", "\76\75")) { $data["\x62\162\145\x61\144\143\162\x75\x6d\x62\x73"] = array(); $data["\142\x72\145\141\144\x63\x72\165\x6d\x62\x73"][] = array("\x74\145\170\164" => $this->language->get("\164\x65\170\x74\x5f\150\x6f\x6d\x65"), "\150\162\145\146" => $this->url->link("\143\x6f\155\155\157\156\x2f\x64\141\163\150\142\157\141\x72\x64", "\x75\x73\145\162\x5f\164\x6f\153\145\156\x3d" . $this->session->data["\165\163\x65\x72\x5f\x74\x6f\153\x65\156"], true)); $data["\142\162\x65\x61\144\x63\162\165\x6d\x62\x73"][] = array("\164\145\170\x74" => $this->language->get("\x74\145\170\x74\137\157\x72\x64\145\162\163"), "\x68\162\x65\146" => $this->url->link("\x73\x61\154\x65\x2f\x6f\x72\x64\145\162", "\x75\163\145\x72\137\x74\x6f\153\145\156\75" . $this->session->data["\165\x73\x65\x72\137\x74\x6f\x6b\x65\156"], true)); $data["\160\162\x69\156\x74\x5f\163\164\151\x63\153\145\162\x73"] = $this->url->link("\145\x78\164\x65\156\163\x69\x6f\x6e\57\x73\150\151\160\160\151\x6e\x67\57" . $this->extension . "\57\160\x72\151\156\x74\104\x6f\143\165\155\145\156\x74", "\x75\163\145\x72\137\x74\157\x6b\x65\x6e\x3d" . $this->session->data["\x75\x73\x65\x72\x5f\164\157\x6b\x65\156"] . "\46\164\171\160\145\75\x73\x74\x69\143\x6b\x65\162\163\x2d\x62\x79\55\142\x61\x72\143\x6f\x64\145\163", true); $data["\x63\x75\x73\164\x6f\155\x69\x7a\x65\x64\x5f\x70\162\151\156\x74\x69\156\147"] = $this->url->link("\x65\x78\164\145\156\163\x69\x6f\x6e\x2f\163\x68\151\160\x70\x69\x6e\147\x2f" . $this->extension . "\57\x70\x72\151\156\164\x44\157\143\x75\155\x65\156\164", "\165\163\x65\x72\x5f\x74\x6f\x6b\145\x6e\x3d" . $this->session->data["\x75\163\145\x72\x5f\164\x6f\x6b\x65\156"] . $customized_printing, true); $data["\160\x72\151\156\x74\137\163\164\151\x63\x6b\x65\162\x5f\61\x30\60\x78\x31\60\60\137\x70\144\x66"] = $this->url->link("\145\170\x74\x65\x6e\x73\151\157\156\x2f\x73\150\151\160\160\x69\x6e\x67\57" . $this->extension . "\57\160\162\x69\156\x74\104\157\x63\x75\x6d\145\156\x74", "\165\163\145\x72\x5f\x74\157\153\x65\156\x3d" . $this->session->data["\165\x73\x65\x72\137\164\x6f\153\x65\x6e"] . "\46\x74\171\x70\145\x3d\x73\164\151\143\153\145\x72", true); $data["\x70\x72\x69\156\164\x5f\163\x74\151\x63\x6b\145\162\x5f\147\x72\x6f\x75\x70\137\61\60\x30\x78\61\60\60\x5f\x70\x64\x66"] = $this->url->link("\145\170\x74\145\156\163\x69\x6f\x6e\57\x73\x68\x69\x70\x70\x69\156\147\57" . $this->extension . "\x2f\160\x72\x69\x6e\164\104\x6f\143\165\x6d\x65\156\x74", "\x75\163\145\x72\137\x74\157\x6b\x65\x6e\75" . $this->session->data["\165\163\x65\x72\137\164\157\153\145\x6e"] . "\46\x74\x79\x70\145\x3d\163\x74\x69\x63\153\145\162\x5f\x67\x72\x6f\x75\160", true); $data["\x70\162\151\x6e\x74\137\147\162\x6f\x75\x70\x5f\x66\x6f\162\x6d\137\x31\x30\x33\141\x5f\160\144\146"] = $this->url->link("\x65\170\x74\x65\156\163\151\x6f\x6e\x2f\163\150\x69\160\160\151\x6e\147\57" . $this->extension . "\57\x70\x72\x69\156\x74\104\157\143\165\x6d\145\156\x74", "\165\x73\x65\162\137\x74\x6f\153\145\156\x3d" . $this->session->data["\165\x73\x65\x72\137\x74\157\153\145\156"] . "\x26\164\x79\x70\x65\75\146\x6f\162\x6d\61\x30\63\x61", true); $data["\141\x64\x64"] = $this->url->link("\x65\170\x74\145\156\163\151\157\156\57\163\x68\151\x70\160\x69\156\147\57" . $this->extension . "\x2f\x67\145\164\x43\x4e\106\x6f\x72\x6d", "\x75\163\145\x72\137\x74\157\x6b\x65\156\x3d" . $this->session->data["\x75\x73\x65\162\x5f\x74\x6f\153\145\x6e"], true); $data["\x62\x61\143\x6b\137\x74\x6f\x5f\x6f\x72\x64\145\162\x73"] = $this->url->link("\163\x61\x6c\x65\57\157\162\x64\x65\x72", "\x75\163\x65\x72\x5f\x74\x6f\153\145\x6e\x3d" . $this->session->data["\165\x73\x65\162\x5f\x74\157\153\145\156"], true); $data["\x75\163\145\x72\x5f\164\157\x6b\x65\x6e"] = $this->session->data["\165\163\x65\x72\x5f\164\x6f\153\x65\x6e"]; $config_admin_limit = $this->config->get("\143\x6f\x6e\x66\151\147\x5f\x6c\151\155\x69\x74\137\141\x64\x6d\x69\156"); } else { if (version_compare(VERSION, "\62\x2e\63", "\76\75")) { $data["\142\162\145\141\144\x63\162\165\x6d\x62\163"] = array(); $data["\142\162\145\x61\x64\143\x72\165\x6d\142\x73"][] = array("\x74\x65\x78\x74" => $this->language->get("\164\x65\x78\164\x5f\150\x6f\155\x65"), "\150\x72\145\146" => $this->url->link("\143\157\x6d\155\x6f\156\x2f\x64\x61\x73\150\142\x6f\141\162\x64", "\x74\x6f\x6b\145\156\x3d" . $this->session->data["\x74\157\153\145\x6e"], true)); $data["\x62\162\145\141\144\143\x72\x75\x6d\x62\x73"][] = array("\x74\145\x78\x74" => $this->language->get("\164\x65\170\164\x5f\x6f\x72\144\x65\x72\163"), "\150\x72\145\146" => $this->url->link("\163\x61\154\145\57\157\x72\144\x65\x72", "\164\157\x6b\x65\156\x3d" . $this->session->data["\x74\x6f\x6b\x65\156"], true)); $data["\160\x72\151\x6e\x74\137\163\164\151\143\153\145\x72\163"] = $this->url->link("\145\170\x74\x65\x6e\163\151\x6f\156\57\163\x68\x69\x70\x70\151\x6e\x67\x2f" . $this->extension . "\57\x70\x72\151\156\x74\x44\157\x63\x75\155\x65\x6e\x74", "\164\x6f\153\x65\x6e\x3d" . $this->session->data["\164\157\153\145\x6e"] . "\46\x74\171\160\x65\75\x73\x74\151\x63\x6b\x65\x72\163\x2d\142\171\55\x62\x61\162\143\x6f\144\145\x73", true); $data["\x63\x75\x73\x74\157\155\x69\172\145\x64\137\160\162\x69\156\164\x69\x6e\147"] = $this->url->link("\145\x78\164\x65\156\163\151\x6f\156\x2f\163\x68\x69\x70\160\x69\156\147\x2f" . $this->extension . "\57\x70\x72\151\x6e\x74\x44\x6f\x63\165\155\x65\x6e\164", "\164\157\153\145\x6e\x3d" . $this->session->data["\x74\157\x6b\x65\156"] . $customized_printing, true); $data["\160\x72\151\156\164\137\x73\x74\151\x63\153\x65\162\137\61\60\60\x78\x31\x30\60\x5f\160\x64\x66"] = $this->url->link("\145\170\x74\x65\x6e\163\x69\x6f\x6e\x2f\x73\x68\151\160\x70\x69\x6e\x67\57" . $this->extension . "\x2f\x70\162\151\156\164\104\x6f\x63\165\x6d\x65\x6e\164", "\164\x6f\x6b\145\x6e\75" . $this->session->data["\x74\x6f\x6b\145\156"] . "\46\x74\171\x70\x65\x3d\163\x74\151\x63\x6b\145\x72", true); $data["\160\x72\151\156\x74\x5f\163\164\x69\x63\x6b\x65\162\x5f\x67\x72\157\165\x70\137\61\60\60\x78\61\x30\x30\137\160\x64\146"] = $this->url->link("\145\x78\164\x65\x6e\163\x69\x6f\x6e\57\163\150\x69\160\160\x69\x6e\147\x2f" . $this->extension . "\57\160\162\151\x6e\x74\104\157\143\165\x6d\x65\x6e\x74", "\x74\157\153\x65\156\x3d" . $this->session->data["\164\x6f\153\145\156"] . "\x26\x74\171\160\x65\x3d\x73\164\x69\143\x6b\x65\x72\137\147\162\157\165\x70", true); $data["\160\x72\151\156\164\137\x67\162\x6f\x75\160\x5f\146\x6f\162\x6d\x5f\61\x30\63\x61\x5f\160\144\x66"] = $this->url->link("\x65\170\164\145\x6e\163\151\x6f\156\x2f\x73\150\151\160\160\151\156\147\x2f" . $this->extension . "\x2f\160\x72\x69\156\x74\104\x6f\143\165\155\145\x6e\x74", "\164\x6f\153\x65\156\75" . $this->session->data["\x74\x6f\153\x65\156"] . "\x26\164\x79\160\x65\x3d\x66\x6f\162\155\x31\x30\63\141", true); $data["\141\144\144"] = $this->url->link("\145\170\164\x65\x6e\163\x69\x6f\156\57\x73\150\151\160\x70\151\x6e\147\x2f" . $this->extension . "\57\147\x65\164\x43\x4e\x46\x6f\162\155", "\x74\x6f\153\x65\156\x3d" . $this->session->data["\164\x6f\x6b\x65\x6e"], true); $data["\142\141\x63\x6b\137\164\157\137\x6f\x72\144\x65\162\x73"] = $this->url->link("\163\x61\x6c\145\57\157\162\x64\x65\x72", "\x74\x6f\153\x65\x6e\75" . $this->session->data["\x74\x6f\153\145\x6e"], true); $data["\164\x6f\x6b\x65\x6e"] = $this->session->data["\164\157\x6b\145\156"]; $config_admin_limit = $this->config->get("\x63\157\156\x66\151\x67\137\x6c\151\155\x69\164\x5f\141\144\155\151\156"); } else { $data["\x62\162\145\141\144\x63\x72\x75\155\x62\x73"] = array(); if (version_compare(VERSION, "\62", "\76\x3d")) { $data["\x62\x72\x65\141\144\143\162\x75\155\142\163"][] = array("\164\145\x78\164" => $this->language->get("\x74\145\170\x74\137\x68\157\155\145"), "\150\162\x65\146" => $this->url->link("\143\x6f\x6d\x6d\x6f\156\57\x64\x61\163\150\142\x6f\141\162\144", "\164\x6f\153\x65\156\x3d" . $this->session->data["\x74\157\x6b\145\x6e"], "\x53\123\x4c")); $config_admin_limit = $this->config->get("\x63\x6f\x6e\146\151\147\x5f\x6c\x69\155\x69\x74\137\x61\144\155\151\156"); } else { $data["\142\162\x65\141\x64\143\x72\x75\155\142\163"][] = array("\164\145\170\x74" => $this->language->get("\164\145\170\164\137\x68\157\x6d\145"), "\150\x72\x65\146" => $this->url->link("\143\x6f\x6d\155\157\x6e\x2f\x68\157\x6d\x65", "\x74\157\153\x65\156\x3d" . $this->session->data["\x74\x6f\153\x65\156"], "\x53\x53\x4c")); $config_admin_limit = $this->config->get("\x63\x6f\x6e\146\x69\147\x5f\x61\144\155\x69\x6e\137\154\x69\x6d\151\x74"); } $data["\x62\x72\x65\141\144\x63\162\165\155\x62\x73"][] = array("\x74\x65\x78\164" => $this->language->get("\164\x65\x78\164\137\x6f\162\x64\145\162\163"), "\150\162\145\146" => $this->url->link("\x73\x61\x6c\145\57\157\x72\144\145\x72", "\x74\157\x6b\145\x6e\x3d" . $this->session->data["\164\157\x6b\145\156"], "\x53\123\x4c")); $data["\x70\162\151\156\164\x5f\x73\x74\151\x63\x6b\x65\162\163"] = $this->url->link("\163\x68\x69\x70\160\x69\156\x67\57" . $this->extension . "\57\160\x72\151\156\164\104\157\x63\x75\155\x65\156\164", "\164\157\x6b\x65\x6e\75" . $this->session->data["\164\157\153\x65\x6e"] . "\x26\164\x79\160\x65\75\x73\x74\x69\143\x6b\x65\x72\x73\x2d\x62\171\55\142\x61\162\x63\157\x64\x65\x73", true); $data["\x63\x75\x73\x74\157\155\151\x7a\145\x64\x5f\x70\x72\x69\x6e\164\151\x6e\147"] = $this->url->link("\163\x68\x69\x70\160\x69\156\x67\x2f" . $this->extension . "\57\160\162\x69\x6e\164\104\x6f\x63\165\x6d\x65\156\164", "\164\157\x6b\x65\x6e\75" . $this->session->data["\x74\157\153\145\156"] . $customized_printing, "\123\123\x4c"); $data["\160\162\x69\156\x74\137\163\164\x69\143\153\x65\162\x5f\x31\60\x30\170\61\60\x30\x5f\160\x64\x66"] = $this->url->link("\x73\x68\x69\160\160\151\x6e\x67\57" . $this->extension . "\57\160\162\151\156\x74\x44\x6f\x63\x75\x6d\145\156\x74", "\164\x6f\x6b\145\156\75" . $this->session->data["\x74\x6f\x6b\145\156"] . "\x26\x74\171\160\x65\x3d\163\164\151\x63\x6b\x65\x72", "\123\123\114"); $data["\x70\x72\151\x6e\164\x5f\x73\x74\151\x63\x6b\x65\x72\137\x67\x72\x6f\165\x70\137\x31\x30\x30\170\61\x30\60\x5f\160\x64\146"] = $this->url->link("\x73\150\151\160\160\x69\156\147\57" . $this->extension . "\57\x70\162\151\156\164\x44\157\143\165\x6d\145\x6e\164", "\164\157\x6b\x65\x6e\x3d" . $this->session->data["\164\157\153\x65\156"] . "\46\x74\171\x70\x65\75\x73\164\151\143\x6b\145\162\137\x67\162\157\165\160", "\123\x53\114"); $data["\160\x72\x69\x6e\164\137\x67\162\x6f\x75\160\x5f\x66\x6f\x72\155\x5f\61\x30\63\x61\137\160\144\146"] = $this->url->link("\163\x68\x69\160\160\151\x6e\147\x2f" . $this->extension . "\x2f\x70\x72\x69\156\164\104\x6f\x63\165\x6d\x65\156\x74", "\164\157\153\x65\x6e\x3d" . $this->session->data["\x74\157\153\x65\x6e"] . "\46\164\171\x70\145\75\146\157\x72\155\61\60\x33\141", "\x53\123\114"); $data["\x61\x64\x64"] = $this->url->link("\163\x68\x69\160\160\151\156\147\x2f" . $this->extension . "\57\x67\145\164\x43\x4e\x46\157\162\x6d", "\164\157\x6b\145\x6e\75" . $this->session->data["\x74\x6f\x6b\145\x6e"], "\x53\x53\x4c"); $data["\142\141\143\153\137\164\157\x5f\x6f\x72\x64\x65\162\x73"] = $this->url->link("\x73\141\154\x65\57\157\x72\x64\x65\x72", "\164\x6f\153\x65\156\75" . $this->session->data["\x74\157\x6b\145\156"], "\123\x53\x4c"); $data["\164\157\x6b\x65\156"] = $this->session->data["\x74\157\153\x65\156"]; } } if (version_compare(VERSION, "\63", "\x3c")) { $data["\150\x65\141\144\x69\x6e\147\x5f\164\151\x74\154\145"] = $this->language->get("\150\x65\141\144\x69\x6e\147\137\x74\151\164\154\145"); $data["\150\145\x61\144\151\156\147\137\x61\x64\x64\151\x6e\x67\137\164\157\x5f\147\162\x6f\x75\160"] = $this->language->get("\150\145\x61\144\x69\x6e\147\137\x61\144\144\151\156\x67\137\164\x6f\137\x67\162\x6f\165\160"); $data["\142\165\x74\x74\157\x6e\x5f\146\151\154\164\145\x72"] = $this->language->get("\x62\165\164\x74\x6f\x6e\137\x66\x69\x6c\x74\x65\x72"); $data["\x62\165\164\x74\x6f\x6e\x5f\x61\144\144"] = $this->language->get("\x62\165\164\164\x6f\156\137\141\144\144"); $data["\x62\165\x74\x74\157\156\x5f\144\x65\154\145\x74\145"] = $this->language->get("\x62\x75\164\164\157\x6e\137\144\x65\154\x65\x74\145"); $data["\142\x75\x74\164\157\x6e\x5f\x62\x61\143\x6b\x5f\164\x6f\x5f\157\162\144\145\x72\x73"] = $this->language->get("\142\x75\x74\164\x6f\x6e\137\142\141\143\153\137\x74\157\137\x6f\162\x64\145\x72\163"); $data["\143\157\154\165\155\156\137\143\156\x5f\x69\144\x65\156\164\151\x66\x69\x65\x72"] = $this->language->get("\143\x6f\154\x75\x6d\156\137\x63\x6e\x5f\x69\144\145\x6e\x74\x69\146\x69\x65\x72"); $data["\x63\157\x6c\165\155\156\x5f\x63\x6e\137\156\x75\x6d\142\145\x72"] = $this->language->get("\143\157\154\x75\155\156\x5f\x63\156\137\x6e\x75\155\142\x65\x72"); $data["\x63\157\154\x75\x6d\156\137\x6f\162\144\145\162\137\x6e\x75\155\142\x65\162"] = $this->language->get("\x63\157\x6c\x75\155\x6e\137\x6f\x72\x64\145\x72\137\x6e\x75\x6d\x62\x65\162"); $data["\143\x6f\x6c\x75\x6d\156\x5f\163\150\151\x70\x6d\145\x6e\x74\137\147\162\x6f\165\160"] = $this->language->get("\x63\157\154\x75\155\x6e\137\163\x68\151\160\x6d\x65\156\x74\x5f\x67\x72\x6f\x75\x70"); $data["\x63\x6f\x6c\165\155\156\x5f\145\x73\164\151\155\141\x74\x65\x64\x5f\x73\150\151\160\160\x69\x6e\x67\137\144\141\164\x65"] = $this->language->get("\x63\157\154\165\155\156\137\x65\x73\x74\151\x6d\141\x74\145\144\137\x73\x68\151\160\160\x69\156\x67\x5f\144\x61\164\x65"); $data["\x63\x6f\154\165\x6d\x6e\x5f\154\141\163\164\x5f\x75\x70\144\141\164\145\144\x5f\163\164\x61\x74\165\163\137\x64\141\164\x65"] = $this->language->get("\x63\157\154\165\155\x6e\x5f\x6c\x61\x73\x74\137\165\x70\144\141\x74\145\144\137\163\164\141\164\165\163\x5f\144\141\x74\145"); $data["\x63\x6f\154\x75\155\156\x5f\154\141\x73\x74\x5f\x6d\x6f\x64\x69\x66\x69\x65\144\137\x64\x61\x74\x65"] = $this->language->get("\x63\x6f\x6c\165\155\x6e\137\154\141\163\x74\137\155\157\144\151\x66\151\145\144\x5f\x64\141\164\x65"); $data["\143\x6f\x6c\x75\x6d\x6e\137\163\145\x6e\144\145\x72"] = $this->language->get("\143\157\154\165\155\x6e\137\163\145\x6e\x64\x65\162"); $data["\x63\x6f\x6c\165\155\156\x5f\x73\145\x6e\x64\145\162\137\160\150\157\x6e\145"] = $this->language->get("\x63\x6f\x6c\165\155\156\x5f\x73\145\x6e\144\x65\162\x5f\x70\x68\x6f\x6e\145"); $data["\143\x6f\154\x75\155\x6e\x5f\x73\x65\156\144\x65\x72\x5f\141\144\x64\162\145\163\x73"] = $this->language->get("\143\157\154\x75\155\x6e\x5f\x73\145\156\144\145\162\x5f\141\x64\144\162\x65\163\163"); $data["\143\157\154\165\x6d\x6e\137\162\145\x63\x69\x70\151\x65\x6e\164"] = $this->language->get("\x63\x6f\154\x75\155\156\137\162\x65\x63\151\160\x69\x65\156\x74"); $data["\x63\x6f\x6c\x75\x6d\156\x5f\x72\145\143\x69\x70\x69\x65\x6e\x74\137\x70\150\x6f\x6e\145"] = $this->language->get("\x63\x6f\154\165\x6d\156\x5f\x72\145\x63\151\160\151\x65\x6e\164\137\160\x68\x6f\156\145"); $data["\x63\x6f\154\x75\x6d\x6e\137\162\x65\143\x69\160\151\x65\156\x74\137\141\x64\144\162\x65\163\x73"] = $this->language->get("\x63\x6f\154\x75\x6d\156\137\162\x65\x63\151\160\151\145\x6e\x74\x5f\141\144\144\x72\145\x73\163"); $data["\x63\x6f\x6c\x75\x6d\156\137\x77\145\151\147\x68\164"] = $this->language->get("\x63\157\154\x75\155\156\x5f\167\x65\x69\x67\x68\164"); $data["\143\157\x6c\x75\x6d\156\x5f\x73\145\141\164\x73\x5f\141\155\157\165\156\164"] = $this->language->get("\143\x6f\154\x75\x6d\x6e\137\163\x65\141\164\x73\137\x61\155\x6f\x75\156\164"); $data["\x63\x6f\x6c\165\x6d\156\x5f\144\145\143\154\141\162\145\144\137\x63\x6f\x73\x74"] = $this->language->get("\x63\x6f\154\165\x6d\156\137\x64\x65\x63\154\141\162\145\x64\137\143\157\163\x74"); $data["\x63\x6f\154\165\x6d\156\137\163\x68\151\x70\x70\x69\156\x67\x5f\x63\157\163\x74"] = $this->language->get("\143\157\154\165\x6d\156\137\163\x68\151\x70\160\151\156\147\x5f\143\x6f\163\164"); $data["\143\x6f\x6c\165\x6d\x6e\137\x62\141\x63\153\167\141\162\x64\x5f\x64\145\x6c\x69\166\145\x72\x79"] = $this->language->get("\143\157\154\x75\155\156\137\x62\141\143\153\x77\x61\162\x64\x5f\144\x65\154\151\x76\145\162\x79"); $data["\x63\157\x6c\x75\x6d\x6e\137\x64\x65\x6c\x69\166\x65\x72\x79\x5f\164\x79\x70\145"] = $this->language->get("\143\x6f\x6c\165\155\x6e\137\x64\x65\x6c\151\x76\x65\162\x79\137\164\171\160\145"); $data["\x63\x6f\x6c\x75\x6d\156\x5f\144\x65\154\151\166\x65\x72\171\137\x74\145\143\150\x6e\157\154\x6f\147\171"] = $this->language->get("\143\157\x6c\x75\155\156\x5f\x64\x65\154\151\166\x65\162\171\137\x74\145\143\x68\x6e\157\x6c\x6f\147\x79"); $data["\x63\157\154\x75\155\x6e\x5f\x64\x65\x73\143\x72\151\x70\x74\x69\x6f\x6e"] = $this->language->get("\x63\x6f\x6c\165\155\156\x5f\144\x65\163\143\x72\151\x70\x74\x69\x6f\156"); $data["\x63\x6f\x6c\x75\x6d\x6e\x5f\144\x65\x6c\151\x76\x65\162\171\137\x70\x61\171\145\x72"] = $this->language->get("\x63\x6f\x6c\165\x6d\156\x5f\x64\145\x6c\151\x76\x65\162\x79\137\x70\141\171\145\x72"); $data["\x63\157\154\165\x6d\156\x5f\x73\164\x61\x74\x75\163"] = $this->language->get("\x63\157\154\x75\155\x6e\137\163\164\141\164\165\163"); $data["\143\157\x6c\165\155\x6e\x5f\141\143\164\151\x6f\x6e"] = $this->language->get("\x63\157\154\x75\x6d\156\x5f\141\143\x74\151\157\x6e"); $data["\x65\156\164\x72\171\137\x63\156\137\x6e\x75\x6d\x62\x65\162"] = $this->language->get("\x65\x6e\164\162\171\137\143\x6e\x5f\156\165\155\x62\x65\x72"); $data["\145\156\x74\162\171\137\157\162\x64\x65\162\x5f\156\165\x6d\142\x65\162"] = $this->language->get("\145\x6e\x74\x72\171\137\157\162\x64\x65\x72\137\x6e\165\155\x62\x65\x72"); $data["\x65\156\164\162\x79\x5f\x73\x68\151\160\x6d\145\156\x74\x5f\147\x72\157\x75\x70"] = $this->language->get("\145\156\x74\162\x79\x5f\163\150\151\x70\155\145\156\x74\137\x67\162\157\165\x70"); $data["\145\156\x74\162\x79\x5f\156\141\x6d\145"] = $this->language->get("\x65\x6e\164\162\171\137\x6e\141\x6d\145"); $data["\x65\x6e\x74\162\171\x5f\x70\162\151\156\164\137\x74\x79\160\x65"] = $this->language->get("\x65\x6e\164\x72\171\x5f\x70\x72\151\x6e\x74\x5f\x74\171\x70\145"); $data["\145\156\x74\162\x79\x5f\160\162\151\156\164\137\x66\157\x72\x6d\141\x74"] = $this->language->get("\145\x6e\x74\x72\171\x5f\160\162\x69\x6e\164\x5f\146\157\x72\x6d\141\x74"); $data["\145\156\164\x72\171\x5f\x70\162\151\x6e\164\x5f\x73\145\x6e\144\x65\x72\x5f\x6e\141\x6d\145"] = $this->language->get("\x65\x6e\164\162\x79\137\160\162\151\156\164\137\x73\145\156\x64\x65\162\137\156\x61\x6d\145"); $data["\145\156\164\x72\x79\x5f\160\x72\x69\156\x74\137\144\145\x6c\x69\166\145\162\171\x5f\x70\x72\x69\143\145"] = $this->language->get("\145\x6e\164\x72\x79\x5f\160\162\151\x6e\164\x5f\x64\x65\154\151\x76\x65\x72\x79\137\160\x72\x69\x63\145"); $data["\145\156\164\x72\x79\x5f\x70\162\151\156\x74\137\x64\x65\143\x6c\x61\x72\145\x64\x5f\160\x72\x69\143\145"] = $this->language->get("\x65\x6e\x74\162\171\x5f\x70\162\151\156\164\137\144\x65\143\x6c\x61\x72\145\144\137\x70\162\x69\143\145"); $data["\164\x65\170\164\137\x63\x6f\x6e\163\151\x67\156\x6d\x65\x6e\164\137\x6e\157\x74\x65\137\154\x69\x73\164"] = $this->language->get("\x74\x65\170\164\x5f\143\157\156\163\151\x67\x6e\x6d\145\x6e\x74\137\x6e\x6f\164\x65\x5f\154\x69\x73\x74"); $data["\164\145\170\164\137\x61\144\x64\137\164\157\137\147\x72\157\165\x70"] = $this->language->get("\164\x65\x78\164\137\141\x64\144\137\164\x6f\x5f\147\162\x6f\x75\x70"); $data["\164\x65\170\164\x5f\x64\x65\x6c\145\164\x65\x5f\146\162\x6f\x6d\137\147\x72\157\165\160"] = $this->language->get("\164\145\170\x74\x5f\x64\145\x6c\145\x74\145\x5f\146\162\157\155\x5f\x67\162\157\165\x70"); $data["\x74\x65\x78\164\137\145\144\x69\164"] = $this->language->get("\164\x65\170\x74\x5f\145\x64\x69\x74"); $data["\x74\145\x78\164\137\160\x72\151\156\x74\x5f\x73\x65\164\164\x69\156\x67\163"] = $this->language->get("\164\145\x78\164\x5f\x70\162\151\x6e\x74\x5f\x73\x65\164\x74\x69\x6e\147\163"); $data["\x74\145\x78\164\x5f\144\x65\154\145\164\145"] = $this->language->get("\x74\145\x78\x74\137\144\145\x6c\145\164\x65"); $data["\164\x65\170\x74\x5f\x63\x75\163\164\x6f\155\151\x7a\145\x64\137\160\x72\151\x6e\x74\x69\x6e\x67"] = $this->language->get("\x74\145\170\x74\137\143\x75\163\164\157\155\x69\x7a\145\x64\137\160\x72\x69\x6e\x74\x69\156\147"); $data["\164\x65\170\164\137\144\157\x77\x6e\x6c\x6f\141\144\x5f\x70\144\146"] = $this->language->get("\x74\145\x78\x74\x5f\144\157\x77\x6e\x6c\157\x61\144\137\x70\144\x66"); $data["\x74\x65\x78\x74\137\x61\144\x64\x72\145\x73\163\137\163\x74\151\143\x6b\145\162\x5f\x31\x30\x30\170\x31\x30\60"] = $this->language->get("\x74\x65\170\x74\x5f\x61\x64\144\162\x65\x73\x73\x5f\163\164\151\x63\x6b\145\162\137\61\60\x30\170\61\x30\60"); $data["\164\x65\x78\x74\137\x61\x64\x64\162\x65\163\163\x5f\163\164\151\143\153\145\162\137\147\x72\157\x75\160\x5f\61\60\60\170\x31\x30\60"] = $this->language->get("\164\145\170\164\x5f\x61\144\x64\x72\145\163\x73\137\x73\x74\x69\x63\153\x65\162\x5f\147\162\157\165\x70\x5f\61\x30\60\x78\x31\x30\x30"); $data["\x74\x65\170\x74\137\147\x72\x6f\165\160\137\x66\157\x72\x6d\137\x31\x30\x33\x61"] = $this->language->get("\164\x65\x78\164\137\x67\162\x6f\x75\160\x5f\146\x6f\162\x6d\137\61\60\x33\x61"); $data["\x74\x65\x78\164\x5f\141\x64\x64"] = $this->language->get("\x74\x65\170\164\137\x61\x64\144"); $data["\164\145\x78\164\x5f\x73\145\x6c\145\143\164"] = $this->language->get("\164\145\170\x74\x5f\163\x65\x6c\x65\x63\x74"); $data["\x74\x65\170\164\137\156\x6f\x5f\x72\x65\163\x75\154\164\163"] = $this->language->get("\x74\x65\170\x74\x5f\156\157\x5f\x72\x65\163\165\154\x74\163"); $data["\x74\x65\x78\164\137\143\157\156\146\151\162\155"] = $this->language->get("\164\x65\x78\x74\x5f\x63\157\156\146\x69\162\x6d"); } $cache_documents = $this->cache->get("\x75\x6b\x72\160\x6f\x73\x68\x74\x61\x5f\x64\x6f\143\x75\155\x65\x6e\x74\163"); $cache_shipment_groups = $this->cache->get("\165\x6b\x72\160\157\163\x68\x74\141\x5f\x73\150\x69\160\155\x65\156\164\x73\137\x67\162\157\165\160"); if (!$cache_shipment_groups) { $cache_shipment_groups = $this->ukrposhta->getGroupsByClient($this->settings["\163\145\156\144\x65\162"]); $this->cache->set("\x75\153\162\x70\157\x73\150\x74\141\137\163\150\151\x70\x6d\145\x6e\164\x73\137\x67\162\x6f\x75\x70", $cache_shipment_groups); } $data["\163\x68\x69\160\155\145\156\x74\137\x67\162\x6f\x75\x70\x73"] = $cache_shipment_groups; $filter_data = array("\x66\151\x6c\164\x65\162\x5f\143\x6e\x5f\156\165\155\142\x65\x72" => $filter_cn_number, "\x66\x69\154\x74\145\162\x5f\157\162\x64\x65\162\137\x69\x64" => $filter_order_id, "\163\157\162\164" => "\165\x6b\x72\160\x6f\163\x68\x74\x61\x5f\x63\x6e\x5f\156\x75\155\x62\x65\x72", "\x6f\162\144\x65\162" => "\104\105\123\x43", "\163\164\141\x72\x74" => ($page - 1) * $config_admin_limit, "\154\x69\x6d\151\164" => $config_admin_limit); $orders = $this->{$model_name}->getOrders($filter_data); $orders_total = $this->{$model_name}->getTotalOrders(); $data["\143\156\163"] = array(); if ($orders && is_array($orders)) { foreach ($orders as $i => $order) { $data["\x63\156\163"][$i] = array("\143\156\x5f\x69\x64\145\x6e\164\151\x66\x69\145\162" => $order["\x75\153\x72\160\157\163\150\164\x61\137\x63\156\137\165\x75\x69\x64"], "\143\156\137\156\x75\x6d\x62\x65\x72" => $order["\165\153\x72\x70\157\163\150\164\141\137\143\156\x5f\x6e\x75\155\142\x65\162"], "\x6f\x72\x64\x65\162\x5f\x69\x64" => $order["\157\162\144\145\x72\x5f\x69\x64"], "\x73\x68\151\160\x6d\x65\156\164\137\x67\162\x6f\165\160" => '', "\x65\x73\x74\151\155\141\164\x65\144\137\x73\150\151\x70\160\151\x6e\x67\x5f\144\141\164\145" => '', "\154\x61\x73\x74\137\165\160\144\141\x74\x65\144\x5f\163\164\141\164\x75\x73\137\144\x61\164\145" => '', "\x6c\141\163\164\x5f\x6d\157\x64\151\x66\151\x65\144\137\144\141\x74\x65" => '', "\163\145\156\x64\x65\x72" => '', "\163\145\x6e\144\145\162\x5f\160\x68\157\x6e\x65" => '', "\163\x65\x6e\x64\x65\162\137\141\x64\144\x72\x65\x73\x73" => '', "\x72\x65\x63\x69\160\151\145\x6e\x74" => '', "\x72\x65\x63\151\160\x69\x65\156\164\x5f\x70\150\157\x6e\145" => '', "\x72\145\143\151\160\151\x65\156\164\x5f\x61\x64\144\x72\x65\x73\x73" => '', "\167\x65\x69\147\150\x74" => '', "\163\x65\x61\164\163\137\x61\155\x6f\x75\156\x74" => '', "\144\x65\x63\x6c\141\x72\x65\144\x5f\143\157\163\x74" => '', "\x73\x68\x69\x70\160\151\156\x67\x5f\143\157\x73\x74" => '', "\x62\x61\x63\x6b\x77\141\x72\x64\137\144\145\x6c\151\166\x65\162\x79" => '', "\x64\145\154\151\166\145\162\171\137\164\171\x70\x65" => '', "\144\x65\x6c\151\x76\145\x72\171\x5f\x74\x65\x63\x68\x6e\157\x6c\157\x67\171" => '', "\x64\145\x73\143\162\x69\160\164\x69\157\156" => '', "\144\145\154\151\x76\x65\162\171\x5f\160\x61\171\145\162" => '', "\163\x74\141\x74\x75\x73" => ''); if (version_compare(VERSION, "\63", "\x3e\75")) { $data["\143\x6e\x73"][$i]["\157\162\144\145\162"] = $this->url->link("\x73\x61\154\145\x2f\157\162\144\x65\162\57\x69\x6e\x66\157", "\x75\x73\x65\x72\x5f\x74\157\x6b\145\156\x3d" . $this->session->data["\165\163\x65\162\137\x74\x6f\x6b\145\156"] . "\x26\157\x72\144\x65\x72\137\151\x64\75" . $order["\x6f\x72\144\x65\162\x5f\151\144"], "\123\123\x4c"); } else { if (version_compare(VERSION, "\62\56\63", "\76\75")) { $data["\x63\156\163"][$i]["\157\x72\x64\145\x72"] = $this->url->link("\163\141\154\x65\57\x6f\162\144\x65\x72\57\151\x6e\x66\x6f", "\164\x6f\x6b\x65\x6e\75" . $this->session->data["\x74\x6f\153\145\x6e"] . "\x26\157\x72\x64\x65\x72\x5f\x69\x64\x3d" . $order["\x6f\x72\144\145\x72\137\151\144"], true); } else { $data["\x63\156\163"][$i]["\x6f\x72\x64\x65\x72"] = $this->url->link("\x73\141\x6c\x65\x2f\x6f\162\144\x65\x72\x2f\x69\x6e\146\157", "\164\x6f\153\145\x6e\x3d" . $this->session->data["\164\157\153\x65\156"] . "\x26\157\162\144\x65\162\x5f\x69\x64\x3d" . $order["\157\162\x64\x65\162\x5f\151\144"], "\123\123\x4c"); } } if (isset($cache_documents[$order["\165\x6b\162\160\x6f\163\x68\164\141\137\x63\x6e\x5f\165\x75\151\x64"]])) { $data["\x63\x6e\x73"][$i] = array_merge($data["\x63\x6e\x73"][$i], $cache_documents[$order["\165\x6b\x72\x70\157\163\150\164\x61\x5f\143\156\137\x75\x75\x69\144"]]); } } } $url = ''; if (isset($this->request->get["\x66\x69\x6c\164\x65\162\x5f\x63\x6e\137\156\165\155\142\x65\x72"])) { $url .= "\46\x66\x69\154\x74\145\x72\x5f\143\x6e\x5f\x6e\x75\155\x62\x65\162\75" . $this->request->get["\x66\x69\x6c\x74\145\x72\137\143\156\137\x6e\x75\x6d\142\145\x72"]; } if (isset($this->request->get["\146\x69\154\164\145\x72\137\157\162\x64\x65\162\x5f\151\144"])) { $url .= "\x26\x66\151\154\164\145\x72\137\x6f\162\144\145\162\137\x69\x64\x3d" . $this->request->get["\146\151\154\164\145\x72\137\157\x72\x64\145\162\x5f\151\x64"]; } $pagination = new Pagination(); $pagination->total = $orders_total; $pagination->page = $page; if (version_compare(VERSION, "\x32", "\76\x3d")) { $pagination->limit = $config_admin_limit; if (version_compare(VERSION, "\63", "\x3e\75")) { $pagination->url = $this->url->link("\x65\x78\x74\145\x6e\x73\x69\157\x6e\x2f\163\x68\x69\x70\160\x69\x6e\x67\57" . $this->extension . "\x2f\147\145\x74\103\x4e\114\x69\163\164", "\x75\x73\145\162\137\x74\x6f\153\145\156\75" . $this->session->data["\x75\163\145\x72\x5f\164\157\153\145\156"] . $url . "\x26\160\141\147\145\x3d\x7b\x70\141\x67\x65\175", true); } else { if (version_compare(VERSION, "\62\56\x33", "\x3e\x3d")) { $pagination->url = $this->url->link("\145\x78\x74\145\156\163\x69\x6f\x6e\x2f\x73\x68\x69\160\x70\x69\x6e\x67\57" . $this->extension . "\57\x67\145\164\x43\116\114\151\x73\x74", "\x74\x6f\x6b\145\156\x3d" . $this->session->data["\164\x6f\x6b\145\156"] . $url . "\46\160\x61\147\145\75\173\x70\x61\147\145\175", true); } else { $pagination->url = $this->url->link("\163\x68\151\x70\160\x69\156\x67\57" . $this->extension . "\57\147\145\x74\x43\x4e\x4c\151\x73\x74", "\x74\x6f\x6b\145\x6e\x3d" . $this->session->data["\164\157\153\x65\156"] . $url . "\46\x70\141\147\x65\x3d\x7b\x70\141\x67\x65\175", "\123\123\114"); } } $data["\x72\145\x73\x75\x6c\164\163"] = sprintf($this->language->get("\x74\x65\x78\164\x5f\x70\x61\x67\151\x6e\141\164\151\157\156"), $orders_total ? ($page - 1) * $config_admin_limit + 1 : 0, $orders_total - $config_admin_limit < ($page - 1) * $config_admin_limit ? $orders_total : ($page - 1) * $config_admin_limit + $config_admin_limit, $orders_total, ceil($orders_total / $config_admin_limit)); } else { $pagination->limit = $this->config->get("\x63\157\156\146\x69\x67\x5f\141\x64\x6d\x69\x6e\x5f\154\x69\x6d\x69\x74"); $pagination->text = $this->language->get("\164\x65\170\164\137\160\141\147\151\156\x61\x74\151\x6f\x6e"); $pagination->url = $this->url->link("\x73\x68\151\160\x70\x69\156\147\57" . $this->extension . "\57\147\145\x74\x43\116\x4c\151\x73\x74", "\x74\157\x6b\145\x6e\x3d" . $this->session->data["\164\157\153\145\156"] . $url . "\46\x70\x61\x67\x65\x3d\x7b\x70\141\x67\x65\175", "\x53\x53\x4c"); } $data["\x70\x61\147\151\x6e\x61\x74\151\x6f\156"] = $pagination->render(); $data["\x70\x72\151\x6e\164\x5f\164\x79\160\145\163"] = array("\163\x74\151\143\153\145\162" => $this->language->get("\x74\145\170\x74\x5f\x61\144\x64\x72\145\x73\x73\137\x73\x74\x69\x63\x6b\145\162\x5f\x31\60\x30\170\61\60\60"), "\163\x74\x69\143\x6b\x65\x72\x5f\x67\x72\x6f\x75\x70" => $this->language->get("\164\x65\170\164\x5f\x61\x64\x64\162\x65\x73\163\x5f\x73\x74\151\143\153\x65\x72\x5f\147\162\157\x75\x70\137\61\x30\60\170\61\60\60"), "\x66\x6f\162\155\61\60\63\141" => $this->language->get("\x74\x65\x78\164\x5f\x67\x72\157\x75\x70\137\x66\157\x72\x6d\137\61\60\x33\141")); $data["\x70\x72\x69\x6e\164\137\x66\x6f\162\155\141\164\163"] = array("\101\64" => $this->language->get("\164\145\x78\x74\137\x61\x34"), "\101\65" => $this->language->get("\164\145\170\164\x5f\141\x35")); if (!empty($this->settings["\143\157\x6e\163\151\147\156\155\145\x6e\x74\137\144\x69\x73\160\x6c\x61\x79\145\x64\137\x69\x6e\x66\157\x72\x6d\x61\164\151\x6f\x6e"])) { $data["\x64\x69\163\160\154\141\x79\x65\x64\137\x69\156\146\x6f\162\x6d\x61\x74\x69\157\156"] = $this->settings["\x63\157\156\x73\x69\x67\x6e\x6d\145\x6e\164\x5f\x64\151\x73\160\x6c\141\171\x65\144\x5f\151\156\x66\157\162\x6d\141\x74\151\x6f\156"]; } else { $data["\x64\151\163\x70\x6c\x61\x79\145\144\x5f\x69\156\146\x6f\x72\x6d\141\164\x69\157\x6e"] = array(); } $data["\x66\151\x6c\x74\x65\x72\x5f\x63\156\137\156\165\x6d\x62\145\x72"] = $filter_cn_number; $data["\146\151\x6c\164\145\162\x5f\157\162\144\145\162\137\151\144"] = $filter_order_id; $data["\166"] = $this->version; if ($this->language->get("\143\x6f\x64\x65") == "\x75\141" || $this->language->get("\x63\157\x64\145") == "\x75\x6b" || $this->language->get("\143\157\144\x65") == "\165\153\55\165\141" || $this->language->get("\143\x6f\x64\x65") == "\x75\x61\x2d\x75\x6b") { $data["\164\x72\141\x6e\x73\154\x61\x74\x69\x6f\x6e\163\x5f\x63\157\x64\x65"] = "\x75\x61\x5f\x55\x41"; } else { if ($this->language->get("\x63\157\x64\145") == "\162\x75" || $this->language->get("\x63\157\144\x65") == "\162\x75\x2d\162\x75") { $data["\x74\x72\x61\156\x73\154\x61\x74\x69\157\156\x73\x5f\x63\157\144\145"] = "\162\165\x5f\x52\x55"; } else { $data["\x74\x72\141\x6e\x73\x6c\x61\x74\151\x6f\156\163\x5f\143\157\144\145"] = "\145\x6e\137\125\123"; } } if (version_compare(VERSION, "\x32\56\x33", "\76\75")) { $data["\x68\x65\141\144\145\x72"] = $this->load->controller("\143\x6f\155\x6d\157\156\x2f\x68\145\x61\x64\x65\x72"); $data["\x63\157\x6c\165\155\156\137\x6c\x65\146\x74"] = $this->load->controller("\x63\x6f\x6d\x6d\x6f\156\57\143\157\x6c\x75\x6d\156\x5f\154\x65\x66\x74"); $data["\x66\x6f\x6f\164\x65\162"] = $this->load->controller("\x63\157\155\155\x6f\156\x2f\146\x6f\157\164\145\162"); $this->response->setOutput($this->load->view("\145\170\164\x65\x6e\x73\x69\x6f\x6e\x2f\163\150\x69\160\x70\x69\156\147\x2f" . $this->extension . "\137\143\156\137\x6c\x69\163\x74", $data)); } else { if (version_compare(VERSION, "\62", "\x3e\x3d")) { $data["\x68\145\141\144\x65\x72"] = $this->load->controller("\143\x6f\x6d\155\x6f\156\57\150\x65\x61\x64\145\162"); $data["\143\157\154\165\155\156\137\154\x65\146\164"] = $this->load->controller("\x63\157\x6d\x6d\x6f\156\x2f\143\157\154\x75\x6d\x6e\x5f\x6c\x65\x66\164"); $data["\x66\x6f\x6f\164\x65\x72"] = $this->load->controller("\x63\x6f\155\x6d\x6f\x6e\x2f\x66\157\x6f\x74\145\162"); $this->response->setOutput($this->load->view("\x73\x68\x69\160\x70\x69\156\x67\x2f" . $this->extension . "\x5f\143\x6e\x5f\x6c\x69\163\164\x2e\164\x70\x6c", $data)); } else { $data["\150\x65\141\144\145\x72"] = $this->getChild("\143\157\155\155\x6f\156\x2f\150\x65\141\144\x65\162"); $data["\146\x6f\157\x74\145\162"] = $this->getChild("\143\x6f\x6d\x6d\x6f\x6e\57\x66\x6f\157\x74\145\x72"); $this->template = "\163\x68\151\160\x70\151\x6e\147\x2f" . $this->extension . "\x5f\143\x6e\x5f\x6c\151\x73\x74\x2e\164\160\x6c"; $patterns = array("\x2f\x3c\163\x63\162\x69\160\x74\40\x74\171\x70\145\75\42\x74\145\x78\x74\x5c\57\152\x61\166\141\x73\143\x72\151\x70\x74\42\x20\163\162\x63\x3d\x22\166\x69\x65\x77\134\x2f\152\x61\166\x61\x73\x63\x72\x69\x70\164\134\x2f\x6a\x71\x75\145\162\x79\134\57\152\x71\x75\x65\x72\171\x2d\x28\x2e\53\51\x5c\56\155\151\x6e\134\x2e\x6a\x73\x22\76\x3c\x5c\57\163\143\162\151\x70\164\x3e\x2f", "\x2f\74\x73\143\x72\151\160\x74\x20\x74\171\160\145\x3d\42\x74\x65\x78\164\134\57\152\141\x76\141\163\143\x72\151\x70\164\42\40\x73\162\143\x3d\x22\166\x69\145\167\x5c\x2f\x6a\x61\x76\x61\163\x63\x72\151\x70\x74\x5c\x2f\152\x71\x75\x65\162\x79\x5c\57\x75\151\134\57\152\161\165\x65\x72\171\55\x75\151\55\x28\x2e\53\x29\134\56\x6a\x73\42\x3e\x3c\x5c\57\163\x63\x72\x69\x70\164\76\x2f"); $replacements = array("\x3c\163\143\x72\151\160\x74\40\x74\x79\x70\x65\x3d\x22\x74\x65\x78\x74\57\152\x61\x76\141\163\143\x72\x69\160\164\x22\x20\163\x72\x63\x3d\x22\x68\164\x74\x70\163\x3a\57\x2f\x63\157\144\145\56\x6a\161\165\145\162\171\56\x63\x6f\155\57\x6a\161\x75\145\162\x79\55\62\56\61\56\61\x2e\155\151\156\56\152\163\x22\x3e\74\x2f\163\x63\x72\x69\160\164\x3e\15\xa\x20\x20\x20\x20\40\x20\40\x20\40\x20\40\x20\x20\40\40\x20\x20\74\163\143\162\x69\x70\x74\40\164\x79\x70\x65\75\x22\164\x65\170\x74\x2f\152\141\166\141\x73\x63\x72\x69\x70\164\x22\40\163\x72\x63\75\42\x68\x74\164\x70\x73\x3a\x2f\57\143\157\144\x65\x2e\152\161\165\145\x72\171\x2e\x63\157\x6d\x2f\152\161\x75\145\x72\171\x2d\155\151\x67\x72\141\x74\x65\x2d\61\56\62\x2e\61\56\x6d\x69\x6e\x2e\x6a\163\42\76\74\57\163\x63\x72\151\160\164\x3e\15\12\x20\40\40\40\x20\x20\40\40\x20\40\x20\x20\x20\40\40\40\x20\x3c\163\x63\x72\151\x70\164\40\164\171\x70\x65\75\42\x74\145\x78\x74\57\x6a\x61\x76\141\x73\143\162\151\x70\x74\x22\40\163\162\x63\x3d\42\150\x74\164\160\x73\72\x2f\57\x6d\x61\170\x63\x64\156\x2e\x62\157\157\164\x73\164\162\x61\160\x63\144\156\x2e\143\x6f\155\57\142\157\x6f\164\x73\164\162\x61\160\x2f\x33\56\x33\x2e\x37\x2f\152\163\x2f\142\157\x6f\164\x73\164\x72\x61\x70\x2e\x6d\x69\156\x2e\x6a\163\x22\x3e\74\x2f\x73\143\162\x69\160\x74\x3e\xd\12\40\40\x20\40\x20\40\40\40\40\40\x20\40\x20\40\40\40\40\74\163\x63\162\x69\160\x74\40\164\171\160\145\75\42\164\145\170\x74\57\x6a\141\166\x61\x73\x63\162\x69\160\164\42\40\163\162\x63\x3d\42\166\151\x65\167\x2f\152\141\x76\x61\x73\x63\x72\151\x70\x74\57\157\143\155\x61\170\x2f\x6d\157\155\x65\156\x74\x2e\155\151\156\x2e\x6a\163\42\x3e\x3c\x2f\163\143\162\x69\160\x74\76\15\xa\x20\x20\40\x20\40\x20\40\x20\40\40\x20\x20\40\x20\40\x20\40\x3c\163\143\162\151\160\x74\40\x74\171\160\x65\x3d\x22\x74\x65\170\x74\57\152\141\x76\141\163\143\x72\151\160\164\42\40\163\162\143\x3d\42\166\x69\x65\167\57\x6a\141\x76\x61\163\x63\162\x69\160\x74\x2f\x6f\x63\155\x61\170\x2f\x62\157\157\164\x73\164\162\x61\160\x2d\x64\141\x74\145\x74\x69\x6d\145\160\x69\143\x6b\145\x72\x2e\155\151\156\x2e\152\x73\x22\x3e\x3c\57\163\143\x72\151\x70\164\76\xd\xa\x20\x20\40\40\40\40\x20\40\40\40\40\40\40\40\40\40\40\74\163\x63\x72\x69\160\164\40\164\x79\x70\145\75\x22\x74\x65\x78\x74\57\152\141\166\141\163\143\162\x69\x70\x74\x22\40\163\x72\x63\75\x22\166\151\x65\x77\57\152\x61\166\141\x73\x63\x72\x69\x70\x74\x2f\157\143\x6d\141\170\57\157\143\x6d\x61\170\x2e\152\x73\42\x3e\74\x2f\x73\x63\x72\x69\x70\164\76\xd\xa\x20\40\40\x20\x20\x20\x20\40\40\x20\40\40\x20\x20\x20\x20\x20\x3c\x6c\x69\156\153\x20\162\x65\x6c\75\42\163\x74\171\x6c\145\x73\x68\x65\145\x74\42\x20\164\x79\x70\145\x3d\42\164\145\170\164\57\143\163\x73\x22\x20\x68\162\x65\146\75\x22\x68\x74\x74\160\x73\x3a\x2f\57\155\x61\170\143\144\156\x2e\142\x6f\157\x74\x73\164\x72\141\x70\x63\144\156\x2e\143\157\x6d\x2f\x62\x6f\157\x74\163\164\162\x61\x70\x2f\63\x2e\63\56\x37\x2f\143\163\163\x2f\x62\x6f\x6f\164\163\164\162\141\160\x2e\155\x69\156\x2e\x63\x73\163\42\x20\x6d\x65\x64\x69\141\x3d\42\x73\x63\162\x65\x65\x6e\x22\x20\57\x3e\15\xa\40\x20\x20\x20\40\x20\x20\40\x20\40\x20\40\x20\x20\40\x20\40\x3c\x6c\x69\156\x6b\x20\x72\x65\154\x3d\42\x73\164\171\154\x65\163\x68\145\145\164\x22\40\x74\x79\160\145\75\x22\164\x65\x78\x74\57\143\163\x73\x22\x20\x68\162\x65\146\x3d\42\166\151\x65\x77\x2f\163\x74\171\154\145\163\150\x65\145\x74\x2f\157\x63\155\141\170\57\x62\x6f\157\x74\163\x74\x72\x61\x70\x2e\146\x69\170\x2e\x63\x73\163\x22\x20\155\145\144\151\x61\x3d\42\163\143\x72\145\x65\x6e\42\40\x2f\x3e\15\12\x20\40\40\x20\x20\40\x20\x20\40\40\x20\40\40\40\40\40\40\x3c\154\151\x6e\x6b\40\x72\x65\x6c\75\42\x73\x74\171\154\x65\163\x68\145\x65\164\x22\x20\164\x79\x70\x65\x3d\x22\164\145\x78\x74\57\143\x73\163\42\40\x68\x72\x65\x66\75\x22\150\x74\164\x70\x73\x3a\57\x2f\x6d\141\170\143\x64\156\56\x62\157\x6f\164\x73\164\x72\x61\160\143\x64\x6e\x2e\x63\x6f\155\x2f\146\157\x6e\164\x2d\141\x77\x65\163\x6f\155\x65\x2f\x34\56\67\56\x30\57\x63\x73\163\57\146\157\156\164\x2d\141\x77\x65\x73\157\155\x65\56\155\x69\x6e\x2e\143\x73\163\42\x20\x6d\145\144\x69\141\x3d\x22\x73\x63\x72\145\x65\156\42\40\57\x3e\15\xa\40\40\x20\x20\x20\x20\40\x20\40\40\40\x20\x20\x20\40\40\x20\x3c\x6c\x69\x6e\x6b\40\162\x65\154\x3d\42\163\x74\x79\x6c\145\163\x68\x65\x65\164\x22\x20\x74\171\x70\145\75\x22\164\x65\170\164\x2f\143\163\163\x22\40\x68\162\x65\x66\x3d\42\x76\151\x65\x77\x2f\x73\x74\x79\154\x65\x73\150\145\145\164\x2f\x6f\x63\155\x61\x78\x2f\142\157\x6f\164\163\164\162\x61\x70\55\144\x61\164\145\x74\x69\155\145\160\x69\x63\153\x65\162\x2e\155\151\156\x2e\143\163\x73\x22\x20\155\x65\144\x69\141\75\42\x73\x63\x72\x65\x65\156\42\x20\x2f\76", "\x3c\163\143\x72\151\160\164\40\164\171\x70\x65\75\x22\164\145\170\164\x2f\x6a\141\x76\x61\x73\143\162\x69\x70\164\x22\x20\x73\x72\143\75\x22\x68\164\164\160\x73\72\x2f\x2f\x63\x6f\144\145\56\152\161\165\145\x72\171\56\143\x6f\x6d\x2f\x75\x69\x2f\x31\x2e\x38\56\x32\x34\x2f\x6a\161\165\145\x72\x79\x2d\165\x69\x2e\155\151\x6e\x2e\x6a\x73\x22\76\74\57\x73\x63\x72\x69\x70\x74\x3e"); $data["\x68\x65\x61\144\145\x72"] = preg_replace($patterns, $replacements, $data["\x68\145\141\x64\145\x72"]); $this->data = $data; $this->response->setOutput($this->render()); } } } public function saveCN() { if (version_compare(VERSION, "\62\56\63", "\76\75")) { $this->load->language("\x65\170\164\x65\156\x73\x69\x6f\x6e\57\163\x68\151\160\x70\151\x6e\x67\x2f" . $this->extension); $this->load->model("\145\170\x74\145\156\x73\151\x6f\156\57\163\x68\151\160\160\x69\x6e\147\x2f" . $this->extension); $model_name = "\x6d\157\144\x65\154\137\145\x78\164\145\x6e\x73\x69\157\156\x5f\163\x68\151\160\160\151\156\147\x5f" . $this->extension; } else { $this->load->language("\x73\150\151\x70\160\151\156\x67\x2f" . $this->extension); $this->load->model("\x73\150\x69\160\x70\x69\x6e\x67\x2f" . $this->extension); $model_name = "\155\157\144\145\154\137\163\x68\151\160\160\x69\x6e\147\x5f" . $this->extension; } if ($this->request->server["\x52\x45\121\x55\x45\123\124\137\x4d\x45\124\x48\x4f\104"] == "\120\117\x53\x54" && $this->validate() && $this->validateCNForm()) { $client_data = $this->client($this->request->post); $client_data = $this->client($client_data, "\162\x65\143\x69\160\x69\145\156\x74"); if (isset($this->request->post["\x73\x65\156\x64\145\x72\137\141\x64\x64\x72\x65\163\x73\137\160\x69\143\153\137\165\x70"])) { $sender_address_type = "\104"; } else { $sender_address_type = "\x57"; } $cn_data = array("\x74\x79\x70\x65" => $this->request->post["\155\145\164\x68\x6f\144"], "\x73\x65\x6e\144\x65\x72" => array("\x75\x75\x69\x64" => $client_data["\x73\145\x6e\x64\145\x72"]), "\162\145\x63\x69\160\151\145\x6e\164" => array("\x75\x75\x69\144" => $client_data["\x72\x65\143\x69\160\x69\145\x6e\164"]), "\144\x65\154\151\x76\145\x72\x79\124\171\x70\145" => $sender_address_type . "\62" . $this->request->post["\x72\x65\143\151\x70\x69\x65\x6e\x74\137\163\x65\x72\x76\151\143\x65\x5f\x74\x79\160\145"]); foreach ($this->request->post["\160\141\x72\x63\145\x6c\x73"] as $parcel) { $cn_data["\x70\141\x72\143\145\x6c\163"][] = array("\165\x75\x69\x64" => $parcel["\165\x75\x69\x64"], "\167\x65\x69\x67\150\164" => $parcel["\167\x65\151\x67\x68\164"] * 1000, "\154\x65\x6e\147\164\x68" => $parcel["\154\x65\156\x67\x74\150"], "\x77\151\x64\x74\150" => $parcel["\167\151\144\x74\150"], "\x68\x65\x69\147\150\164" => $parcel["\150\145\x69\x67\150\x74"], "\144\145\x63\154\x61\x72\145\x64\x50\x72\151\x63\145" => $parcel["\x64\145\143\154\x61\162\145\144\137\143\x6f\x73\164"], "\144\x65\163\x63\x72\151\160\x74\151\x6f\x6e" => $parcel["\144\145\x70\x61\x72\164\165\162\145\137\x64\x65\163\143\x72\151\x70\x74\x69\157\x6e"]); } if ($this->request->post["\x64\145\154\x69\166\145\x72\x79\x5f\x70\141\x79\145\162"] == "\x72\145\x63\151\x70\151\145\156\164") { $cn_data["\160\x61\x69\144\x42\x79\x52\145\143\151\x70\x69\x65\x6e\164"] = true; } else { $cn_data["\160\x61\x69\x64\102\x79\122\x65\x63\151\x70\x69\145\156\164"] = false; } if (!empty($this->request->post["\142\141\143\x6b\167\141\x72\x64\x5f\x64\x65\154\x69\x76\x65\x72\171\x5f\x74\157\x74\x61\x6c"])) { $cn_data["\160\x6f\x73\164\x50\141\171"] = $this->request->post["\x62\141\143\153\x77\141\x72\144\x5f\144\145\x6c\151\x76\145\162\x79\137\x74\x6f\164\141\x6c"]; if ($this->request->post["\x62\x61\143\153\x77\x61\162\144\137\144\145\x6c\x69\x76\x65\x72\x79\x5f\x70\x61\171\x65\162"] == "\163\x65\x6e\144\145\x72") { $cn_data["\x70\x6f\x73\x74\120\x61\171\x50\x61\151\x64\102\x79\122\145\143\x69\x70\x69\145\156\x74"] = false; } else { $cn_data["\160\157\x73\x74\120\x61\171\x50\x61\151\x64\x42\x79\122\x65\143\x69\160\x69\x65\x6e\x74"] = true; } } if (isset($this->request->post["\155\157\x6e\145\x79\137\164\x72\x61\156\x73\x66\x65\162\137\155\145\x74\x68\x6f\144"]) && $this->request->post["\155\157\x6e\x65\171\137\164\x72\141\x6e\x73\x66\x65\162\x5f\x6d\145\x74\150\x6f\x64"] == "\164\157\x5f\x62\x61\156\153\x5f\141\143\143\157\165\156\164") { $cn_data["\164\162\141\x6e\x73\x66\145\x72\x50\157\163\x74\x50\141\x79\124\x6f\x42\141\x6e\x6b\x41\143\x63\x6f\x75\156\164"] = true; } else { $cn_data["\164\x72\141\x6e\x73\x66\145\162\120\157\x73\x74\x50\x61\x79\x54\157\x42\x61\x6e\153\x41\x63\x63\x6f\165\x6e\164"] = false; } if (!empty($this->request->post["\142\x6f\156\x75\163\x5f\x64\x65\x70\141\x72\x74\x75\x72\x65"])) { $cn_data["\142\157\x6e\x75\163\x5f\x64\145\160\141\162\164\x75\162\x65"] = true; } else { $cn_data["\142\157\156\165\163\137\144\145\160\141\162\164\x75\162\145"] = false; } if (!empty($this->request->post["\144\x65\154\151\166\145\162\x79\x5f\x6e\157\x74\151\146\x69\x63\141\x74\x69\157\156"])) { $cn_data["\167\151\164\x68\x44\x65\x6c\x69\166\x65\162\171\116\157\164\x69\146\151\x63\x61\x74\x69\x6f\x6e"] = true; } else { $cn_data["\167\x69\x74\150\x44\x65\x6c\151\166\x65\162\171\116\x6f\x74\x69\x66\x69\143\141\x74\x69\157\156"] = false; } if (!empty($this->request->post["\x73\x6d\x73\x5f\x6d\x65\163\163\x61\x67\145"])) { $cn_data["\163\x6d\163"] = true; } else { $cn_data["\x73\155\163"] = false; } if (!empty($this->request->post["\143\x68\x65\143\x6b\x5f\x6f\x6e\137\x64\x65\154\x69\x76\145\162\171"])) { $cn_data["\x63\x68\145\x63\x6b\117\x6e\104\x65\x6c\151\166\145\162\x79"] = true; } else { $cn_data["\143\150\x65\143\x6b\x4f\x6e\104\145\154\151\166\x65\x72\x79"] = false; } if (!empty($this->request->post["\157\x6e\137\x66\141\151\x6c\x5f\x72\145\x63\x65\x69\166\x65"])) { $cn_data["\157\x6e\x46\x61\x69\x6c\x52\x65\x63\x65\151\166\145\124\x79\160\x65"] = $this->request->post["\x6f\x6e\x5f\x66\x61\x69\x6c\x5f\x72\145\x63\x65\151\166\145"]; } else { $cn_data["\157\x6e\106\x61\x69\154\x52\145\143\145\x69\166\145\124\171\160\x65"] = false; } if (!empty($this->request->get["\x63\156\x5f\165\x75\x69\x64"])) { $cn_data["\x75\165\x69\144"] = $this->request->get["\143\x6e\x5f\165\x75\151\144"]; } $result = $this->ukrposhta->saveCN($cn_data); if ($result) { if (!empty($this->request->get["\157\162\144\x65\x72\137\x69\x64"]) && empty($this->request->get["\143\x6e\x5f\165\x75\151\144"])) { $this->{$model_name}->addCNToOrder($this->request->get["\x6f\x72\144\145\x72\x5f\151\x64"], $result["\x62\x61\162\143\157\x64\x65"], $result["\165\x75\x69\144"]); } } else { $this->error["\x77\141\x72\156\x69\156\147"] = $this->ukrposhta->error; $this->error["\167\141\162\x6e\151\x6e\147"][] = $this->language->get("\145\162\162\x6f\x72\x5f\x63\x6e\137\163\x61\x76\x65"); } } if ($this->error) { $json = $this->error; } else { if (isset($result["\x75\x75\151\x64"])) { $this->session->data["\143\x6e\x5f\165\165\x69\144"] = $result["\x75\165\x69\144"]; } else { if (isset($result["\x74\x61\162\x67\145\x74\x55\x75\151\x64"])) { $this->session->data["\143\156\x5f\165\x75\x69\x64"] = $result["\x74\141\x72\147\x65\164\x55\x75\151\x64"]; } } $this->session->data["\163\165\143\143\x65\x73\163"] = $this->language->get("\164\145\170\164\x5f\x63\x6e\x5f\x73\x75\x63\143\x65\163\x73\137\163\141\166\x65"); $json["\x73\165\143\x63\x65\x73\x73"] = true; } $this->response->addHeader("\103\157\156\x74\x65\x6e\164\55\x54\171\x70\145\72\x20\x61\160\x70\x6c\x69\143\141\x74\151\x6f\156\x2f\152\x73\x6f\x6e"); $this->response->setOutput(json_encode($json)); } public function deleteCN() { if (version_compare(VERSION, "\62\56\63", "\76\75")) { $this->load->language("\x65\x78\x74\x65\x6e\163\151\x6f\156\x2f\x73\150\151\x70\160\151\x6e\147\57" . $this->extension); $this->load->model("\x65\170\x74\x65\156\x73\x69\x6f\x6e\57\x73\150\x69\x70\160\x69\156\147\57" . $this->extension); $model_name = "\155\x6f\144\145\154\137\x65\x78\x74\x65\156\x73\151\x6f\x6e\x5f\x73\150\151\x70\160\151\x6e\x67\x5f" . $this->extension; } else { $this->load->language("\x73\150\x69\x70\x70\151\x6e\x67\x2f" . $this->extension); $this->load->model("\163\150\151\160\160\x69\x6e\147\57" . $this->extension); $model_name = "\155\157\x64\145\154\137\163\150\x69\160\160\x69\x6e\x67\x5f" . $this->extension; } $json = array(); if ($this->validate() && isset($this->request->post["\x75\x75\151\x64\163"])) { $data = $this->ukrposhta->deleteCN($this->request->post["\165\x75\x69\x64\163"]); $this->{$model_name}->deleteCNFromOrder($this->request->post["\165\x75\x69\144\163"]); if ($data) { $json["\x73\165\143\x63\145\x73\163"]["\x75\x75\x69\144\x73"] = $data; $json["\163\x75\x63\x63\x65\163\x73"]["\164\145\x78\x74"] = $this->language->get("\164\145\170\x74\137\x73\x75\143\x63\x65\x73\x73\x5f\144\145\154\145\164\145"); } else { $json["\x77\141\162\156\x69\x6e\x67"] = $this->ukrposhta->error; $json["\167\x61\x72\x6e\151\x6e\147"][] = $this->language->get("\x65\162\162\157\162\x5f\x64\145\x6c\x65\164\x65"); } } else { $json["\167\x61\162\x6e\151\x6e\147"][] = $this->error["\167\x61\162\x6e\x69\156\x67"]; } $this->response->addHeader("\x43\157\x6e\164\x65\x6e\164\55\124\171\160\x65\x3a\x20\x61\x70\x70\154\x69\143\141\x74\151\x6f\156\x2f\x6a\x73\x6f\x6e"); $this->response->setOutput(json_encode($json)); } public function addCNToOrder() { if (version_compare(VERSION, "\x32\56\x33", "\76\x3d")) { $this->load->language("\145\170\x74\x65\x6e\x73\151\x6f\x6e\x2f\163\150\x69\x70\160\151\156\x67\x2f" . $this->extension); $this->load->model("\x65\170\164\x65\x6e\163\x69\157\156\57\163\x68\x69\x70\x70\151\x6e\x67\57" . $this->extension); $model_name = "\x6d\x6f\x64\x65\x6c\137\x65\x78\164\x65\156\x73\151\157\x6e\x5f\x73\x68\151\x70\160\151\156\x67\x5f" . $this->extension; } else { $this->load->language("\163\150\151\x70\160\x69\x6e\147\57" . $this->extension); $this->load->model("\x73\x68\x69\x70\160\151\x6e\x67\x2f" . $this->extension); $model_name = "\155\x6f\144\x65\154\137\163\150\151\x70\160\151\x6e\147\137" . $this->extension; } $json = array(); if ($this->validate() && isset($this->request->post["\157\x72\144\x65\x72\137\151\144"]) && isset($this->request->post["\143\156\137\x6e\x75\155\x62\145\162"])) { $result = $this->ukrposhta->getCNStatus($this->request->post["\x63\x6e\137\156\x75\x6d\x62\145\162"]); if ($result) { $result = $this->{$model_name}->addCNToOrder($this->request->post["\157\162\144\145\x72\x5f\x69\144"], $result["\163\150\x69\160\155\145\156\x74\102\x61\x72\x63\157\x64\145"], $result["\x73\x68\151\160\x6d\x65\156\x74\125\165\151\x64"]); } if (empty($result)) { $json["\145\x72\162\x6f\162"] = $this->language->get("\145\x72\x72\x6f\x72\137\x63\156\x5f\x61\x73\163\x69\147\156\x6d\x65\x6e\x74"); } else { $json["\163\x75\x63\143\145\163\x73"] = $this->language->get("\x74\145\170\164\137\x63\x6e\137\163\x75\x63\143\x65\x73\163\137\141\163\x73\151\x67\x6e\x6d\145\x6e\x74"); } } else { $json["\145\162\162\x6f\x72"] = $this->error["\x77\141\x72\156\151\x6e\147"]; } $this->response->addHeader("\x43\157\x6e\x74\x65\x6e\x74\x2d\x54\x79\160\x65\72\40\x61\x70\160\154\x69\x63\141\164\151\157\156\x2f\152\163\x6f\x6e"); $this->response->setOutput(json_encode($json)); } public function deleteCNFromOrder() { if (version_compare(VERSION, "\x32\56\x33", "\76\x3d")) { $this->load->language("\145\170\x74\x65\156\163\x69\157\156\57\x73\x68\x69\x70\160\151\x6e\147\57" . $this->extension); $this->load->model("\x65\x78\x74\145\156\163\x69\157\156\x2f\x73\150\151\x70\160\x69\156\x67\x2f" . $this->extension); $model_name = "\x6d\x6f\x64\x65\154\137\x65\170\x74\145\156\163\151\x6f\156\137\x73\150\x69\160\160\x69\x6e\147\137" . $this->extension; } else { $this->load->language("\x73\x68\151\x70\x70\x69\x6e\x67\57" . $this->extension); $this->load->model("\x73\150\x69\160\160\151\156\147\57" . $this->extension); $model_name = "\x6d\157\144\145\x6c\x5f\163\150\x69\160\160\x69\156\147\137" . $this->extension; } $json = array(); if ($this->validate() && isset($this->request->post["\x6f\x72\144\x65\162\137\151\x64"])) { $order = $this->{$model_name}->getOrder($this->request->post["\157\162\x64\x65\x72\137\151\x64"]); if (!empty($order["\165\153\162\x70\x6f\163\150\x74\141\137\x63\x6e\137\156\165\155\142\x65\x72"])) { $this->ukrposhta->deleteCN(array($order["\x75\x6b\162\x70\157\163\x68\164\141\x5f\x63\x6e\137\165\165\151\144"])); $this->{$model_name}->deleteCNFromOrder(array($order["\165\x6b\x72\160\157\163\x68\x74\141\137\143\156\137\165\165\x69\144"])); $json["\163\165\143\x63\x65\x73\163"] = $this->language->get("\x74\x65\x78\164\x5f\163\165\x63\143\145\x73\163\x5f\x64\x65\154\145\x74\145"); } else { $json["\145\162\x72\x6f\x72"] = $this->language->get("\x65\x72\x72\x6f\x72\137\x64\x65\x6c\145\164\x65"); } } else { $json["\145\x72\x72\x6f\x72"] = $this->error["\167\x61\x72\x6e\x69\x6e\x67"]; } $this->response->addHeader("\x43\157\x6e\164\x65\x6e\x74\x2d\x54\x79\x70\145\x3a\x20\x61\x70\160\x6c\151\x63\141\164\x69\157\x6e\x2f\x6a\163\x6f\156"); $this->response->setOutput(json_encode($json)); } public function verifyingAPIaccess() { if (version_compare(VERSION, "\62\x2e\x33", "\76\75")) { $this->load->language("\x65\x78\164\145\x6e\x73\151\x6f\x6e\57\x73\150\x69\160\x70\x69\x6e\x67\57" . $this->extension); } else { $this->load->language("\163\x68\x69\160\160\x69\156\x67\57" . $this->extension); } $json = array(); if (isset($this->request->post["\141\x63\164\x69\x6f\x6e"])) { $action = $this->request->post["\x61\143\164\151\157\156"]; } else { $action = ''; } if (isset($this->request->post["\x65\x63\157\155\x5f\x62\145\x61\x72\x65\x72"])) { $ecom_bearer = $this->request->post["\145\x63\157\x6d\137\142\145\x61\162\x65\162"]; } else { $ecom_bearer = ''; } if (isset($this->request->post["\x74\162\141\x63\x6b\151\156\147\137\142\145\141\162\x65\162"])) { $tracking_bearer = $this->request->post["\164\162\141\x63\x6b\151\x6e\147\137\x62\145\x61\162\145\x72"]; } else { $tracking_bearer = ''; } if (isset($this->request->post["\x75\163\x65\162\x5f\164\157\153\x65\156"])) { $user_token = $this->request->post["\x75\x73\145\x72\137\x74\157\153\145\156"]; } else { $user_token = ''; } $this->ukrposhta->ecom_bearer = $ecom_bearer; $this->ukrposhta->tracking_bearer = $tracking_bearer; if (!$this->validate()) { $json["\x65\162\162\x6f\x72"][] = $this->language->get("\145\x72\x72\157\162\x5f\x70\145\x72\x6d\151\x73\x73\x69\157\156"); } else { if ($action == "\x76\x65\162\151\146\151\143\x61\164\151\x6f\x6e\x5f\x65\x63\x6f\155\137\x62\145\x61\162\145\162") { $this->ukrposhta->setApp(); $this->ukrposhta->setAPIVersion(); $this->ukrposhta->apiRequest("\x61\144\x64\162\x65\x73\163\145\163\57\x30"); if (isset($this->ukrposhta->error[401])) { $json["\x65\162\162\157\x72"][] = $this->language->get("\x65\x72\162\x6f\x72\x5f\166\x65\x72\x69\x66\151\x63\x61\x74\151\157\156"); } else { $json["\156\x65\170\164\137\141\143\164\x69\157\x6e"] = "\x76\x65\162\151\146\x69\x63\x61\x74\x69\x6f\x6e\x5f\x74\162\x61\143\153\x69\x6e\147\x5f\x62\x65\x61\162\145\162"; $json["\156\145\170\x74\137\x61\143\164\151\157\156\137\x74\145\170\x74"] = $this->language->get("\x74\145\170\x74\137\x76\x65\162\x69\146\x69\143\141\x74\x69\x6f\x6e\x5f\164\x72\141\x63\x6b\x69\156\x67\x5f\x62\x65\x61\162\x65\162"); } } else { if ($action == "\x76\145\162\x69\146\x69\143\141\x74\151\157\156\137\164\162\x61\143\x6b\x69\x6e\147\x5f\142\145\141\x72\x65\x72") { $this->ukrposhta->setApp("\163\x74\141\x74\x75\163\x2d\164\162\x61\143\x6b\151\156\147"); $this->ukrposhta->setAPIVersion(); $this->ukrposhta->apiRequest("\163\164\141\x74\165\163\x65\x73\57\x6c\141\163\164", false, array("\x30\65\60\60\61\x30\x30\60\x33\61\61\x34\x33"), "\120\x4f\x53\x54"); if (isset($this->ukrposhta->error[401])) { $json["\x65\x72\162\x6f\x72"][] = $this->language->get("\x65\162\162\x6f\x72\137\x76\145\x72\151\146\x69\x63\141\x74\151\157\156"); } else { $json["\x6e\145\170\164\x5f\141\143\164\151\157\x6e"] = "\x76\145\162\x69\146\151\143\141\164\151\157\156\137\165\163\x65\x72\137\x74\x6f\153\x65\x6e"; $json["\x6e\x65\170\164\x5f\141\143\164\151\x6f\156\x5f\164\x65\170\164"] = $this->language->get("\x74\x65\x78\x74\x5f\x76\145\162\x69\x66\151\x63\141\x74\151\157\x6e\x5f\x75\x73\x65\x72\x5f\x74\157\x6b\145\156"); } } else { if ($action == "\x76\145\x72\x69\x66\151\x63\141\164\151\x6f\x6e\x5f\165\x73\145\x72\137\x74\x6f\153\145\x6e") { $this->ukrposhta->setApp(); $this->ukrposhta->setAPIVersion(); $this->ukrposhta->setUserToken($user_token); $this->ukrposhta->apiRequest("\143\154\x69\x65\x6e\x74\55\x61\144\144\162\x65\163\163\145\163", "\x3f\x63\x6c\x69\145\156\x74\x55\x75\151\144\x3d\61\61\61\x31\x31\x31\x31\61\x2d\61\x31\61\x31\x2d\61\x31\61\61\x2d\x31\61\x31\61\55\x31\x31\61\x31\61\61\x31\x31\61\61\61\61"); if (isset($this->ukrposhta->error[401]) || isset($this->ukrposhta->error["\x55\120\x45\x30\x35\60\x30\x31"]) || isset($this->ukrposhta->error["\x55\x50\x45\x30\x38\60\x30\71"])) { $json["\145\x72\x72\157\x72"][] = $this->language->get("\145\x72\162\x6f\x72\137\166\x65\x72\151\146\151\143\x61\164\x69\x6f\x6e"); } else { $json["\156\145\x78\164\x5f\141\x63\164\151\x6f\156"] = "\162\145\x66\145\x72\x65\156\143\145\x73\137\x75\160\x64\x61\164\x69\156\147"; $json["\x6e\145\x78\164\137\141\143\164\x69\x6f\x6e\x5f\164\145\x78\164"] = $this->language->get("\164\x65\170\x74\137\162\x65\146\145\x72\145\x6e\x63\x65\x73\137\165\160\144\x61\x74\151\x6e\147"); } } else { if ($action == "\162\145\146\x65\x72\145\x6e\143\145\163\x5f\x75\x70\x64\x61\x74\151\156\147") { $database = $this->ukrposhta->getReferences("\x64\141\x74\141\142\141\x73\x65"); $data = $this->ukrposhta->update("\162\145\x66\145\162\x65\156\x63\x65\x73"); if ($data === false) { $json["\x65\162\162\157\162"][] = $this->language->get("\x65\162\x72\x6f\x72\x5f\x75\160\144\141\x74\x65"); } else { if (empty($database)) { $json["\x6e\145\170\x74\137\141\x63\x74\x69\157\156"] = "\x72\145\x67\x69\157\156\163"; $json["\x6e\x65\x78\164\137\x61\143\x74\151\157\x6e\137\164\x65\x78\164"] = $this->language->get("\164\x65\170\164\137\x72\145\147\151\157\156\x73\137\x75\160\x64\141\x74\x69\x6e\x67"); } else { $json["\x6e\x65\170\x74\137\141\x63\x74\151\157\x6e"] = "\163\141\x76\x69\x6e\147"; $json["\x6e\x65\x78\164\137\x61\x63\x74\x69\157\x6e\137\164\145\x78\x74"] = $this->language->get("\164\145\170\x74\x5f\163\x61\x76\151\x6e\x67\137\163\x65\164\x74\151\x6e\x67\x73"); } } } else { if ($action == "\162\145\147\x69\x6f\156\x73") { $data = $this->ukrposhta->update("\162\145\x67\151\x6f\156\x73"); if ($data === false) { $json["\145\x72\x72\x6f\x72"][] = $this->language->get("\145\x72\162\157\x72\137\165\160\144\141\x74\145"); } else { $json["\x6e\x65\x78\x74\x5f\x61\x63\x74\151\x6f\156"] = "\x63\151\164\x69\x65\163"; $json["\x6e\x65\x78\164\137\141\143\164\x69\157\x6e\x5f\x74\145\170\164"] = $this->language->get("\x74\x65\170\x74\x5f\143\x69\164\x69\x65\163\x5f\x75\160\144\141\x74\x69\156\x67"); } } else { if ($action == "\x63\151\164\x69\x65\163") { $data = $this->ukrposhta->update("\x63\x69\x74\151\145\163"); if ($data === false) { $json["\x65\x72\162\157\162"][] = $this->language->get("\x65\162\x72\x6f\x72\137\165\x70\x64\x61\x74\x65"); } else { $json["\x6e\145\170\x74\137\x61\x63\x74\151\x6f\156"] = "\144\x65\x70\x61\162\164\155\x65\156\x74\163"; $json["\156\x65\170\164\137\141\x63\164\151\157\156\137\x74\x65\x78\x74"] = $this->language->get("\164\x65\x78\x74\x5f\144\x65\x70\141\x72\164\x6d\145\156\x74\163\x5f\x75\160\144\141\x74\x69\x6e\x67"); } } else { if ($action == "\144\145\x70\141\x72\164\155\x65\156\x74\163") { $data = $this->ukrposhta->update("\x64\145\x70\x61\162\164\155\x65\156\x74\x73"); if ($data === false) { $json["\145\162\162\x6f\x72"][] = $this->language->get("\145\x72\162\x6f\162\137\x75\x70\x64\x61\164\145"); } else { $json["\x6e\x65\x78\164\x5f\x61\143\164\151\157\x6e"] = "\x73\141\166\151\156\147"; $json["\x6e\x65\x78\x74\x5f\x61\143\164\x69\x6f\156\137\x74\145\170\x74"] = $this->language->get("\x74\145\170\x74\x5f\x73\x61\x76\x69\156\147\137\x73\145\x74\164\151\156\x67\163"); } } } } } } } } } if (!empty($this->ukrposhta->error) && isset($json["\145\162\162\x6f\162"])) { $json["\x65\x72\x72\x6f\162"] = array_merge($json["\145\x72\162\x6f\162"], $this->ukrposhta->error); } $this->response->addHeader("\x43\157\156\164\x65\x6e\164\x2d\124\x79\x70\145\72\40\x61\x70\x70\154\x69\143\x61\164\151\157\156\x2f\152\x73\157\x6e"); $this->response->setOutput(json_encode($json)); } public function update() { if (version_compare(VERSION, "\62\x2e\x33", "\76\75")) { $this->load->language("\x65\170\x74\145\x6e\163\x69\157\156\x2f\x73\x68\151\160\160\x69\156\x67\57" . $this->extension); } else { $this->load->language("\x73\150\151\160\x70\151\x6e\x67\57" . $this->extension); } $json = array(); if (!$this->validate()) { $json["\x65\162\162\157\162"] = $this->error["\x77\141\x72\156\x69\156\147"]; } else { if (isset($this->request->get["\x74\x79\x70\145"])) { $type = $this->request->get["\x74\171\x70\x65"]; } $amount = $this->ukrposhta->update($type); if ($amount === false) { $json["\145\162\162\x6f\162"] = $this->language->get("\145\162\x72\157\x72\137\x75\x70\144\x61\x74\145"); } else { $json["\x73\x75\143\143\145\163\163"] = $this->language->get("\x74\145\x78\x74\x5f\165\x70\144\141\x74\145\x5f\x73\x75\x63\x63\x65\163\163"); $json["\141\155\x6f\165\156\164"] = $amount; } } $this->response->addHeader("\103\x6f\156\x74\145\156\x74\55\124\x79\x70\145\72\x20\141\x70\x70\154\151\x63\x61\x74\151\157\x6e\57\152\163\x6f\x6e"); $this->response->setOutput(json_encode($json)); } public function ukrposhtaData() { if (version_compare(VERSION, "\x32\56\x33", "\x3e\x3d")) { $this->load->language("\145\170\164\145\156\x73\151\x6f\x6e\x2f\163\150\x69\x70\x70\151\x6e\x67\57" . $this->extension); } else { $this->load->language("\163\x68\151\160\x70\x69\156\x67\x2f" . $this->extension); } $json = array(); if (isset($this->request->post["\x61\143\164\x69\x6f\156"])) { $action = $this->request->post["\141\x63\x74\151\157\156"]; } else { $action = ''; } if (isset($this->request->post["\x66\x69\x6c\164\x65\x72"])) { $filter = $this->request->post["\146\x69\x6c\x74\x65\x72"]; } else { $filter = ''; } if ($action == "\x67\145\164\103\x69\164\151\145\163") { $json = $this->ukrposhta->getCities($filter); } else { if ($action == "\x67\x65\x74\104\x65\160\141\162\164\155\145\156\x74\163" && $filter) { $json = $this->ukrposhta->getDepartments($filter); } else { if ($action == "\163\141\x76\x65\x53\145\156\144\x65\162" && $this->validate() && $this->validateCNForm()) { $result = $this->client($this->request->post); if (empty($this->ukrposhta->error)) { $json["\x73\145\156\144\x65\162"] = $result["\x73\x65\x6e\144\x65\162"]; $json["\x73\145\156\144\145\162\x5f\x61\144\x64\162\145\x73\x73"] = $result["\163\x65\x6e\x64\145\x72\137\141\144\144\x72\x65\163\163"]; $json["\163\x75\143\143\x65\x73\163"] = $this->language->get("\164\x65\x78\164\137\143\x6c\151\145\156\x74\x5f\x73\141\x76\145\x64\x5f\163\165\x63\x63\145\163\163\146\x75\154\x6c\171"); } else { $json["\145\162\x72\157\x72"] = $this->ukrposhta->error; $json["\x65\x72\162\157\x72"][] = $this->language->get("\x65\162\162\x6f\162\x5f\x63\x6c\151\145\156\164\137\163\x61\x76\x65"); } } else { if ($action == "\x67\145\164\x43\154\151\145\x6e\164\x42\x79\x50\150\157\156\x65" && $this->validate()) { if (isset($this->request->post["\146\x69\154\x74\x65\x72"])) { $filter = $this->request->post["\146\x69\154\x74\x65\x72"]; } else { $filter = ''; } $json = $this->ukrposhta->getClientByPhone($filter); if (!empty($json["\x61\144\x64\162\145\x73\x73\x65\163"]) && is_array($json["\141\144\x64\162\x65\x73\x73\145\x73"])) { foreach ($json["\x61\144\x64\x72\145\163\163\x65\163"] as $address) { if ($json["\x61\x64\144\x72\x65\x73\x73\x49\144"] == $address["\141\x64\x64\x72\145\x73\163\x49\144"]) { $department = $this->ukrposhta->getDepartmentBYIndex($address["\141\144\144\x72\145\x73\x73"]["\160\x6f\163\164\143\x6f\x64\145"]); $json["\x72\x65\147\x69\x6f\x6e"] = $department["\x50\104\122\x45\x47\111\x4f\116\x5f\x49\104"]; $json["\143\151\x74\x79"] = $department["\120\x44\x43\x49\x54\x59\137\x49\104"]; $json["\x73\x74\162\x65\x65\x74"] = $address["\141\x64\144\x72\x65\x73\163"]["\163\x74\x72\145\145\x74"]; $json["\x68\157\x75\163\x65\116\165\155\x62\145\162"] = $address["\x61\144\144\x72\145\x73\163"]["\x68\157\165\x73\x65\x4e\x75\155\142\145\x72"]; $json["\x61\160\141\x72\164\155\145\x6e\x74\116\x75\155\x62\145\162"] = $address["\x61\144\x64\x72\x65\163\x73"]["\x61\x70\141\162\164\x6d\x65\x6e\x74\116\165\155\142\x65\162"]; $json["\160\x6f\163\164\x63\157\x64\x65"] = $address["\x61\x64\x64\162\145\163\x73"]["\160\x6f\163\x74\x63\x6f\x64\145"]; $json["\x73\165\x63\143\145\x73\163"] = $this->language->get("\x74\x65\x78\x74\x5f\143\154\x69\145\x6e\164\137\144\x61\x74\x61\137\146\157\x75\x6e\144"); } } } else { $json["\145\x72\162\157\x72"] = $this->language->get("\145\162\x72\157\x72\x5f\x63\154\151\145\156\x74\137\163\x65\x61\x72\x63\150"); } } else { if ($action == "\x61\x64\x64\123\150\151\x70\155\145\156\164\x54\x6f\x47\162\x6f\165\x70" && $this->validate()) { if (isset($this->request->post["\143\156"])) { $cn = $this->request->post["\143\156"]; } else { $cn = ''; } if (isset($this->request->post["\x67\162\x6f\165\160\137\x75\165\x69\144"])) { $group_uuid = $this->request->post["\x67\x72\x6f\x75\x70\137\165\x75\151\x64"]; } else { $group_uuid = ''; } if (isset($this->request->post["\147\162\157\x75\160\137\x6e\141\x6d\x65"])) { $group_name = $this->request->post["\x67\162\157\x75\160\x5f\156\141\x6d\145"]; } else { $group_name = ''; } if ($group_name && !$group_uuid) { $cn_data = $this->ukrposhta->getCN($cn); $group = $this->ukrposhta->createShipmentsGroup($group_name, $cn_data["\x74\171\160\x65"], $this->settings["\163\x65\156\x64\x65\x72"]); if (!empty($group["\165\x75\x69\144"])) { $group_uuid = $group["\165\x75\x69\144"]; } } $result = $this->ukrposhta->addShipmentsToGroup(array($cn), $group_uuid); if ($result) { $this->cache->delete("\x75\x6b\x72\160\x6f\x73\150\164\141\x5f\163\x68\x69\160\x6d\x65\156\164\163\137\147\x72\x6f\165\x70"); $json["\163\165\x63\143\x65\x73\163"] = $this->language->get("\164\x65\170\x74\x5f\x73\165\143\x63\x65\x73\163\137\x61\x64\x64\145\x64\x5f\x74\x6f\137\x67\x72\x6f\165\160"); } else { $json["\x65\x72\x72\x6f\x72"] = $this->language->get("\x65\x72\x72\x6f\x72\137\x61\144\144\145\144\137\164\157\x5f\147\x72\x6f\165\160"); } } else { if ($action == "\x64\x65\x6c\x65\x74\x65\x53\x68\151\x70\155\x65\156\164\106\162\x6f\155\107\162\157\165\160" && $this->validate()) { if (isset($this->request->post["\x63\x6e"])) { $cn = $this->request->post["\143\x6e"]; } else { $cn = ''; } $result = $this->ukrposhta->deleteShipmentFromGroup($cn); if ($result) { $this->cache->delete("\x75\153\x72\160\157\x73\x68\x74\x61\x5f\163\150\x69\x70\x6d\x65\156\x74\163\137\x67\x72\x6f\165\160"); $json["\x73\x75\143\143\x65\x73\x73"] = $this->language->get("\x74\145\x78\164\137\163\x75\x63\x63\x65\163\163\x5f\144\145\154\145\164\145\x64\x5f\x66\x72\x6f\155\x5f\x67\162\x6f\x75\160"); } else { $json["\145\x72\162\157\162"] = $this->language->get("\145\162\x72\x6f\x72\x5f\x64\x65\154\145\x74\145\x64\x5f\146\x72\x6f\x6d\137\x67\162\x6f\x75\160"); } } else { if ($action == "\x67\145\x74\104\x6f\143\165\155\x65\x6e\164") { $cache_documents = $this->cache->get("\165\x6b\162\x70\x6f\163\x68\x74\x61\137\144\x6f\x63\x75\x6d\145\156\x74\163"); if (isset($this->request->post["\143\156"])) { $cn = $this->request->post["\143\156"]; } else { $cn = ''; } if (isset($cache_documents[$cn])) { $json["\143\156"] = $cache_documents[$cn]; } else { $result = $this->ukrposhta->getCN($cn); if ($result) { $references = $this->ukrposhta->getReferences(); $json["\x63\156"]["\145\163\x74\x69\155\141\164\145\144\137\163\150\151\160\160\x69\x6e\x67\137\x64\x61\164\x65"] = date("\x64\55\x6d\55\131", strtotime($result["\x64\145\154\x69\x76\x65\162\171\x44\141\164\145"])); $json["\x63\156"]["\x6c\141\163\164\137\165\x70\144\x61\x74\145\144\x5f\163\x74\x61\x74\165\x73\x5f\144\141\x74\x65"] = date("\144\x2d\x6d\x2d\131\x20\110\72\151", strtotime($result["\x6c\x69\146\x65\143\171\x63\154\x65"]["\163\x74\141\x74\x75\163\104\x61\x74\145"])); $json["\x63\156"]["\x6c\141\x73\164\x5f\155\x6f\x64\151\146\x69\x65\144\137\x64\141\164\x65"] = date("\x64\x2d\x6d\x2d\131\40\x48\x3a\x69", strtotime($result["\x6c\141\x73\x74\x4d\157\x64\151\x66\151\145\x64"])); $json["\143\x6e"]["\x73\x65\x6e\x64\x65\162"] = $result["\x73\145\x6e\x64\145\x72"]["\156\141\x6d\x65"]; $json["\x63\x6e"]["\163\145\156\x64\145\x72\x5f\160\150\x6f\x6e\145"] = $result["\163\x65\x6e\x64\145\x72"]["\160\150\157\156\x65\x4e\x75\x6d\142\145\x72"]; $json["\x63\x6e"]["\163\x65\x6e\144\x65\162\137\x61\x64\x64\162\x65\163\163"] = $result["\163\145\156\144\145\162"]["\x61\144\x64\x72\145\x73\163\x65\x73"][0]["\x61\144\144\162\145\x73\x73"]["\x64\x65\164\x61\151\154\145\x64\x49\156\146\157"]; $json["\x63\156"]["\x72\145\143\151\160\x69\x65\156\164"] = $result["\162\x65\143\x69\160\151\145\x6e\164"]["\156\x61\155\x65"]; $json["\143\156"]["\162\145\143\151\x70\x69\145\x6e\164\137\160\x68\x6f\156\x65"] = $result["\162\x65\143\151\160\x69\x65\156\x74"]["\x70\x68\x6f\156\x65\116\165\x6d\142\x65\162"]; $json["\143\156"]["\162\x65\143\x69\x70\x69\x65\x6e\164\x5f\x61\144\x64\162\145\x73\x73"] = $result["\x72\145\x63\151\160\x69\x65\x6e\164"]["\141\x64\144\162\145\163\163\145\x73"][0]["\x61\144\x64\162\x65\x73\x73"]["\x64\x65\164\141\x69\154\x65\144\x49\156\x66\157"]; $json["\143\x6e"]["\x77\145\x69\147\x68\x74"] = $result["\167\x65\x69\x67\150\x74"] / 1000; $json["\x63\x6e"]["\163\145\x61\x74\x73\x5f\x61\155\x6f\165\x6e\x74"] = count($result["\160\x61\162\x63\145\154\x73"]); $json["\x63\x6e"]["\144\x65\143\x6c\141\x72\145\x64\137\x63\157\163\164"] = $this->currency->format($result["\x64\x65\143\x6c\x61\x72\x65\x64\120\x72\x69\x63\x65"], "\125\x41\110", 1); $json["\143\156"]["\163\x68\151\x70\160\x69\156\147\137\143\x6f\x73\x74"] = $this->currency->format($result["\x64\x65\x6c\151\x76\x65\x72\x79\120\x72\151\x63\145"], "\125\101\110", 1); $json["\x63\156"]["\x62\x61\x63\x6b\x77\x61\162\x64\x5f\x64\x65\154\x69\x76\145\x72\171"] = $this->currency->format($result["\160\x6f\163\x74\x50\141\x79\125\141\150"], "\125\101\x48", 1); $json["\143\156"]["\x64\145\x6c\151\166\x65\162\x79\x5f\x74\x79\160\x65"] = $result["\164\171\160\x65"]; $json["\x63\156"]["\144\x65\154\x69\166\x65\x72\x79\x5f\x74\145\x63\150\x6e\x6f\154\157\x67\171"] = $references["\144\x65\154\x69\166\145\162\x79\x5f\164\145\x63\150\x6e\157\154\157\x67\x69\145\163"][$result["\144\145\154\x69\x76\x65\162\x79\124\x79\160\x65"]]["\x64\x65\163\x63\162\151\x70\164\x69\x6f\156"]; $json["\x63\x6e"]["\144\145\163\x63\162\151\x70\x74\x69\157\x6e"] = $result["\160\x61\162\x63\145\154\163"][0]["\144\145\163\x63\162\151\160\164\151\x6f\x6e"]; $json["\x63\156"]["\x73\x74\141\x74\165\163"] = $result["\x6c\x69\146\x65\143\x79\x63\154\x65"]["\163\x74\141\164\165\x73"]; if ($result["\x70\x61\x69\144\102\x79\x52\x65\x63\151\x70\x69\x65\156\x74"]) { $json["\x63\156"]["\144\145\x6c\x69\x76\x65\x72\171\x5f\160\x61\x79\x65\x72"] = $references["\160\x61\171\145\162\137\164\171\160\145\x73"]["\x72\145\x63\x69\x70\x69\x65\x6e\164"]["\144\x65\163\143\162\x69\160\164\x69\x6f\x6e"]; } else { $json["\143\x6e"]["\144\145\x6c\x69\166\x65\162\171\137\x70\x61\171\x65\x72"] = $references["\160\141\x79\145\162\137\x74\171\160\x65\163"]["\x73\145\156\144\145\162"]["\x64\145\x73\x63\x72\151\160\164\x69\x6f\156"]; } $group = $this->ukrposhta->getGroupByShipment($cn); if ($group) { $json["\x63\x6e"]["\163\x68\151\160\x6d\x65\156\164\x5f\147\x72\x6f\165\160"] = $group["\x6e\141\x6d\145"]; } else { $json["\143\x6e"]["\x73\x68\151\x70\155\x65\156\x74\137\147\x72\157\x75\x70"] = ''; } $cache_documents[$result["\x75\x75\151\144"]] = $json["\143\156"]; $this->cache->set("\x75\153\x72\x70\157\163\150\164\141\137\144\x6f\143\x75\x6d\x65\156\164\x73", $cache_documents); } } } else { $json = $this->error; } } } } } } } $this->response->addHeader("\x43\157\156\x74\145\156\164\x2d\x54\x79\160\x65\72\40\141\x70\160\x6c\151\143\141\164\x69\x6f\156\x2f\152\x73\157\x6e"); $this->response->setOutput(json_encode($json)); } public function printDocument() { if (isset($this->request->get["\143\x6e\x5f\x6e\165\155\142\x65\x72"])) { $cn_number = $this->request->get["\143\x6e\x5f\156\165\x6d\x62\145\x72"]; } else { $cn_number = ''; } if (isset($this->request->get["\143\156\x5f\165\x75\x69\144"])) { $cn_uuid = $this->request->get["\x63\156\x5f\x75\165\151\x64"]; } else { $cn_uuid = ''; } if (isset($this->request->get["\164\171\x70\x65"])) { $type = $this->request->get["\x74\171\160\x65"]; } else { $type = ''; } if (isset($this->request->get["\146\157\x72\x6d\141\164"])) { $format = $this->request->get["\x66\157\x72\x6d\141\164"]; } else { $format = ''; } $parameters = ''; if (!empty($this->request->get["\160\162\x69\156\164\x5f\x73\145\x6e\144\x65\x72\x5f\156\141\x6d\145"])) { $parameters .= "\46\163\x68\157\x77\x53\x65\156\144\145\x72\x4e\x61\x6d\145\75\164\x72\165\145"; } if (!empty($this->request->get["\x68\x69\x64\145\137\x64\x65\154\151\x76\x65\x72\x79\137\160\x72\151\x63\145"])) { $parameters .= "\46\x68\151\144\145\104\145\154\151\166\145\x72\x79\x50\x72\x69\x63\145\x3d\61"; } if (!empty($this->request->get["\x68\x69\144\145\137\x64\x65\x63\x6c\141\x72\145\144\137\160\162\151\x63\145"])) { $parameters .= "\x26\150\151\144\x65\x44\x65\x63\x6c\x61\x72\145\144\x50\162\x69\143\x65\75\x31"; } $data = $this->ukrposhta->printDocument($cn_uuid, $type, $format, $parameters); $this->response->addheader("\x50\162\x61\x67\x6d\x61\x3a\40\160\x75\x62\x6c\151\x63"); $this->response->addheader("\x45\x78\x70\x69\162\x65\x73\x3a\x20\x30"); $this->response->addheader("\103\157\156\164\x65\x6e\164\55\x44\x65\163\143\162\151\160\x74\x69\157\x6e\72\40\106\x69\x6c\x65\x20\124\162\141\x6e\x73\146\x65\162"); $this->response->addheader("\103\x6f\156\164\x65\x6e\x74\55\x54\171\x70\x65\72\x20\x61\x70\160\154\x69\x63\141\x74\x69\x6f\156\x2f\160\144\146"); $this->response->addheader("\103\157\156\x74\x65\156\x74\55\x44\x69\x73\x70\x6f\x73\151\164\x69\x6f\x6e\72\40\x69\x6e\x6c\151\156\145\73\x20\146\151\x6c\145\156\141\155\x65\75" . $type . "\137" . $cn_number . "\x5f" . date("\144\55\155\x2d\131") . "\56\160\x64\x66"); $this->response->addheader("\x43\157\156\x74\x65\x6e\164\x2d\124\x72\141\156\x73\146\145\162\x2d\x45\x6e\x63\x6f\144\151\x6e\147\x3a\40\142\151\x6e\x61\162\171"); $this->response->setOutput($data); } private function client($data, $type = "\163\145\156\144\x65\162") { if ($type == "\x73\145\x6e\144\x65\x72") { if (empty($data["\163\145\x6e\x64\x65\162\137\x61\144\x64\162\145\x73\163"])) { $sender_address_data = array("\x70\157\x73\x74\143\157\x64\x65" => $data["\163\145\x6e\144\145\x72\137\160\x6f\163\164\x63\157\x64\x65"], "\x63\x6f\x75\x6e\x74\x72\x79" => "\x55\x41", "\162\x65\147\x69\157\x6e" => $this->ukrposhta->getRegionName($data["\163\x65\156\x64\145\162\137\x72\x65\x67\x69\x6f\x6e"]), "\143\151\x74\171" => $this->ukrposhta->getCityName($data["\163\145\x6e\144\145\162\x5f\x63\151\x74\171"]), "\163\164\x72\x65\145\x74" => $data["\x73\145\156\x64\x65\x72\137\163\x74\x72\145\145\x74"], "\x68\x6f\x75\x73\145\116\165\x6d\142\x65\x72" => $data["\x73\x65\156\144\x65\x72\137\150\157\x75\x73\145"], "\x61\160\x61\162\x74\x6d\x65\x6e\164\x4e\165\x6d\x62\145\162" => $data["\x73\145\156\144\145\162\137\146\x6c\x61\164"]); $result = $this->ukrposhta->saveAddress($sender_address_data); if ($result) { $data["\163\145\156\x64\x65\162\137\x61\144\x64\x72\145\x73\x73"] = $result["\x69\x64"]; } else { $data["\x73\145\156\x64\145\x72\137\141\x64\x64\x72\145\x73\163"] = ''; } } if (empty($data["\163\145\x6e\x64\145\162"])) { $sender_data = array("\164\171\160\145" => $data["\163\145\x6e\144\145\162\137\x74\x79\x70\145"], "\141\144\144\x72\x65\x73\163\x49\144" => $data["\x73\x65\x6e\144\145\162\137\141\144\144\x72\145\x73\x73"], "\x70\150\x6f\x6e\x65\x4e\x75\155\142\x65\162" => $data["\x73\145\x6e\144\145\x72\137\x70\150\157\x6e\145"]); if ($data["\x73\145\156\x64\145\x72\x5f\164\x79\x70\145"] == "\111\x4e\x44\111\x56\111\x44\x55\x41\x4c") { $sender_name_parts = explode("\x20", preg_replace("\57\x20\x7b\x32\x2c\x7d\x2f", "\40", mb_convert_case(trim($data["\163\145\156\144\145\162\x5f\x6e\x61\155\x65"]), MB_CASE_TITLE, "\x55\124\106\x2d\70"))); list($sender_data["\x6c\141\163\164\x4e\141\x6d\x65"], $sender_data["\x66\x69\x72\163\164\x4e\141\x6d\x65"]) = $sender_name_parts; if (isset($sender_name_parts[2])) { $sender_data["\x6d\151\x64\144\154\x65\116\141\x6d\145"] = $sender_name_parts[2]; } $sender_data["\x74\x69\x6e"] = $data["\x73\145\156\x64\145\162\137\x74\x69\156"]; $sender_data["\145\155\141\151\x6c"] = $data["\x73\145\x6e\144\x65\162\137\x65\155\141\151\154"]; } else { if ($data["\x73\x65\x6e\144\145\162\137\164\x79\160\145"] == "\x43\117\115\120\x41\116\131") { $sender_data["\x6e\x61\155\145"] = $data["\163\x65\x6e\x64\145\162\x5f\x6e\141\x6d\x65"]; $sender_data["\x65\x64\x72\160\x6f\165"] = $data["\x73\145\x6e\144\145\162\x5f\145\144\x72\x70\x6f\x75"]; $sender_data["\x62\x61\x6e\153\x41\143\x63\x6f\x75\x6e\164"] = $data["\163\x65\x6e\144\x65\x72\137\142\141\x6e\x6b\137\x61\143\143\x6f\x75\x6e\164"]; $sender_data["\145\155\x61\x69\x6c"] = $data["\x73\x65\156\x64\145\162\x5f\145\x6d\141\x69\x6c"]; } else { if ($data["\x73\145\156\x64\x65\x72\137\164\x79\160\x65"] == "\120\122\x49\x56\x41\x54\x45\137\x45\x4e\124\x52\x45\x50\122\x45\x4e\105\125\x52") { $sender_data["\156\x61\155\145"] = $data["\x73\145\x6e\144\x65\162\x5f\156\141\x6d\x65"]; $sender_data["\x74\151\156"] = $data["\163\145\156\x64\x65\x72\137\x74\151\156"]; $sender_data["\142\x61\x6e\x6b\101\143\143\157\165\156\x74"] = $data["\163\145\156\x64\x65\162\137\142\x61\156\153\137\x61\143\143\157\x75\x6e\x74"]; $sender_data["\145\x6d\x61\x69\x6c"] = $data["\x73\145\156\144\145\x72\x5f\x65\x6d\141\151\154"]; } } } $result = $this->ukrposhta->saveClient($sender_data); if ($result) { $data["\163\145\x6e\144\x65\162"] = $result["\165\165\151\x64"]; } else { $data["\x73\x65\x6e\144\x65\x72"] = ''; } } else { $result = $this->ukrposhta->getClient($data["\x73\x65\x6e\144\x65\162"]); if ($result) { $sender_data = array(); if ($data["\x73\x65\156\x64\145\x72\x5f\x74\171\x70\x65"] == "\111\x4e\104\x49\x56\x49\104\x55\101\x4c") { $sender_name_parts = explode("\x20", preg_replace("\57\40\173\62\x2c\175\57", "\40", mb_convert_case(trim($data["\x73\x65\x6e\x64\145\162\137\156\141\155\x65"]), MB_CASE_TITLE, "\125\124\x46\55\x38"))); if ($result["\146\x69\162\x73\164\116\141\155\x65"] != $sender_name_parts[1]) { $sender_data["\146\151\162\163\164\116\141\x6d\x65"] = $sender_name_parts[1]; } if ($result["\154\x61\x73\x74\x4e\141\x6d\145"] != $sender_name_parts[0]) { $sender_data["\x6c\141\x73\x74\x4e\141\155\x65"] = $sender_name_parts[0]; } if (isset($sender_name_parts[2]) && $result["\155\151\x64\144\154\x65\116\x61\155\x65"] != $sender_name_parts[2]) { $sender_data["\x6d\x69\144\144\x6c\145\116\x61\155\145"] = $sender_name_parts[2]; } } else { if ($result["\x6e\x61\155\145"] != $data["\163\x65\156\x64\145\x72\x5f\x6e\x61\x6d\x65"]) { $sender_data["\156\x61\155\145"] = $data["\x73\145\156\144\145\x72\x5f\156\141\155\x65"]; } } if (isset($data["\163\145\156\x64\x65\162\x5f\164\151\x6e"]) && (empty($result["\x74\x69\x6e"]) || $result["\164\151\x6e"] != $data["\x73\145\156\144\x65\162\x5f\x74\151\x6e"])) { $sender_data["\164\x69\x6e"] = $data["\163\x65\156\144\145\x72\x5f\164\x69\x6e"]; } if (isset($data["\163\x65\x6e\x64\145\x72\x5f\145\x64\162\x70\157\x75"]) && (empty($result["\x65\144\x72\x70\x6f\165"]) || $result["\145\x64\162\160\157\165"] != $data["\x73\145\x6e\x64\x65\x72\x5f\145\x64\162\160\x6f\165"])) { $sender_data["\x65\144\162\160\x6f\165"] = $data["\163\145\x6e\144\145\162\x5f\145\144\162\160\x6f\165"]; } if (isset($data["\x73\145\x6e\144\x65\162\x5f\x62\141\156\153\x5f\141\x63\143\x6f\165\156\164"]) && (empty($result["\x62\141\x6e\153\101\x63\143\x6f\165\156\x74"]) || $result["\x62\x61\x6e\153\x41\x63\143\157\x75\156\164"] != $data["\x73\x65\x6e\x64\145\162\137\142\141\156\x6b\x5f\x61\143\x63\x6f\165\156\164"])) { $sender_data["\x62\141\156\153\x41\143\143\157\165\x6e\164"] = $data["\163\145\156\x64\145\x72\137\142\141\x6e\153\137\x61\143\143\157\165\x6e\x74"]; } if (isset($data["\163\x65\156\x64\145\162\137\145\155\x61\x69\x6c"]) && (empty($result["\x65\155\141\x69\x6c"]) || $result["\x65\155\141\151\154"] != $data["\163\x65\156\x64\x65\x72\x5f\x65\x6d\141\151\154"])) { $sender_data["\145\155\x61\x69\154"] = $data["\163\145\x6e\144\145\162\x5f\x65\x6d\x61\x69\154"]; } if (9 < utf8_strlen($data["\163\x65\156\x64\145\162\x5f\160\150\157\x6e\145"]) && strpos($result["\x70\x68\157\156\145\116\165\155\x62\x65\162"], $data["\x73\x65\x6e\x64\x65\162\137\160\150\157\x6e\145"]) === false) { $sender_data["\160\x68\x6f\156\145\x4e\x75\155\142\145\x72"] = $data["\163\145\156\x64\x65\162\x5f\160\150\157\x6e\145"]; } if ($result["\x61\x64\x64\162\x65\163\x73\111\x64"] != $data["\x73\145\156\x64\145\162\137\141\144\144\x72\x65\x73\x73"]) { $sender_data["\x61\x64\144\162\145\163\163\x49\x64"] = $data["\163\145\x6e\x64\145\x72\x5f\x61\x64\144\162\145\163\163"]; } if (!empty($sender_data)) { $this->ukrposhta->saveClient($sender_data, $data["\x73\145\x6e\x64\145\x72"]); } } } } else { if ($type == "\162\x65\x63\151\x70\151\145\x6e\164") { if (!$data["\162\145\143\x69\160\151\145\156\164\137\x61\x64\144\162\145\163\x73"]) { $recipient_address_data = array("\160\157\163\x74\143\x6f\144\x65" => $data["\162\x65\x63\x69\160\x69\x65\156\x74\x5f\160\157\163\164\143\157\144\x65"], "\143\x6f\165\156\x74\x72\x79" => "\x55\x41", "\x72\145\147\x69\157\x6e" => $this->ukrposhta->getRegionName($data["\162\145\143\x69\x70\x69\145\156\164\x5f\x72\145\x67\x69\x6f\x6e"]), "\143\x69\164\171" => $this->ukrposhta->getCityName($data["\x72\145\x63\x69\x70\151\145\x6e\164\137\x63\151\164\x79"]), "\x73\x74\x72\x65\x65\164" => '', "\150\x6f\x75\x73\145\116\x75\155\x62\145\162" => '', "\141\x70\141\162\x74\x6d\x65\x6e\164\116\165\x6d\142\x65\x72" => ''); if (!empty($data["\x72\145\143\151\x70\x69\145\x6e\x74\x5f\163\164\x72\145\145\164"])) { $recipient_address_data["\x73\x74\162\x65\x65\x74"] = $data["\x72\145\x63\x69\160\x69\145\x6e\164\137\163\164\x72\x65\145\164"]; } if (!empty($data["\x72\145\143\x69\160\151\x65\156\164\137\150\x6f\165\x73\145"])) { $recipient_address_data["\150\157\x75\163\x65\116\165\155\142\x65\162"] = $data["\162\x65\143\x69\160\151\x65\156\x74\137\150\x6f\165\x73\x65"]; } if (!empty($data["\x72\x65\x63\151\160\x69\145\156\x74\137\x66\x6c\x61\164"])) { $recipient_address_data["\141\160\141\x72\x74\155\x65\x6e\164\116\x75\155\142\145\x72"] = $data["\x72\x65\x63\x69\160\151\x65\x6e\x74\137\x66\x6c\141\164"]; } $result = $this->ukrposhta->saveAddress($recipient_address_data); if ($result) { $data["\x72\145\143\x69\160\x69\145\x6e\x74\137\x61\144\144\x72\145\163\163"] = $result["\151\x64"]; } } if (!$data["\x72\145\143\151\x70\151\145\x6e\x74"]) { $recipient_data = array("\x74\x79\x70\145" => $data["\x72\x65\143\151\x70\151\x65\x6e\x74\137\164\x79\x70\145"], "\141\144\x64\162\145\163\163\x49\x64" => $data["\x72\145\x63\x69\160\151\x65\x6e\164\x5f\x61\x64\144\x72\145\163\x73"], "\160\150\157\156\145\x4e\x75\155\142\x65\x72" => $data["\162\145\143\151\x70\151\x65\156\x74\137\x70\x68\157\x6e\x65"]); if ($data["\x72\145\143\x69\160\151\x65\x6e\x74\x5f\x74\x79\160\145"] == "\x49\x4e\x44\x49\126\111\104\125\101\x4c") { $recipient_name_parts = explode("\x20", preg_replace("\x2f\x20\173\x32\x2c\x7d\x2f", "\x20", mb_convert_case(trim($data["\x72\145\x63\x69\160\151\145\x6e\164\x5f\156\141\155\145"]), MB_CASE_TITLE, "\125\x54\106\55\70"))); list($recipient_data["\154\x61\x73\x74\x4e\141\x6d\145"], $recipient_data["\x66\151\x72\163\x74\116\141\x6d\145"]) = $recipient_name_parts; if (isset($recipient_name_parts[2])) { $recipient_data["\155\x69\144\144\x6c\x65\116\x61\155\x65"] = $recipient_name_parts[2]; } } else { if ($data["\162\x65\x63\151\160\151\145\156\x74\137\164\171\160\x65"] == "\103\117\115\x50\x41\x4e\x59") { $recipient_data["\x6e\x61\155\145"] = $data["\162\145\143\151\160\x69\145\156\164\137\156\x61\155\145"]; $recipient_data["\145\144\x72\160\x6f\165"] = $data["\x72\x65\x63\x69\x70\x69\145\x6e\x74\x5f\x65\144\162\160\157\x75"]; } else { if ($data["\162\x65\143\x69\160\x69\x65\156\x74\x5f\x74\171\160\145"] == "\120\122\x49\126\x41\x54\x45\137\105\x4e\124\122\105\x50\x52\x45\x4e\x45\x55\x52") { $recipient_data["\156\141\155\x65"] = $data["\x72\x65\143\151\160\x69\x65\156\x74\x5f\156\141\x6d\145"]; $recipient_data["\164\151\156"] = $data["\162\145\143\151\x70\151\x65\x6e\164\137\164\x69\x6e"]; } } } $result = $this->ukrposhta->saveClient($recipient_data); if ($result) { $data["\162\145\x63\151\x70\151\145\x6e\x74"] = $result["\165\x75\151\144"]; } } else { $result = $this->ukrposhta->getClient($data["\162\x65\x63\x69\160\151\145\x6e\x74"]); if ($result) { $recipient_data = array(); if ($data["\x72\x65\143\x69\160\151\x65\156\x74\x5f\164\x79\160\145"] == "\x49\116\104\x49\x56\111\104\125\101\114") { $recipient_name_parts = explode("\x20", preg_replace("\x2f\40\173\x32\x2c\175\x2f", "\x20", mb_convert_case(trim($data["\x72\x65\143\151\160\151\145\156\x74\x5f\156\141\155\x65"]), MB_CASE_TITLE, "\125\124\106\55\70"))); if ($result["\x66\151\x72\163\x74\x4e\141\x6d\x65"] != $recipient_name_parts[1]) { $recipient_data["\x66\151\x72\163\164\116\141\155\x65"] = $recipient_name_parts[1]; } if ($result["\x6c\141\163\164\116\x61\x6d\145"] != $recipient_name_parts[0]) { $recipient_data["\154\x61\163\164\116\x61\155\145"] = $recipient_name_parts[0]; } if (isset($recipient_name_parts[2]) && $result["\155\x69\x64\x64\154\x65\x4e\141\155\145"] != $recipient_name_parts[2]) { $recipient_data["\x6d\151\144\144\x6c\x65\x4e\x61\x6d\x65"] = $recipient_name_parts[2]; } } else { if ($result["\x6e\141\155\x65"] != $data["\162\145\143\x69\x70\151\145\x6e\x74\137\x6e\x61\155\x65"]) { $recipient_data["\x6e\x61\155\145"] = $data["\x72\x65\x63\151\x70\151\145\156\164\137\156\x61\x6d\145"]; } } if (isset($data["\162\145\x63\x69\160\151\x65\x6e\x74\137\164\151\156"]) && (empty($result["\164\x69\x6e"]) || $result["\x74\151\x6e"] != $data["\162\145\143\151\x70\151\145\156\x74\137\164\151\x6e"])) { $recipient_data["\x74\151\x6e"] = $data["\x72\x65\x63\151\160\151\x65\x6e\x74\x5f\x74\x69\x6e"]; } if (isset($data["\162\x65\143\x69\x70\x69\145\156\164\137\145\144\162\160\x6f\x75"]) && (empty($result["\145\x64\x72\160\157\x75"]) || $result["\x65\x64\x72\160\157\x75"] != $data["\162\x65\143\x69\160\151\145\x6e\164\x5f\x65\x64\162\x70\x6f\165"])) { $recipient_data["\x65\x64\162\160\x6f\x75"] = $data["\x72\x65\143\x69\x70\x69\145\156\164\137\145\x64\x72\160\157\x75"]; } if (9 < utf8_strlen($data["\x72\145\x63\151\x70\x69\x65\156\x74\137\160\x68\x6f\x6e\145"]) && strpos($result["\x70\x68\157\156\x65\116\x75\x6d\x62\145\162"], $data["\162\x65\x63\x69\x70\x69\145\156\164\137\x70\x68\x6f\156\145"]) === false) { $recipient_data["\x70\x68\x6f\156\145\116\x75\155\142\x65\x72"] = $data["\162\x65\x63\x69\160\x69\145\x6e\x74\x5f\160\x68\x6f\156\145"]; } if ($result["\x61\144\x64\162\x65\x73\x73\111\144"] != $data["\x72\x65\x63\151\x70\x69\145\156\x74\137\141\x64\144\162\x65\x73\163"]) { $recipient_data["\x61\144\x64\162\x65\163\163\x49\x64"] = $data["\162\x65\x63\x69\160\151\x65\156\x74\137\141\144\144\162\145\x73\x73"]; } if (!empty($recipient_data)) { $this->ukrposhta->saveClient($recipient_data, $data["\x72\145\143\151\x70\151\145\x6e\x74"]); } } } } } return $data; } public function generateKey() { $data["\x63\157\144\x65"] = md5(time() + rand()) . rand() . md5(time()); $this->response->addHeader("\x43\157\x6e\164\x65\x6e\x74\x2d\x54\171\160\145\72\40\141\x70\x70\x6c\151\143\x61\x74\151\157\156\x2f\152\163\x6f\x6e"); $this->response->setOutput(json_encode($data)); } public function extensionSettings($config = false) { if (version_compare(VERSION, "\x33", "\x3e\x3d")) { $this->load->language("\x65\170\164\x65\156\163\151\x6f\x6e\x2f\x73\x68\x69\160\x70\x69\156\x67\57" . $this->extension); $extension_code = "\x73\150\151\x70\160\x69\x6e\147\x5f" . $this->extension; } else { if (version_compare(VERSION, "\x32\x2e\x33", "\x3e\x3d")) { $this->load->language("\x65\x78\164\x65\156\163\x69\x6f\x6e\x2f\163\x68\x69\160\x70\x69\156\147\57" . $this->extension); $extension_code = $this->extension; } else { $this->load->language("\163\150\x69\x70\160\151\x6e\147\57" . $this->extension); $extension_code = $this->extension; } } if (isset($this->request->get["\x74\x79\160\145"])) { $type = $this->request->get["\164\171\x70\x65"]; } else { $type = ''; } if ($config) { $settings = $this->config->get($extension_code); if (empty($settings)) { $settings = array("\144\145\x62\x75\x67\x67\x69\156\x67\x5f\155\x6f\144\145" => 0, "\145\x63\157\155\x5f\142\x65\141\162\145\x72" => '', "\164\162\141\143\153\151\x6e\x67\x5f\x62\145\141\x72\145\162" => '', "\x75\x73\145\162\x5f\x74\x6f\x6b\x65\156" => '', "\151\x6d\141\x67\145" => '', "\x69\155\141\147\145\x5f\x6f\165\164\x70\165\164\137\x70\x6c\141\x63\x65" => '', "\x63\165\x72\x6c\137\143\x6f\x6e\x6e\145\x63\164\x74\151\155\x65\x6f\x75\164" => '', "\143\165\162\154\x5f\164\x69\x6d\145\x6f\165\x74" => '', "\163\x68\151\160\x70\x69\x6e\147\x5f\155\145\x74\150\x6f\144\x73" => array("\145\x78\160\162\x65\x73\163\137\x64\x65\160\x61\162\164\x6d\145\156\164" => array("\x73\164\141\x74\x75\163" => 0, "\156\141\155\145" => array('', '', '', '', ''), "\x67\145\x6f\x5f\172\x6f\156\x65\137\x69\x64" => '', "\164\141\170\137\143\x6c\141\x73\x73\137\151\144" => '', "\x6d\151\x6e\151\155\165\x6d\x5f\157\x72\144\145\162\x5f\x61\x6d\157\x75\x6e\164" => '', "\x6d\141\x78\x69\x6d\x75\x6d\x5f\x6f\162\x64\x65\x72\137\x61\155\157\165\156\164" => '', "\x66\x72\x65\x65\137\x73\150\151\x70\160\x69\x6e\147" => '', "\x66\162\145\x65\x5f\143\x6f\x73\x74\137\164\x65\170\x74" => array('', '', '', '', ''), "\143\x6f\163\x74" => 0, "\x61\160\151\137\x63\141\x6c\x63\165\x6c\141\x74\151\157\156" => 0, "\x74\141\x72\x69\x66\x66\x5f\x63\141\x6c\x63\x75\154\x61\x74\151\157\x6e" => 0, "\x64\x65\x6c\151\x76\145\x72\171\x5f\x70\x65\162\x69\157\144" => 0), "\x65\170\160\162\145\163\x73\x5f\144\157\x6f\x72\x73" => array("\163\x74\x61\x74\165\x73" => 0, "\x6e\x61\155\145" => array('', '', '', '', ''), "\x67\x65\x6f\x5f\x7a\157\x6e\145\x5f\151\x64" => '', "\x74\141\170\137\x63\154\x61\x73\163\x5f\151\144" => '', "\x6d\151\x6e\151\x6d\x75\155\x5f\x6f\162\x64\x65\x72\x5f\141\155\157\165\156\x74" => '', "\155\x61\170\151\x6d\x75\155\137\157\x72\144\145\x72\x5f\x61\155\x6f\x75\x6e\164" => '', "\146\162\x65\145\x5f\x73\x68\151\160\x70\151\156\147" => '', "\x66\162\x65\x65\x5f\x63\x6f\163\x74\x5f\164\145\x78\164" => array('', '', '', '', ''), "\143\x6f\163\164" => 0, "\141\160\151\137\143\x61\154\x63\165\x6c\141\x74\151\157\156" => 0, "\x74\x61\162\151\146\146\137\x63\x61\154\x63\165\x6c\x61\164\151\157\156" => 0, "\x64\x65\x6c\151\166\x65\x72\x79\x5f\160\145\162\151\157\x64" => 0), "\163\164\x61\x6e\x64\x61\x72\144\x5f\x64\145\x70\x61\162\x74\x6d\x65\x6e\164" => array("\x73\164\x61\x74\165\x73" => 0, "\x6e\141\155\x65" => array('', '', '', '', ''), "\147\x65\x6f\137\172\157\x6e\x65\137\151\x64" => '', "\x74\x61\170\x5f\143\x6c\x61\x73\x73\x5f\151\144" => '', "\155\x69\x6e\x69\155\165\155\x5f\157\162\x64\x65\162\x5f\141\155\x6f\165\x6e\164" => '', "\x6d\x61\170\x69\x6d\165\x6d\137\x6f\162\144\145\x72\137\x61\x6d\157\x75\x6e\164" => '', "\x66\x72\x65\x65\137\x73\150\x69\160\x70\x69\x6e\x67" => '', "\x66\x72\145\145\x5f\143\x6f\x73\164\137\164\x65\170\164" => array('', '', '', '', ''), "\x63\x6f\163\x74" => 0, "\x61\x70\x69\137\143\141\154\x63\165\x6c\x61\164\151\157\156" => 0, "\x74\x61\162\x69\x66\146\137\x63\x61\154\143\165\154\x61\164\151\x6f\x6e" => 0, "\x64\145\x6c\x69\x76\145\162\171\137\160\145\x72\151\x6f\x64" => 0), "\163\164\x61\x6e\x64\141\162\144\137\144\157\157\162\x73" => array("\163\164\141\164\x75\163" => 0, "\x6e\141\155\x65" => array('', '', '', '', ''), "\x67\x65\x6f\x5f\172\157\156\x65\x5f\x69\x64" => '', "\x74\141\x78\x5f\x63\154\141\163\x73\137\x69\x64" => '', "\x6d\151\x6e\151\x6d\x75\155\137\x6f\162\x64\145\x72\137\x61\x6d\157\165\156\x74" => '', "\155\141\170\x69\155\x75\155\x5f\157\162\x64\145\162\x5f\x61\155\x6f\165\156\x74" => '', "\146\162\x65\145\x5f\x73\x68\x69\x70\x70\x69\x6e\x67" => '', "\146\162\x65\145\137\143\157\163\164\x5f\164\145\170\164" => array('', '', '', '', ''), "\143\157\163\164" => 0, "\141\x70\x69\x5f\x63\x61\154\143\165\154\141\x74\151\157\156" => 0, "\164\x61\x72\151\146\x66\x5f\143\141\x6c\143\x75\x6c\x61\164\151\157\156" => 0, "\144\145\154\151\166\145\x72\171\x5f\x70\145\x72\151\x6f\x64" => 0)), "\164\141\162\151\x66\146\x73" => array("\145\x78\x70\162\145\163\163" => array("\x64\x65\160\141\162\x74\155\145\156\164\137\144\x65\x6c\151\166\145\162\x79\137\160\x65\x72\151\x6f\x64" => '', "\162\145\147\x69\x6f\x6e\137\144\x65\x6c\151\x76\145\x72\x79\137\160\145\x72\151\157\x64" => '', "\165\153\x72\141\x69\156\145\x5f\x64\x65\x6c\151\166\145\162\x79\137\x70\x65\x72\x69\x6f\144" => '', "\144\151\x73\143\157\x75\x6e\164" => '', "\144\145\143\154\141\162\x65\x64\137\x63\x6f\x73\164\x5f\143\x6f\155\155\x69\x73\x73\x69\x6f\156" => '', "\x64\145\x63\154\x61\x72\145\144\x5f\143\157\163\x74\137\x6d\x69\x6e\x69\x6d\165\x6d\x5f\x63\157\x6d\155\151\163\x73\x69\157\156" => '', "\x64\x65\x63\x6c\141\x72\x65\144\x5f\x63\157\x73\164\137\x63\157\155\x6d\x69\163\163\151\157\x6e\137\x62\157\x74\164\x6f\155" => ''), "\x73\164\141\156\144\x61\x72\x64" => array("\144\145\160\141\x72\x74\x6d\145\156\164\x5f\x64\145\154\151\166\145\x72\171\137\160\145\162\151\157\144" => '', "\x72\145\x67\151\x6f\x6e\x5f\144\145\154\151\x76\145\162\171\137\x70\145\162\151\x6f\x64" => '', "\x75\x6b\x72\x61\x69\156\145\137\144\145\154\x69\x76\x65\162\171\x5f\x70\x65\162\x69\x6f\x64" => '', "\144\x69\x73\143\x6f\165\156\x74" => '', "\144\x65\143\154\141\162\x65\144\x5f\143\157\163\x74\137\x63\157\155\x6d\x69\x73\x73\151\157\156" => '', "\144\x65\x63\154\141\x72\145\144\137\143\x6f\163\164\137\155\151\156\151\155\x75\x6d\x5f\x63\x6f\x6d\x6d\151\x73\163\151\x6f\x6e" => '', "\144\x65\143\x6c\141\162\x65\144\137\x63\157\x73\x74\137\143\x6f\x6d\x6d\151\x73\163\x69\x6f\x6e\x5f\142\157\164\x74\x6f\x6d" => '')), "\163\x65\x6e\x64\x65\162" => '', "\163\x65\156\x64\x65\x72\137\x6e\x61\x6d\145" => '', "\163\x65\x6e\144\x65\x72\x5f\x74\x79\160\145" => '', "\x73\145\x6e\144\x65\x72\137\164\x69\156" => '', "\x73\x65\x6e\x64\145\x72\137\x65\x64\x72\160\x6f\165" => '', "\163\145\156\144\x65\162\x5f\x62\141\156\x6b\137\x61\143\x63\x6f\165\x6e\164" => '', "\163\145\156\x64\x65\162\137\x65\x6d\141\x69\154" => '', "\x73\x65\x6e\144\145\x72\137\160\150\157\156\145" => '', "\163\x65\x6e\144\x65\162\x5f\x72\x65\x67\x69\157\x6e" => '', "\163\x65\x6e\144\x65\x72\x5f\143\151\x74\171" => '', "\163\x65\x6e\144\x65\162\137\163\x74\162\x65\145\x74" => '', "\163\x65\156\x64\145\x72\137\150\x6f\x75\x73\x65" => '', "\163\x65\x6e\x64\x65\162\x5f\146\x6c\141\164" => '', "\x73\x65\156\x64\145\162\137\160\157\x73\164\x63\x6f\144\x65" => '', "\x73\x65\x6e\144\x65\x72\137\141\x64\x64\x72\145\x73\x73" => '', "\x73\x65\156\144\x65\x72\x5f\141\x64\x64\162\x65\x73\163\137\160\x69\143\153\137\165\160" => '', "\162\x65\x63\151\x70\x69\x65\156\164" => '', "\x72\x65\143\x69\160\x69\145\x6e\x74\x5f\164\171\x70\145" => '', "\162\145\x63\151\x70\x69\x65\156\164\x5f\x74\151\x6e" => '', "\162\145\x63\151\160\151\x65\x6e\164\137\145\144\162\x70\157\x75" => '', "\162\145\143\151\160\x69\x65\156\164\137\160\x68\x6f\156\x65" => '', "\162\145\143\x69\160\x69\x65\x6e\x74\137\x72\145\x67\151\x6f\x6e" => '', "\x72\145\x63\x69\x70\151\x65\156\x74\137\x63\151\164\x79" => '', "\162\x65\x63\151\x70\x69\145\156\164\x5f\x64\145\x70\141\162\x74\155\x65\156\164" => '', "\162\x65\143\x69\160\151\145\156\164\137\x61\144\144\162\145\163\x73" => '', "\x72\x65\x63\x69\x70\x69\145\x6e\164\137\x73\x74\x72\145\145\164" => '', "\x72\x65\x63\x69\x70\151\x65\x6e\164\x5f\150\x6f\165\x73\145" => '', "\x72\x65\143\151\160\x69\x65\x6e\164\x5f\x66\154\141\164" => '', "\162\145\143\x69\160\x69\x65\156\x74\137\160\x6f\163\x74\143\157\x64\145" => '', "\x63\141\x6c\143\165\154\141\164\145\x5f\166\157\154\165\x6d\145" => 0, "\x63\141\x6c\143\165\x6c\141\x74\x65\x5f\166\157\154\x75\x6d\x65\x5f\x74\171\x70\145" => '', "\x73\145\141\x74\x73\x5f\x61\155\157\x75\x6e\164" => '', "\x64\x65\x63\x6c\x61\162\x65\x64\x5f\x63\157\163\x74" => array(), "\x64\x65\x63\154\x61\x72\x65\x64\x5f\x63\x6f\x73\164\x5f\x64\145\x66\x61\165\x6c\164" => '', "\144\145\143\x6c\141\162\x65\x64\137\143\x6f\163\x74\x5f\155\151\x6e\151\155\x75\155" => '', "\144\x65\x70\x61\162\x74\165\x72\x65\137\x64\x65\x73\x63\x72\151\160\164\x69\157\156" => '', "\144\x65\154\x69\x76\145\x72\x79\x5f\156\x6f\x74\x69\x66\151\143\x61\164\151\157\156" => '', "\x73\x6d\x73\x5f\x6d\145\x73\163\141\147\145" => '', "\x63\x68\x65\x63\x6b\137\157\156\137\144\145\154\151\166\145\162\171" => '', "\x6f\156\137\x66\141\151\x6c\x5f\162\x65\x63\x65\x69\166\x65" => '', "\165\x73\x65\137\x70\141\x72\141\x6d\145\x74\145\x72\163" => '', "\167\x65\151\x67\x68\164" => '', "\x77\145\151\147\x68\x74\x5f\155\151\156\x69\155\165\155" => '', "\x64\x69\x6d\x65\x6e\x73\x69\157\x6e\x73\137\154" => '', "\144\151\155\145\x6e\x73\151\x6f\156\163\137\x77" => '', "\x64\x69\155\x65\156\163\x69\157\156\x73\x5f\x68" => '', "\141\x6c\154\157\167\x61\x6e\x63\145\x5f\154" => '', "\x61\154\154\157\167\141\156\143\145\x5f\x77" => '', "\x61\154\154\x6f\x77\141\x6e\x63\x65\137\150" => '', "\144\x65\x6c\x69\x76\145\162\171\137\x70\141\x79\x65\x72" => '', "\x70\141\x79\155\145\156\x74\137\x63\157\144" => array(), "\143\x61\154\x63\x75\154\x61\164\145\137\143\157\x64" => '', "\143\141\154\143\165\154\141\x74\x65\x5f\x64\x65\x63\x6c\141\162\145\x64\x5f\143\x6f\163\164\x5f\143\157\155\155" => '', "\x62\141\143\x6b\167\x61\x72\x64\137\x64\x65\x6c\151\x76\x65\162\171\137\x70\141\x79\145\x72" => '', "\x6d\x6f\x6e\x65\x79\137\x74\x72\141\156\163\146\x65\162\x5f\x6d\x65\x74\150\x6f\x64" => '', "\142\157\x6e\x75\163\x5f\144\x65\x70\x61\162\164\165\x72\145" => '', "\143\157\156\x73\151\147\156\x6d\145\156\164\x5f\144\x69\163\x70\154\141\x79\x65\x64\x5f\x69\156\x66\157\162\155\x61\164\x69\157\156" => array(), "\160\x72\151\156\164\x5f\164\x79\x70\x65" => '', "\x70\162\151\156\164\x5f\146\157\x72\155\141\164" => '', "\x70\162\151\156\164\x5f\163\145\x6e\144\145\x72\137\156\x61\155\145" => '', "\160\x72\151\x6e\164\137\x64\145\x6c\151\x76\x65\x72\171\x5f\160\162\151\x63\x65" => '', "\160\x72\x69\x6e\164\137\144\x65\143\154\141\162\145\x64\137\x70\x72\151\x63\x65" => '', "\143\157\x6d\x70\141\164\151\142\x6c\145\x5f\163\x68\151\x70\160\151\156\x67\x5f\x6d\145\x74\150\x6f\144" => array(), "\143\157\156\x73\151\x67\156\155\145\156\164\x5f\x63\x72\x65\141\x74\145" => 0, "\143\x6f\156\163\151\147\156\155\x65\156\164\x5f\x63\x72\x65\x61\x74\x65\x5f\164\145\x78\x74" => array('', '', '', ''), "\143\x6f\x6e\x73\x69\x67\x6e\x6d\x65\x6e\164\x5f\x65\144\151\164" => 0, "\x63\x6f\x6e\163\151\147\x6e\155\145\x6e\x74\137\145\144\151\164\137\x74\x65\170\x74" => array('', '', '', ''), "\143\x6f\x6e\163\151\147\156\x6d\x65\x6e\x74\x5f\x64\x65\x6c\x65\164\145" => 0, "\143\x6f\156\163\151\x67\x6e\x6d\x65\x6e\164\137\144\x65\154\145\x74\x65\x5f\164\145\170\164" => array('', '', '', ''), "\143\x6f\156\x73\x69\147\x6e\x6d\145\x6e\x74\x5f\x61\x73\x73\x69\147\x6e\155\145\156\164\x5f\x74\157\137\157\x72\144\145\x72" => 0, "\x63\x6f\156\x73\x69\147\156\155\x65\x6e\x74\x5f\x61\x73\x73\151\x67\156\155\x65\156\x74\137\164\x6f\137\157\162\x64\x65\162\137\x74\x65\x78\x74" => array('', '', '', ''), "\x6b\145\x79\x5f\143\x72\x6f\156" => '', "\x74\162\141\x63\153\x69\156\147\137\163\x74\x61\x74\165\163\145\x73" => array(), "\x73\145\x74\x74\151\156\x67\x73\x5f\164\162\x61\143\x6b\151\x6e\x67\137\x73\164\x61\x74\165\x73\145\x73" => array()); } return $settings; } if ($this->validate()) { $this->load->model("\x73\x65\164\164\x69\x6e\147\57\163\x65\164\164\151\x6e\147"); if ($type == "\142\141\163\151\x63") { $json = array(); $post = array("\x64\157\x6d\141\x69\x6e" => $this->getDomain(), "\145\x78\164\x65\x6e\x73\151\157\x6e" => $this->extension); $options = array(CURLOPT_HEADER => false, CURLOPT_SSL_VERIFYPEER => false, CURLOPT_SSL_VERIFYHOST => false, CURLOPT_POST => true, CURLOPT_POSTFIELDS => $post, CURLOPT_RETURNTRANSFER => true); if (isset($this->settings["\143\165\162\154\137\143\157\156\x6e\x65\x63\x74\164\x69\155\145\157\x75\164"])) { $options[CURLOPT_CONNECTTIMEOUT] = $this->settings["\143\165\x72\x6c\137\143\x6f\x6e\x6e\145\x63\x74\x74\x69\x6d\145\x6f\165\164"]; } if (isset($this->settings["\143\x75\x72\x6c\x5f\x74\151\x6d\x65\157\x75\x74"]) && isset($this->settings["\143\x75\x72\154\137\143\157\x6e\156\x65\143\164\164\151\155\x65\157\x75\x74"]) && $this->settings["\143\x75\x72\x6c\137\143\157\156\x6e\145\143\x74\164\151\x6d\x65\157\x75\x74"] < $this->settings["\143\165\x72\154\137\x74\151\x6d\145\157\x75\164"]) { $options[CURLOPT_TIMEOUT] = $this->settings["\143\165\162\154\137\x74\151\x6d\145\157\x75\164"]; } $ch = curl_init("\150\164\x74\160\x73\72\57\57\157\143\x2d\x6d\141\x78\x2e\x63\x6f\155\x2f\x69\x6e\x64\145\170\x2e\160\x68\x70\x3f\x72\x6f\165\164\x65\75\145\x78\164\145\156\163\x69\x6f\x6e\57\x6d\x6f\x64\x75\x6c\x65\x2f\x6f\x63\155\x61\170\x2f\x67\x65\164\102\141\x73\151\143\123\145\164\164\x69\156\x67\x73"); curl_setopt_array($ch, $options); $response = curl_exec($ch); curl_close($ch); $basic_settings = json_decode($response, true); if (version_compare(VERSION, "\x33", "\x3e\x3d")) { foreach ($basic_settings as $k => $v) { $basic_settings["\163\150\151\160\160\x69\x6e\x67\x5f" . $k] = $v; unset($basic_settings[$k]); } } if (!empty($basic_settings) && is_array($basic_settings)) { $current_settings = $this->model_setting_setting->getSetting($extension_code); $this->model_setting_setting->editSetting($extension_code, array_replace_recursive($current_settings, $basic_settings)); $json["\163\x75\x63\x63\145\163\163"] = $this->language->get("\x74\145\170\x74\x5f\x73\x75\143\x63\145\163\x73\x5f\144\157\167\156\x6c\157\x61\144\x5f\x62\x61\163\x69\x63\137\163\145\164\164\151\156\147\163"); } else { $json["\x65\162\x72\x6f\162"] = $this->language->get("\x65\x72\162\x6f\162\x5f\144\157\167\x6e\154\157\x61\144\137\x62\x61\163\x69\x63\137\x73\145\164\164\x69\156\x67\163"); } $this->response->addHeader("\103\157\x6e\x74\145\156\x74\x2d\x54\x79\x70\145\72\x20\141\160\160\x6c\x69\143\141\164\x69\x6f\156\x2f\x6a\163\x6f\x6e"); $this->response->setOutput(json_encode($json)); } else { if ($type == "\145\170\160\157\162\x74") { $this->response->addheader("\120\162\141\x67\155\x61\x3a\40\160\x75\x62\x6c\x69\143"); $this->response->addheader("\105\170\160\x69\x72\x65\x73\72\40\60"); $this->response->addheader("\x43\x6f\156\x74\x65\x6e\164\55\x44\x65\163\143\162\x69\x70\x74\x69\x6f\x6e\72\x20\x46\151\x6c\x65\40\x54\x72\141\156\x73\x66\x65\x72"); $this->response->addheader("\103\157\156\x74\x65\156\x74\x2d\x54\171\x70\145\x3a\40\141\160\160\154\151\143\x61\x74\x69\157\x6e\57\157\x63\164\145\x74\x2d\163\164\x72\145\141\155"); $this->response->addheader("\x43\x6f\x6e\164\145\x6e\164\x2d\x44\x69\163\x70\x6f\x73\x69\164\x69\x6f\x6e\72\x20\x61\x74\164\141\x63\x68\x6d\x65\156\164\73\x20\146\151\154\145\x6e\141\155\145\x3d\x22" . $this->extension . "\137\163\x65\x74\164\x69\x6e\147\163\137" . date("\x59\x2d\x6d\x2d\144\137\x48\55\x69\55\163", time()) . "\56\x74\170\164\42"); $this->response->addheader("\103\x6f\156\164\x65\x6e\x74\x2d\x54\x72\x61\x6e\x73\x66\x65\x72\x2d\105\x6e\x63\x6f\144\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\171"); $settings = $this->model_setting_setting->getSetting($extension_code); $this->response->setOutput(json_encode($settings)); } else { if ($type == "\x69\x6d\160\157\162\164") { if (is_uploaded_file($this->request->files["\x69\x6d\x70\157\162\164"]["\x74\x6d\x70\x5f\x6e\141\155\145"])) { $content = file_get_contents($this->request->files["\x69\x6d\x70\x6f\162\x74"]["\x74\x6d\x70\137\156\141\x6d\x65"]); } else { $content = false; } if ($content) { $this->model_setting_setting->editSetting($extension_code, json_decode($content, true)); $this->session->data["\x73\x75\143\x63\145\x73\163"] = $this->language->get("\164\x65\x78\164\137\x73\x75\143\143\145\x73\x73\x5f\x69\x6d\160\x6f\162\x74\x5f\163\145\164\x74\x69\156\147\x73"); } else { $this->session->data["\x77\x61\x72\x6e\x69\156\x67"] = $this->language->get("\145\x72\x72\x6f\x72\137\151\155\160\x6f\x72\x74\x5f\163\145\164\164\x69\156\147\163"); } if (version_compare(VERSION, "\63", "\x3e\x3d")) { $this->response->redirect($this->url->link("\145\170\164\x65\156\163\151\x6f\156\57\163\150\x69\x70\160\151\156\x67\57" . $this->extension, "\x75\x73\145\x72\137\x74\x6f\x6b\145\x6e\x3d" . $this->session->data["\x75\x73\x65\162\137\x74\x6f\x6b\x65\156"], true)); } else { if (version_compare(VERSION, "\62\56\x33", "\x3e\75")) { $this->response->redirect($this->url->link("\145\170\x74\x65\x6e\x73\x69\157\156\x2f\x73\x68\151\160\160\x69\156\x67\57" . $this->extension, "\x74\157\x6b\x65\156\75" . $this->session->data["\164\157\x6b\145\156"], true)); } else { if (version_compare(VERSION, "\x32", "\76\x3d")) { $this->response->redirect($this->url->link("\163\x68\151\x70\x70\x69\x6e\x67\x2f" . $this->extension, "\x74\157\153\145\156\75" . $this->session->data["\164\157\153\x65\x6e"], "\x53\123\x4c")); } else { $this->redirect($this->url->link("\x73\150\151\160\x70\151\x6e\147\x2f" . $this->extension, "\x74\x6f\x6b\x65\x6e\75" . $this->session->data["\x74\x6f\153\x65\156"], "\x53\123\x4c")); } } } } } } } else { if ($type == "\142\141\x73\x69\143") { $json["\145\x72\162\x6f\x72"] = $this->error["\167\141\x72\x6e\151\x6e\x67"]; $this->response->addHeader("\x43\x6f\x6e\164\145\x6e\x74\55\x54\171\160\x65\x3a\40\x61\x70\160\x6c\x69\143\141\164\151\x6f\x6e\57\152\x73\157\156"); $this->response->setOutput(json_encode($json)); } else { $this->session->data["\167\x61\162\156\x69\x6e\x67"] = $this->error["\167\141\162\x6e\x69\x6e\147"]; if (version_compare(VERSION, "\x33", "\x3e\75")) { $this->response->redirect($this->url->link("\145\170\164\145\156\163\x69\x6f\x6e\57\x73\x68\x69\x70\160\x69\156\147\x2f" . $this->extension, "\165\163\145\x72\137\164\x6f\x6b\145\156\75" . $this->session->data["\165\163\145\x72\137\164\157\153\145\x6e"], true)); } else { if (version_compare(VERSION, "\x32\56\x33", "\x3e\x3d")) { $this->response->redirect($this->url->link("\x65\x78\164\x65\156\x73\x69\x6f\x6e\x2f\163\x68\x69\160\160\x69\x6e\x67\x2f" . $this->extension, "\x74\x6f\153\x65\156\x3d" . $this->session->data["\164\157\153\145\156"], true)); } else { if (version_compare(VERSION, "\62", "\76\x3d")) { $this->response->redirect($this->url->link("\163\150\151\160\x70\151\x6e\x67\57" . $this->extension, "\x74\x6f\153\x65\156\x3d" . $this->session->data["\164\x6f\x6b\145\x6e"], "\123\123\x4c")); } else { $this->redirect($this->url->link("\163\150\151\160\x70\151\x6e\x67\x2f" . $this->extension, "\164\157\153\145\156\x3d" . $this->session->data["\x74\x6f\x6b\x65\x6e"], "\123\x53\x4c")); } } } } } } private function getDeclaredCost($order_totals) { $declared_cost = 0; foreach ($order_totals as $total) { if (isset($this->settings["\x64\145\x63\x6c\141\x72\x65\144\137\x63\157\x73\164"]) && in_array($total["\x63\x6f\x64\145"], (array) $this->settings["\144\x65\x63\x6c\x61\x72\x65\x64\137\x63\157\x73\164"])) { $declared_cost += $total["\x76\141\154\x75\x65"]; } } return $declared_cost; } private function parseAddress($address) { $data = array(); $matches = array(); $pattern = "\57\134\x62\50\xd1\x81\x7c\xd1\203\320\xbb\xd0\xb8\xd1\x86\321\217\x7c\xd0\xb2\321\203\320\xbb\x7c\xd1\x83\xd0\xbb\xd0\xb8\xd1\x86\320\260\174\321\x83\xd0\xbb\174\320\xbf\xd1\200\xd0\276\xd0\xb2\xd1\203\xd0\xbb\320\276\xd0\272\x7c\320\xbf\xd1\200\xd0\276\320\xb2\174\320\xbf\320\265\321\200\320\xb5\xd1\x83\320\xbb\xd0\276\xd0\xba\174\320\277\320\265\321\200\x7c\xd0\277\xd1\x80\320\xbe\321\x81\320\xbf\x7c\320\xbf\xd1\x80\320\276\xd1\201\320\277\xd0\xb5\320\xba\321\202\x7c\320\277\xd1\200\x7c\xd0\277\321\200\x2d\xd1\202\x7c\320\277\320\273\xd0\xbe\xd1\x89\320\xb0\174\xd0\xbf\320\xbb\320\xbe\xd1\x89\xd0\xb0\320\xb4\xd1\214\174\xd0\277\xd0\273\x7c\xd1\x83\xd0\267\320\xb2\xd1\226\320\267\x7c\xd1\201\xd0\277\321\203\321\x81\320\xba\x7c\xd0\xb1\321\x83\xd0\273\321\214\320\xb2\320\xb0\321\200\174\xd0\261\xd1\x83\xd0\273\x7c\320\261\x2d\xd1\200\174\321\210\xd0\276\xd1\201\320\xb5\x7c\321\210\xd0\xbe\321\201\321\x81\xd0\xb5\174\321\x88\174\xd0\xb4\xd0\276\321\200\320\276\320\263\320\xb0\x7c\320\277\321\200\320\276\321\227\320\267\320\xb4\174\320\xbf\321\200\320\xbe\320\xb5\xd0\xb7\320\xb4\174\320\xb0\320\xbb\xd0\xb5\321\x8f\174\320\261\321\x83\320\xb4\xd0\xb8\xd0\275\320\276\320\272\x7c\xd0\xb1\321\203\xd0\xb4\174\320\xb4\xd0\xbe\xd0\274\x7c\xd0\264\x7c\320\xba\320\262\xd0\260\xd1\x80\321\x82\320\270\xd1\x80\320\260\174\320\272\320\262\51\x5c\x62\134\56\52\x2f\x75\151"; preg_match($pattern, $address, $matches); $address = explode("\x2c", preg_replace($pattern, '', $address)); $data["\x73\164\x72\145\x65\x74"] = isset($address[0]) ? trim($address[0]) : ''; $data["\163\164\x72\x65\x65\x74\137\164\x79\x70\145"] = isset($matches[0]) ? $matches[0] : "\320\xb2\xd1\203\xd0\xbb\56"; $data["\150\157\165\163\145"] = isset($address[1]) ? trim($address[1]) : ''; $data["\x66\x6c\x61\x74"] = isset($address[2]) ? trim($address[2]) : ''; return $data; } private function convertToUAH($value, $currency_code, $currency_value) { if (!$currency_value || $currency_code != "\x55\x41\x48") { $currency_value = $this->currency->getValue("\125\101\x48"); } if ($currency_value != 1) { $value *= $currency_value; } return round($value, (int) $this->currency->getDecimalPlace("\125\101\x48")); } private function getExtensions($type) { $data = array(); if (version_compare(VERSION, "\x33", "\76\75")) { $this->load->model("\x73\145\164\164\151\x6e\147\57\145\170\x74\x65\156\163\x69\157\x6e"); $methods = $this->model_setting_extension->getInstalled($type); $extension_code = $type . "\137"; $extension_path = "\145\170\x74\145\x6e\163\151\157\x6e\57"; } else { if (version_compare(VERSION, "\62\56\63", "\x3e\x3d")) { $this->load->model("\145\x78\164\x65\x6e\x73\151\157\156\57\145\170\x74\x65\x6e\163\x69\x6f\x6e"); $methods = $this->model_extension_extension->getInstalled($type); $extension_code = ''; $extension_path = "\145\x78\164\145\x6e\x73\x69\x6f\x6e\57"; } else { if (version_compare(VERSION, "\62", "\x3e\75")) { $this->load->model("\x65\170\x74\145\156\x73\151\x6f\156\57\145\x78\164\145\x6e\163\151\x6f\156"); $methods = $this->model_extension_extension->getInstalled($type); $extension_code = ''; $extension_path = ''; } else { $this->load->model("\163\x65\164\x74\151\x6e\x67\x2f\x65\x78\x74\x65\156\163\151\157\x6e"); $methods = $this->model_setting_extension->getInstalled($type); $extension_code = ''; $extension_path = ''; } } } foreach ($methods as $method) { if ($this->config->get($extension_code . $method . "\137\163\164\x61\x74\165\163")) { if (version_compare(VERSION, "\x33\56\x30\x2e\x30\56\x30", "\x3e")) { $temp_language_data = $this->load->language($extension_path . $type . "\x2f" . $method, "\164\145\x6d\160"); $data[$method] = $temp_language_data["\164\x65\x6d\160"]->get("\150\x65\141\144\151\156\147\x5f\164\x69\164\x6c\x65"); } else { $this->load->language($extension_path . $type . "\x2f" . $method); $data[$method] = $this->language->get("\150\x65\141\x64\x69\156\x67\x5f\x74\x69\164\154\x65"); } } } return $data; } private function validate() { if (version_compare(VERSION, "\x33", "\x3e\75")) { $extension_code = "\x73\150\x69\160\160\x69\x6e\x67\x5f" . $this->extension; $extension_path = "\145\x78\x74\x65\x6e\x73\151\157\156\57"; } else { if (version_compare(VERSION, "\62\x2e\x33", "\x3e\75")) { $extension_code = $this->extension; $extension_path = "\x65\170\164\x65\156\163\151\x6f\156\57"; } else { $extension_code = $this->extension; $extension_path = ''; } } if (!$this->user->hasPermission("\155\157\144\151\x66\171", $extension_path . "\x73\x68\151\x70\x70\151\156\x67\57" . $this->extension)) { $this->error["\x77\141\162\156\151\x6e\147"] = $this->language->get("\145\162\x72\157\162\137\x70\x65\x72\155\151\x73\163\151\x6f\156"); } if (!$this->license) { $this->load->language($extension_path . "\155\157\144\x75\154\145\57\x6f\143\x6d\x61\x78\137\x6c\151\x63\x65\156\x73\145"); $this->error["\x77\141\x72\156\151\x6e\147"] = $this->language->get("\x65\x72\162\157\162\137\x61\143\x74\x69\166\x61\164\145"); } if (isset($this->request->post[$extension_code]["\145\x63\157\x6d\x5f\142\145\141\162\x65\162"]) && !$this->request->post[$extension_code]["\145\x63\157\x6d\137\x62\145\141\x72\x65\162"]) { $this->error["\167\141\x72\156\151\x6e\x67"] = $this->language->get("\145\x72\162\157\162\137\163\145\164\x74\151\156\147\x73\x5f\163\x61\x76\151\x6e\x67"); $this->error["\x65\x72\x72\x6f\x72\x5f\x65\143\157\155\x5f\142\145\x61\x72\145\162"] = $this->language->get("\x65\162\162\157\162\x5f\x66\x69\x65\x6c\x64"); } if (isset($this->request->post[$extension_code]["\x74\x72\x61\143\153\x69\156\x67\x5f\x62\145\141\162\145\x72"]) && !$this->request->post[$extension_code]["\x74\x72\x61\143\x6b\151\x6e\x67\137\142\145\x61\162\145\162"]) { $this->error["\167\x61\x72\x6e\151\156\x67"] = $this->language->get("\x65\x72\162\157\162\137\x73\x65\x74\x74\151\x6e\147\163\137\163\x61\166\x69\x6e\x67"); $this->error["\145\x72\x72\x6f\162\137\x74\x72\141\x63\153\x69\156\147\x5f\142\145\x61\x72\145\x72"] = $this->language->get("\145\162\162\x6f\162\137\146\151\x65\154\144"); } if (isset($this->request->post[$extension_code]["\x75\163\145\x72\x5f\164\x6f\153\x65\x6e"]) && !$this->request->post[$extension_code]["\x75\x73\x65\x72\137\x74\x6f\x6b\145\156"]) { $this->error["\x77\x61\162\x6e\151\156\147"] = $this->language->get("\145\x72\x72\157\162\137\x73\145\x74\164\x69\156\147\163\137\163\x61\x76\151\156\x67"); $this->error["\x65\x72\x72\x6f\162\137\x75\x73\145\x72\x5f\164\x6f\x6b\145\156"] = $this->language->get("\x65\162\162\x6f\162\137\x66\151\145\154\144"); } return !$this->error; } private function validateCNForm() { $array_matches = array(); if (isset($this->request->post["\x73\145\x6e\144\145\x72\x5f\164\171\x70\145"]) && !$this->request->post["\163\145\156\144\145\x72\x5f\x74\x79\160\145"]) { $this->error["\x65\162\162\x6f\162\163"]["\163\x65\x6e\x64\145\162\x5f\x74\x79\160\145"] = $this->language->get("\x65\162\162\157\x72\137\x66\x69\x65\154\144"); } if (isset($this->request->post["\x73\x65\x6e\144\x65\x72\137\x6e\141\x6d\x65"]) && !$this->request->post["\163\x65\156\144\x65\162\x5f\x6e\x61\x6d\x65"]) { $this->error["\x65\162\x72\x6f\162\163"]["\163\x65\156\144\x65\162\137\x6e\141\x6d\145"] = $this->language->get("\145\162\x72\157\x72\x5f\146\x69\145\154\x64"); } if (isset($this->request->post["\163\145\x6e\144\145\162\x5f\164\151\x6e"]) && !preg_match("\57\x5e\x28\x5b\60\x2d\71\x5d\x7b\x31\x30\175\174\x5b\60\x2d\x39\135\173\61\x32\x7d\x29\x24\57", $this->request->post["\163\x65\x6e\x64\145\162\137\x74\151\x6e"], $array_matches["\x73\x65\156\x64\145\162\x5f\x74\151\156"])) { $this->error["\145\162\162\157\x72\x73"]["\x73\145\x6e\x64\145\x72\137\164\151\x6e"] = $this->language->get("\145\162\x72\x6f\x72\x5f\x74\x69\x6e"); } if (isset($this->request->post["\x73\145\x6e\x64\x65\x72\x5f\x65\144\162\x70\157\x75"]) && !preg_match("\57\136\x5b\60\x2d\x39\135\173\65\54\70\175\x24\x2f", $this->request->post["\163\145\156\x64\145\x72\x5f\x65\144\162\160\x6f\165"], $array_matches["\163\x65\156\144\x65\162\137\x65\x64\162\x70\157\x75"])) { $this->error["\145\162\162\x6f\x72\x73"]["\x73\x65\x6e\x64\x65\x72\137\145\x64\x72\x70\157\165"] = $this->language->get("\x65\x72\x72\x6f\x72\x5f\145\144\162\x70\157\x75"); } if (!empty($this->request->post["\163\145\156\x64\145\162\137\142\141\156\x6b\137\141\143\143\x6f\x75\x6e\x74"]) && !preg_match("\x2f\x5e\133\x30\x2d\71\101\x2d\x7a\x5d\x7b\x32\x39\x7d\x24\x2f", $this->request->post["\x73\145\x6e\144\145\162\137\x62\141\156\x6b\137\141\x63\x63\157\x75\156\164"], $array_matches["\163\145\x6e\x64\145\x72\x5f\142\x61\156\153\137\141\x63\143\x6f\x75\156\x74"])) { $this->error["\x65\162\x72\x6f\x72\x73"]["\x73\145\156\144\145\x72\x5f\x62\141\x6e\153\137\x61\x63\143\157\165\x6e\x74"] = $this->language->get("\x65\162\x72\157\162\x5f\x62\x61\x6e\x6b\137\141\143\x63\157\x75\x6e\164"); } if (isset($this->request->post["\x73\x65\156\144\145\x72\137\160\150\157\x6e\x65"]) && !preg_match("\57\136\x28\x33\70\174\51\x5b\60\x2d\71\135\x7b\61\60\175\x24\x2f", $this->request->post["\163\x65\156\144\x65\162\x5f\160\150\x6f\x6e\145"], $array_matches["\163\145\x6e\x64\x65\162\137\x70\x68\157\x6e\x65"])) { $this->error["\145\162\x72\x6f\162\x73"]["\x73\x65\156\144\x65\x72\x5f\160\x68\x6f\156\145"] = $this->language->get("\x65\x72\x72\157\162\x5f\x70\x68\x6f\x6e\x65"); } if (isset($this->request->post["\163\145\156\144\x65\x72\x5f\x72\x65\147\151\157\156"]) && !$this->request->post["\x73\145\156\144\x65\x72\x5f\x72\x65\x67\151\x6f\x6e"]) { $this->error["\145\x72\x72\x6f\162\x73"]["\x73\145\x6e\144\x65\162\x5f\162\x65\x67\151\x6f\x6e"] = $this->language->get("\x65\162\x72\157\162\x5f\146\151\x65\154\x64"); } if (isset($this->request->post["\x73\x65\156\144\x65\162\137\143\x69\x74\x79"]) && !$this->request->post["\163\145\156\144\x65\x72\x5f\x63\151\164\x79"]) { $this->error["\145\162\162\157\x72\163"]["\x73\145\x6e\x64\145\162\137\x63\151\x74\x79"] = $this->language->get("\145\x72\x72\157\x72\x5f\146\x69\145\154\144"); } if (isset($this->request->post["\163\145\156\144\x65\x72\137\x73\x74\162\145\x65\x74"]) && !$this->request->post["\163\x65\x6e\144\145\x72\137\x73\164\x72\x65\145\x74"]) { $this->error["\145\x72\162\157\162\x73"]["\163\x65\x6e\x64\145\162\137\x73\x74\162\x65\145\x74"] = $this->language->get("\145\x72\x72\x6f\x72\x5f\x66\151\x65\154\144"); } if (!empty($this->request->post["\x73\x65\156\x64\145\162\137\150\x6f\x75\163\x65"]) && !$this->request->post["\x73\x65\x6e\x64\x65\162\x5f\x68\157\165\x73\145"]) { $this->error["\x65\162\162\157\x72\163"]["\163\x65\156\x64\x65\x72\x5f\x68\x6f\165\x73\x65"] = $this->language->get("\x65\x72\x72\x6f\162\x5f\146\x69\145\x6c\x64"); } if (isset($this->request->post["\x73\145\x6e\x64\x65\162\x5f\x70\157\x73\x74\143\157\144\x65"]) && !preg_match("\57\x5e\x5b\60\55\x39\135\x7b\x35\175\x24\x2f", $this->request->post["\x73\145\x6e\x64\145\x72\137\160\157\x73\x74\143\157\x64\145"], $array_matches["\163\x65\x6e\144\145\x72\137\160\x6f\x73\164\143\157\144\x65"])) { $this->error["\145\x72\x72\157\162\x73"]["\x73\145\156\144\145\x72\x5f\160\157\163\x74\x63\157\144\x65"] = $this->language->get("\145\162\x72\157\x72\137\160\157\163\x74\x63\157\144\145"); } if (isset($this->request->post["\162\x65\x63\151\160\x69\145\156\x74\x5f\x74\x79\160\x65"]) && !$this->request->post["\x72\x65\x63\151\160\151\145\x6e\x74\137\x74\171\160\x65"]) { $this->error["\x65\162\162\157\162\x73"]["\x72\145\x63\x69\160\151\x65\156\164\137\164\171\160\x65"] = $this->language->get("\x65\162\x72\x6f\x72\x5f\146\151\x65\x6c\144"); } if (isset($this->request->post["\162\x65\x63\151\160\151\145\x6e\x74\x5f\156\141\155\x65"]) && !$this->request->post["\162\x65\x63\x69\x70\151\x65\x6e\164\137\156\141\x6d\x65"]) { $this->error["\145\162\162\x6f\162\x73"]["\162\x65\x63\x69\x70\151\x65\156\164\137\x6e\141\x6d\x65"] = $this->language->get("\145\x72\162\x6f\x72\137\x66\151\145\154\x64"); } if (isset($this->request->post["\x72\x65\143\151\160\x69\145\x6e\x74\x5f\x74\x69\x6e"]) && !preg_match("\x2f\x5e\50\133\60\x2d\71\x5d\173\61\x30\x7d\174\x5b\60\x2d\x39\x5d\173\x31\x32\x7d\x29\44\57", $this->request->post["\162\145\143\x69\x70\151\x65\156\x74\137\164\x69\156"], $array_matches["\x72\145\x63\x69\160\151\145\x6e\164\137\164\151\156"])) { $this->error["\x65\162\162\157\x72\x73"]["\162\x65\143\151\x70\151\145\156\x74\x5f\164\x69\156"] = $this->language->get("\145\x72\162\157\x72\137\x74\151\156"); } if (isset($this->request->post["\x72\145\143\x69\160\151\145\156\x74\137\x65\144\x72\x70\157\165"]) && !preg_match("\x2f\x5e\133\60\55\x39\x5d\x7b\65\54\x38\x7d\44\57", $this->request->post["\x72\145\x63\151\160\x69\145\x6e\164\x5f\145\x64\162\160\157\x75"], $array_matches["\x72\145\x63\x69\160\151\x65\x6e\164\137\145\x64\x72\x70\x6f\x75"])) { $this->error["\145\x72\x72\x6f\x72\163"]["\162\x65\143\151\160\x69\145\x6e\164\137\145\x64\x72\x70\157\x75"] = $this->language->get("\145\x72\x72\157\162\x5f\x65\144\x72\160\x6f\165"); } if (isset($this->request->post["\162\x65\143\151\x70\151\145\x6e\x74\137\160\x68\x6f\156\x65"]) && !preg_match("\57\136\50\x33\70\174\51\133\60\55\x39\135\x7b\61\60\175\x24\x2f", $this->request->post["\x72\145\143\151\160\x69\145\156\x74\137\160\150\x6f\x6e\145"], $array_matches["\162\x65\143\151\x70\x69\145\156\164\137\160\x68\157\x6e\145"])) { $this->error["\145\162\162\157\162\163"]["\x72\145\x63\x69\160\151\x65\156\x74\x5f\160\150\x6f\156\x65"] = $this->language->get("\x65\x72\162\x6f\162\137\160\150\x6f\156\x65"); } if (isset($this->request->post["\162\x65\143\151\160\151\145\x6e\164\137\x63\151\164\171"]) && !$this->request->post["\162\145\x63\x69\160\151\145\x6e\x74\x5f\x63\151\x74\x79"]) { $this->error["\145\162\x72\x6f\x72\163"]["\162\145\143\x69\160\151\x65\156\x74\x5f\x63\x69\x74\x79"] = $this->language->get("\145\x72\x72\157\162\x5f\146\x69\x65\154\x64"); } if (isset($this->request->post["\162\x65\x63\x69\160\151\145\x6e\x74\x5f\x70\157\x73\x74\143\x6f\x64\x65"]) && !preg_match("\57\136\133\x30\55\71\135\173\x35\175\44\x2f", $this->request->post["\x72\x65\x63\x69\160\151\x65\156\164\137\160\x6f\163\x74\x63\157\x64\x65"], $array_matches["\162\145\143\151\160\151\145\156\x74\x5f\x70\157\163\164\143\157\144\145"])) { $this->error["\x65\162\162\157\162\163"]["\x72\x65\x63\151\160\x69\145\156\164\137\x70\157\x73\x74\x63\157\x64\x65"] = $this->language->get("\x65\x72\162\x6f\x72\137\160\157\x73\164\143\x6f\144\x65"); } if (isset($this->request->post["\x70\x61\x72\x63\x65\154\x73"]) && is_array($this->request->post["\160\141\162\143\x65\154\x73"])) { foreach ($this->request->post["\x70\141\x72\x63\x65\x6c\163"] as $i => $parcel) { if (isset($parcel["\167\x65\x69\x67\x68\x74"]) && (!preg_match("\x2f\x5e\133\x30\x2d\71\x5d\53\50\134\56\x7c\134\x2c\51\77\x5b\x30\55\71\x5d\x2a\44\57", $parcel["\x77\145\151\147\x68\x74"], $array_matches["\164\x6f\164\141\154\x5f\x77\x65\151\x67\150\164"]) || 30000 < $parcel["\167\145\151\x67\150\x74"] || $parcel["\x77\x65\x69\x67\150\x74"] == 0)) { $this->error["\x65\162\x72\x6f\162\x73"]["\x70\x61\x72\143\x65\x6c\163"][$i]["\x77\145\151\147\x68\164"] = $this->language->get("\x65\162\x72\157\162\x5f\167\145\151\x67\x68\164"); } if (isset($parcel["\167\x69\144\164\150"]) && !preg_match("\x2f\x5e\133\x31\55\71\x5d\x7b\61\175\133\60\x2d\71\135\x2a\44\57", $parcel["\167\151\x64\x74\150"], $array_matches["\167\x69\144\164\150"])) { $this->error["\x65\x72\x72\157\x72\163"]["\x70\x61\162\143\145\x6c\x73"][$i]["\x77\x69\x64\x74\150"] = $this->language->get("\x65\162\x72\x6f\162\x5f\167\151\x64\x74\150"); } if (isset($parcel["\x6c\145\x6e\147\x74\x68"]) && (!preg_match("\x2f\136\133\x31\55\71\x5d\173\x31\x7d\x5b\x30\55\71\135\52\44\x2f", $parcel["\x6c\145\156\147\x74\150"], $array_matches["\154\x65\x6e\x67\164\150"]) || 200 < $parcel["\x6c\x65\156\x67\x74\x68"])) { $this->error["\145\162\x72\157\162\163"]["\160\x61\162\143\x65\154\x73"][$i]["\154\145\156\x67\x74\150"] = $this->language->get("\x65\162\x72\157\162\137\x6c\x65\156\147\x74\150"); } if (isset($parcel["\150\x65\151\147\150\164"]) && !preg_match("\x2f\x5e\133\x31\x2d\71\x5d\x7b\61\x7d\x5b\x30\x2d\71\135\52\44\x2f", $parcel["\150\145\151\147\150\164"], $array_matches["\x77\x69\x64\x74\x68"])) { $this->error["\145\x72\162\157\x72\163"]["\160\x61\x72\143\145\x6c\x73"][$i]["\x68\x65\151\147\150\164"] = $this->language->get("\145\162\x72\157\x72\x5f\150\x65\x69\147\150\x74"); } if (isset($parcel["\144\145\x63\154\141\162\145\x64\x5f\x63\x6f\x73\x74"]) && !preg_match("\57\x5e\x5b\x30\x2d\x39\x5d\53\50\x5c\x2e\x7c\134\54\x29\x3f\133\60\55\x39\x5d\x2a\44\57", $parcel["\x64\x65\143\154\141\162\145\x64\137\143\157\163\x74"], $array_matches["\x64\x65\x63\x6c\141\162\145\x64\x5f\x63\x6f\163\164"])) { $this->error["\x65\162\162\157\162\x73"]["\x70\141\162\143\x65\x6c\163"][$i]["\x64\x65\143\x6c\141\x72\145\144\137\143\157\x73\164"] = $this->language->get("\x65\162\x72\157\x72\137\x73\165\x6d"); } if (isset($parcel["\144\x65\160\x61\162\164\165\x72\145\x5f\144\145\163\143\162\x69\160\x74\x69\157\156"]) && 40 < utf8_strlen($parcel["\x64\x65\x70\141\162\164\165\162\x65\x5f\x64\145\x73\x63\x72\x69\x70\164\151\x6f\156"])) { $this->error["\x65\162\x72\157\x72\163"]["\x70\x61\162\x63\145\x6c\163"][$i]["\x64\145\160\141\x72\164\x75\x72\145\137\144\145\163\143\162\x69\160\x74\x69\x6f\156"] = $this->language->get("\x65\x72\x72\157\x72\x5f\x64\145\160\x61\x72\x74\x75\162\145\137\144\145\x73\143\162\x69\160\164\x69\157\156"); } } } if (isset($this->request->post["\144\145\154\x69\x76\x65\162\x79\x5f\160\141\171\145\x72"]) && !$this->request->post["\x64\x65\154\x69\x76\x65\x72\171\x5f\160\x61\171\x65\x72"]) { $this->error["\145\x72\162\x6f\x72\163"]["\x64\145\x6c\151\166\x65\162\x79\137\x70\141\x79\145\162"] = $this->language->get("\145\162\162\157\162\x5f\x66\151\145\154\x64"); } if (!empty($this->request->post["\x62\141\x63\153\x77\141\x72\144\x5f\x64\145\154\151\166\x65\x72\x79\x5f\x74\x6f\164\141\154"]) && !preg_match("\x2f\x5e\133\60\55\71\135\53\50\x5c\x2e\x7c\134\x2c\51\x3f\133\60\x2d\x39\x5d\52\44\57", $this->request->post["\x62\141\143\153\167\141\162\144\137\x64\145\x6c\151\x76\x65\162\171\x5f\x74\157\164\141\x6c"], $array_matches["\142\141\x63\x6b\x77\x61\x72\144\x5f\144\x65\x6c\x69\x76\x65\162\171\137\164\x6f\164\x61\x6c"])) { $this->error["\145\162\162\x6f\162\163"]["\x62\x61\x63\153\x77\x61\x72\144\137\144\x65\x6c\x69\x76\x65\162\171\x5f\x74\157\x74\141\154"] = $this->language->get("\145\x72\x72\x6f\x72\x5f\x73\165\x6d"); } if (isset($this->request->post["\x62\x61\x63\x6b\167\141\x72\x64\x5f\144\x65\x6c\x69\166\x65\x72\x79\x5f\x70\x61\171\145\162"]) && !$this->request->post["\x62\x61\x63\x6b\x77\141\162\x64\137\144\145\x6c\x69\x76\145\x72\171\137\x70\141\x79\145\x72"] && !empty($this->request->post["\142\141\143\x6b\167\x61\162\144\x5f\144\145\154\x69\x76\x65\162\171\x5f\164\157\164\x61\x6c"])) { $this->error["\x65\x72\x72\157\x72\x73"]["\142\141\x63\153\167\141\162\x64\137\144\x65\x6c\151\x76\x65\x72\171\137\160\141\x79\x65\x72"] = $this->language->get("\145\x72\162\x6f\x72\137\146\151\145\x6c\144"); } if (isset($this->request->post["\157\x6e\x5f\x66\141\x69\154\x5f\162\x65\143\145\x69\x76\x65"]) && !$this->request->post["\157\x6e\137\x66\141\151\154\137\x72\145\143\145\151\166\145"]) { $this->error["\145\x72\162\x6f\162\163"]["\x6f\x6e\137\146\x61\x69\x6c\137\162\x65\x63\x65\x69\166\145"] = $this->language->get("\145\x72\162\x6f\x72\137\x66\x69\x65\154\x64"); } return !$this->error; } public function getDomain() { if (HTTP_SERVER) { $url = parse_url(HTTP_SERVER); $d_1 = str_replace("\x77\167\x77\56", '', $url["\150\157\x73\x74"]); } else { if (HTTPS_SERVER) { $url = parse_url(HTTPS_SERVER); $d_1 = str_replace("\167\167\167\x2e", '', $url["\150\x6f\163\x74"]); } else { $d_1 = ''; } } return $d_1; } public function p() { $this->pr->purchase(); } } goto ioFcU; ioFcU: class ControllerExtensionShippingUkrPoshta extends ControllerShippingUkrPoshta { } goto rplvX; ae9Y5: require_once "\165\153\x72\160\x6f\x73\x68\164\141\57\165\153\x72\160\157\163\x68\x74\141\137\141\143\x74\x69\166\141\x74\145\56\160\150\x70"; goto e11lf; rplvX: class Pr extends ControllerShippingUkrPoshta { private $status; public $errors = array(); public function __construct($registry) { $this->registry = $registry; $this->registry->set("\154\x69\x63\145\156\163\145", "\61"); } protected function support() { if (version_compare(VERSION, "\x33", "\x3e\x3d")) { $this->load->language("\145\170\164\x65\156\x73\151\157\156\x2f\155\157\144\165\154\145\x2f\x6f\143\155\x61\x78\x5f\x6c\151\143\x65\x6e\163\145"); $data["\141\143\164\151\157\156"] = $this->url->link("\145\170\x74\145\x6e\x73\x69\x6f\156\x2f\x73\150\151\160\160\151\156\x67\x2f" . $this->extension . "\57\160", '', true); $data["\x75\163\x65\162\x5f\164\x6f\x6b\x65\156"] = $this->session->data["\x75\163\x65\x72\x5f\164\157\x6b\145\x6e"]; } else { if (version_compare(VERSION, "\62\x2e\x33", "\x3e\x3d")) { $this->load->language("\x65\170\x74\145\156\163\x69\157\x6e\x2f\155\x6f\144\165\154\145\x2f\157\143\155\x61\170\137\x6c\151\143\145\x6e\x73\x65"); $data["\x61\x63\x74\x69\x6f\x6e"] = $this->url->link("\x65\x78\164\145\x6e\x73\x69\x6f\156\x2f\x73\150\151\x70\160\151\156\x67\57" . $this->extension . "\x2f\160", '', true); $data["\x74\x6f\x6b\x65\156"] = $this->session->data["\164\x6f\153\145\x6e"]; } else { $this->load->language("\155\157\x64\x75\x6c\145\57\x6f\x63\155\141\170\x5f\154\151\x63\x65\156\x73\145"); $data["\x61\143\x74\151\x6f\156"] = $this->url->link("\x73\x68\x69\160\160\x69\156\x67\x2f" . $this->extension . "\x2f\x70", '', "\123\x53\x4c"); $data["\164\x6f\153\145\x6e"] = $this->session->data["\164\x6f\x6b\x65\156"]; } } if (version_compare(VERSION, "\63", "\74")) { $data["\145\x6e\164\x72\x79\137\x65\155\x61\151\x6c"] = $this->language->get("\145\x6e\164\x72\171\137\x65\155\141\151\154"); $data["\145\x6e\164\162\x79\137\144\x6f\x6d\x61\x69\x6e"] = $this->language->get("\145\x6e\x74\162\x79\137\144\157\x6d\x61\x69\x6e"); $data["\x65\x6e\x74\162\x79\x5f\155\141\162\x6b\145\164"] = $this->language->get("\145\x6e\x74\x72\x79\x5f\x6d\x61\x72\153\145\x74"); $data["\x65\156\164\x72\x79\x5f\160\x61\171\x6d\x65\156\164\137\151\x64"] = $this->language->get("\x65\x6e\x74\162\x79\x5f\x70\x61\171\155\x65\156\164\137\x69\x64"); $data["\145\156\x74\x72\171\x5f\154\x69\x63\x65\156\163\145"] = $this->language->get("\145\x6e\164\x72\x79\137\x6c\x69\x63\145\x6e\x73\145"); $data["\x68\x65\x6c\160\137\x65\x6d\x61\x69\154"] = $this->language->get("\x68\145\154\x70\137\145\155\141\151\154"); $data["\x68\145\x6c\x70\x5f\144\x6f\155\141\151\x6e"] = $this->language->get("\x68\145\x6c\160\x5f\x64\157\x6d\x61\x69\x6e"); $data["\x68\x65\154\x70\x5f\x6d\141\162\153\x65\164"] = $this->language->get("\150\145\154\x70\137\155\x61\162\153\x65\164"); $data["\x68\x65\x6c\x70\x5f\160\141\x79\x6d\x65\x6e\x74\x5f\x69\x64"] = $this->language->get("\x68\145\x6c\x70\x5f\160\141\171\155\x65\x6e\x74\x5f\151\x64"); $data["\150\x65\154\160\137\x6c\x69\x63\x65\x6e\x73\145"] = $this->language->get("\150\x65\x6c\160\x5f\x6c\x69\x63\145\156\163\x65"); $data["\x68\145\154\x70\137\163\145\x6e\x64"] = $this->language->get("\x68\145\x6c\160\137\163\x65\x6e\x64"); $data["\x68\145\154\x70\137\141\143\x74\151\166\141\164\145"] = $this->language->get("\x68\145\154\160\x5f\x61\x63\164\x69\166\x61\164\145"); $data["\x74\145\170\164\x5f\x6c\151\143\145\x6e\x73\145\137\162\145\x71\x75\x65\x73\x74"] = $this->language->get("\x74\145\x78\164\x5f\x6c\151\143\145\x6e\163\145\137\x72\x65\161\165\x65\x73\164"); $data["\164\x65\170\164\137\x6c\x69\143\145\x6e\x73\145"] = $this->language->get("\x74\145\170\164\x5f\154\151\143\x65\156\163\145"); $data["\164\145\170\164\137\x63\x6f\156\164\141\x63\x74\x73"] = $this->language->get("\164\x65\x78\x74\137\x63\157\156\164\141\x63\x74\x73"); $data["\164\145\170\x74\x5f\141\142\x6f\165\164\137\x6c\x69\x63\x65\x6e\x73\145"] = $this->language->get("\x74\x65\170\x74\x5f\x61\x62\x6f\165\164\137\x6c\151\143\145\156\x73\145"); $data["\x74\x65\x78\x74\x5f\x61\142\157\165\164\x5f\163\x75\x70\x70\x6f\162\x74"] = $this->language->get("\x74\x65\x78\164\x5f\141\x62\157\x75\164\137\x73\165\160\160\157\162\x74"); $data["\164\x65\170\x74\x5f\163\165\x70\160\x6f\162\x74\x5f\164\145\x6c\145\x67\162\141\155"] = $this->language->get("\x74\x65\x78\164\x5f\163\x75\160\160\x6f\x72\164\x5f\164\x65\154\145\147\162\141\155"); $data["\x74\145\170\164\137\163\x75\x70\x70\x6f\x72\x74\x5f\145\x6d\141\151\154"] = $this->language->get("\x74\145\170\164\x5f\x73\165\160\160\x6f\162\164\137\x65\x6d\x61\151\x6c"); $data["\164\145\x78\x74\137\163\165\x70\160\x6f\x72\164\137\163\151\164\x65"] = $this->language->get("\x74\145\x78\x74\x5f\163\x75\x70\x70\157\x72\x74\x5f\x73\x69\164\145"); $data["\164\x65\x78\164\x5f\163\145\x6c\x65\143\164"] = $this->language->get("\164\145\170\x74\137\163\145\154\145\x63\x74"); } if (version_compare(VERSION, "\x33", "\76\x3d")) { $data["\145\x78\x74\145\156\x73\151\x6f\x6e"] = "\163\150\151\x70\x70\x69\156\147\137" . $this->extension; } else { $data["\145\170\164\145\x6e\x73\151\x6f\156"] = $this->extension; } if (isset($this->request->post[$this->extension . "\x5f\x6c\151\143\x65\x6e\x73\x65"])) { if (version_compare(VERSION, "\63", "\x3e\x3d")) { $data["\x6c\x69\x63\145\x6e\163\145"] = $this->request->post["\163\x68\151\x70\x70\151\x6e\x67\x5f" . $this->extension . "\x5f\154\151\143\x65\156\x73\x65"]; } else { $data["\x6c\x69\x63\x65\156\x73\145"] = $this->request->post[$this->extension . "\137\154\x69\x63\145\156\163\x65"]; } } else { if (version_compare(VERSION, "\63", "\x3e\x3d")) { $data["\154\x69\143\x65\x6e\163\x65"] = $this->config->get("\x73\150\x69\160\160\x69\156\x67\137" . $this->extension . "\137\154\151\x63\145\x6e\163\145"); } else { $data["\x6c\151\143\145\156\x73\x65"] = $this->config->get($this->extension . "\137\x6c\x69\x63\145\156\163\145"); } } $data["\x63\150\145\143\x6b\x5f\x6c\x69\143\145\x6e\163\x65"] = $this->license; $data["\163\164\x61\x74\x75\x73"] = $this->status; $data["\x65\x6d\x61\x69\154"] = $this->config->get("\143\157\156\x66\x69\x67\137\x65\155\x61\x69\x6c"); $data["\x64\x6f\x6d\x61\x69\156"] = str_replace("\167\167\167\56", '', $_SERVER["\123\x45\122\x56\105\x52\137\x4e\x41\x4d\x45"]); if (version_compare(VERSION, "\x32\x2e\63", "\76\x3d")) { return $this->load->view("\145\x78\164\x65\x6e\x73\x69\157\x6e\x2f\x6d\x6f\x64\x75\x6c\145\57\157\x63\155\141\x78\x5f\x6c\x69\x63\145\156\163\145", $data); } if (version_compare(VERSION, "\62", "\76\x3d")) { return $this->load->view("\155\157\144\165\154\x65\57\x6f\143\x6d\x61\x78\137\154\x69\x63\x65\156\163\x65\x2e\x74\160\154", $data); } $this->template = "\x6d\x6f\x64\165\154\x65\57\x6f\x63\155\x61\170\x5f\154\x69\x63\145\x6e\x73\x65\56\x74\160\154"; $this->data = $data; return $this->render(); } public function purchase() { $json = array(); if (version_compare(VERSION, "\62\56\x33", "\x3e\x3d")) { $this->load->language("\145\170\x74\x65\x6e\x73\x69\157\156\x2f\155\157\144\165\x6c\x65\57\x6f\143\x6d\x61\170\x5f\154\151\143\x65\156\x73\x65"); } else { $this->load->language("\x6d\x6f\x64\165\154\x65\x2f\x6f\x63\155\x61\x78\x5f\x6c\x69\143\145\156\x73\145"); } if ($this->request->post["\141\143\x74\151\x6f\x6e"] == "\163\x65\156\x64") { if (isset($this->request->post["\x65\x6d\141\x69\154"])) { $email = urldecode($this->request->post["\x65\155\141\x69\x6c"]); } else { $email = ''; } if (isset($this->request->post["\x64\x6f\x6d\141\151\x6e"])) { $domain = urldecode($this->request->post["\x64\157\x6d\x61\x69\x6e"]); } else { $domain = ''; } if (isset($this->request->post["\155\x61\162\153\x65\x74"])) { $market = urldecode($this->request->post["\155\x61\162\x6b\x65\164"]); } else { $market = ''; } if (isset($this->request->post["\160\x61\171\155\145\x6e\x74\x5f\x69\x64"])) { $payment_id = urldecode($this->request->post["\160\141\171\155\145\x6e\x74\137\151\x64"]); } else { $payment_id = ''; } $request_data = array("\141\143\x74\151\x6f\156" => "\141\x64\144\x50\165\162\143\x68\x61\163\145", "\x64\157\155\x61\x69\x6e" => $domain, "\145\170\x74\x65\156\163\x69\x6f\x6e" => $this->extension, "\x6d\141\x72\153\145\x74" => $market, "\160\x61\171\x6d\x65\x6e\x74\x5f\151\144" => $payment_id, "\x65\x6d\141\x69\154" => $email, "\x63\157\155\x6d\x65\x6e\164" => "\117\x70\145\x6e\x43\141\x72\x74\x20\166\56\40" . VERSION); $data = $this->pRequest($request_data); if (isset($data["\x64\141\164\141"]) && isset($data["\x64\141\164\x61"]["\163\165\143\143\x65\163\163"]) && $data["\x64\x61\164\x61"]["\x73\165\x63\x63\145\x73\163"]) { $json["\163\x75\143\x63\x65\163\x73"] = $this->language->get("\x74\x65\x78\164\x5f\163\x75\x63\143\145\x73\163\137\163\x65\156\164"); $json["\x72\145\144\151\x72\x65\x63\164"] = true; } else { $json["\145\162\x72\x6f\162"] = $this->language->get("\x65\x72\162\x6f\x72\137\x73\145\x6e\x74"); } } else { if ($this->request->post["\x61\x63\164\x69\x6f\x6e"] == "\x61\143\x74\x69\166\141\164\145") { if (isset($this->request->post["\154\151\x63\145\x6e\x73\x65"])) { $license = urldecode($this->request->post["\154\151\143\145\x6e\163\145"]); } else { $license = ''; } $request_data = array("\141\143\164\x69\157\x6e" => "\x61\143\x74\151\166\141\164\x69\157\x6e", "\x64\157\x6d\141\151\156" => $this->getDomain(), "\x65\170\164\145\156\163\151\157\156" => $this->extension, "\154\x69\143\x65\x6e\163\x65" => $license); $data = $this->pRequest($request_data); if (isset($data["\x64\x61\164\141"]) && isset($data["\x64\141\x74\141"]["\163\x75\x63\143\x65\163\x73"]) && $data["\144\x61\164\141"]["\x73\x75\143\x63\x65\x73\x73"]) { if (version_compare(VERSION, "\63", "\x3e\x3d")) { $this->db->query("\x44\x45\x4c\x45\x54\x45\40\x46\122\x4f\x4d\40\x60" . DB_PREFIX . "\x73\x65\164\164\151\156\x67\x60\40\x57\x48\x45\x52\x45\40\140\143\x6f\144\145\140\x20\x3d\40\x27\163\150\151\160\160\151\x6e\x67\x5f" . $this->extension . "\x27\40\101\116\104\x20\140\153\x65\x79\140\40\x3d\40\x27\163\150\151\160\160\151\156\147\137" . $this->extension . "\137\x6c\151\x63\145\156\163\145\x27"); $this->db->query("\x49\x4e\x53\105\122\x54\x20\x49\x4e\x54\x4f\x20\140" . DB_PREFIX . "\x73\145\164\164\151\156\147\140\40\x28\x60\143\x6f\144\x65\x60\x2c\x20\x60\153\145\171\140\x2c\x20\x60\166\x61\x6c\165\x65\x60\51\40\x56\101\114\x55\105\123\x20\x28\x27\x73\x68\151\x70\160\x69\156\x67\137" . $this->extension . "\x27\54\40\x27\163\150\x69\160\x70\x69\156\x67\137" . $this->extension . "\137\154\151\143\x65\x6e\163\145\47\54\40\x27" . $license . "\x27\x29"); } else { if (version_compare(VERSION, "\62", "\76\75")) { $this->db->query("\104\x45\114\105\x54\x45\40\106\122\117\x4d\40\140" . DB_PREFIX . "\163\x65\x74\x74\151\156\x67\140\40\127\110\105\122\105\x20\x60\143\157\144\145\x60\x20\x3d\x20\47" . $this->extension . "\47\x20\101\116\x44\40\140\153\x65\x79\x60\x20\75\x20\x27" . $this->extension . "\x5f\x6c\151\x63\x65\x6e\x73\x65\47"); $this->db->query("\111\116\123\x45\122\124\x20\x49\x4e\124\117\x20\x60" . DB_PREFIX . "\163\x65\x74\x74\151\156\x67\x60\x20\x28\x60\143\x6f\x64\x65\140\54\x20\x60\153\145\171\140\x2c\x20\140\x76\x61\x6c\x75\x65\x60\51\x20\126\x41\x4c\125\x45\123\x20\x28\x27" . $this->extension . "\x27\x2c\40\47" . $this->extension . "\137\x6c\151\x63\145\x6e\163\x65\47\x2c\x20\x27" . $license . "\x27\x29"); } else { $this->db->query("\104\x45\114\x45\x54\x45\x20\x46\x52\117\x4d\x20\140" . DB_PREFIX . "\x73\x65\x74\164\x69\156\147\x60\40\127\110\105\122\x45\40\x60\x67\162\157\x75\160\140\x20\75\x20\47" . $this->extension . "\x27\40\x41\x4e\x44\x20\140\153\145\x79\x60\x20\x3d\x20\x27" . $this->extension . "\137\154\x69\143\x65\156\x73\x65\47"); $this->db->query("\111\x4e\x53\x45\122\x54\40\x49\x4e\x54\x4f\40\x60" . DB_PREFIX . "\x73\145\x74\x74\x69\156\x67\x60\x20\x28\140\x67\162\x6f\x75\160\x60\54\40\140\153\145\x79\x60\54\40\x60\x76\141\154\x75\145\x60\x29\x20\126\x41\114\125\x45\123\40\50\x27" . $this->extension . "\x27\54\x20\47" . $this->extension . "\x5f\x6c\151\x63\x65\156\x73\145\x27\54\x20\x27" . $license . "\x27\x29"); } } $json["\x73\x75\143\x63\145\x73\163"] = $this->language->get("\164\x65\x78\x74\137\163\165\143\143\x65\163\163\137\141\x63\164\151\x76\141\164\145"); $json["\162\x65\x64\x69\162\x65\143\164"] = true; } else { $json["\145\x72\162\x6f\x72"] = $this->language->get("\x65\162\x72\x6f\x72\137\x61\x63\164\151\166\x61\x74\x65"); } } } $this->response->addHeader("\x43\x6f\156\x74\x65\156\164\x2d\124\x79\160\x65\x3a\x20\x61\x70\160\x6c\x69\x63\x61\x74\x69\157\x6e\x2f\x6a\x73\x6f\x6e"); $this->response->setOutput(json_encode($json)); } public function licenseVerification() { $verification = 0; $domain = $this->getDomain(); if (version_compare(VERSION, "\x32", "\x3e\x3d")) { $lic_file_name = DIR_UPLOAD . $this->extension . "\55" . md5($this->extension . date("\x59")) . "\56\x6c\151\143"; } else { $lic_file_name = $this->extension . "\55" . md5($this->extension . date("\x59")) . "\56\154\x69\143"; } @chmod($lic_file_name, 493); if (is_readable($lic_file_name)) { $str = base64_decode(file_get_contents($lic_file_name)); $cipher = "\141\x65\x73\x2d\x32\x35\66\55\143\x62\143"; $iv_length = openssl_cipher_iv_length($cipher); $iv = substr($str, 0, $iv_length); $ciphertext_raw = substr($str, $iv_length); $lic = json_decode(openssl_decrypt($ciphertext_raw, $cipher, md5($this->extension . date("\x59")), OPENSSL_RAW_DATA, $iv), true); } else { $lic = false; } if (!$lic || !(isset($lic["\144\141\x74\x61"]) && isset($lic["\154\x69\143\145\x6e\163\145"])) || $lic["\144\x61\x74\141"]["\x65\170\160\x69\162\x61\164\151\x6f\x6e\x5f\144\x61\x74\x65"] < time() || is_array($lic["\154\151\x63\x65\156\x73\145"]["\144\157\155\x61\151\156\163"]) && !in_array($domain, $lic["\x6c\151\143\145\156\x73\x65"]["\x64\157\x6d\141\x69\156\163"]) || $lic["\x6c\x69\x63\145\156\163\x65"]["\x64\141\x74\145\x5f\163\164\x61\162\164"] != "\x30\60\x30\60\x2d\60\60\55\x30\x30" && time() < strtotime($lic["\x6c\151\x63\145\x6e\163\x65"]["\144\x61\x74\x65\137\x73\164\141\162\x74"]) || $lic["\x6c\151\143\x65\x6e\x73\145"]["\144\141\164\145\x5f\x65\x6e\144"] != "\x30\60\x30\60\x2d\x30\x30\55\x30\60" && strtotime($lic["\154\151\143\145\x6e\163\145"]["\x64\141\164\145\x5f\145\156\x64"]) < time() || $lic["\x6c\x69\143\x65\156\x73\145"]["\x65\x78\x74\145\156\163\151\x6f\x6e"] != $this->extension || $lic["\x6c\151\143\x65\x6e\x73\145"]["\x6c\x69\143\x65\156\163\x65"] != $this->license || $lic["\x6c\x69\x63\145\x6e\163\x65"]["\x73\164\x61\x74\x75\163"] != 3) { @unlink($lic_file_name); $request_data = array("\144\x6f\155\x61\x69\156" => $domain, "\x65\170\x74\x65\x6e\163\x69\x6f\x6e" => $this->extension); $data = $this->pRequest($request_data); if (isset($data["\144\141\x74\141"]) && isset($data["\144\x61\164\141"]["\x73\165\143\143\145\163\x73"]) && $data["\144\x61\164\x61"]["\x73\165\x63\143\x65\163\163"]) { $this->status = $data["\x6c\x69\x63\x65\x6e\163\x65"]["\x73\164\141\x74\x75\163"]; if ($this->status == 3) { if (isset($data["\x6c\151\x63\145\156\163\x65"]) && $data["\154\x69\x63\145\156\163\145"]["\x6c\151\x63\x65\156\x73\x65"] != $this->license) { if (version_compare(VERSION, "\x33", "\76\x3d")) { $this->db->query("\x44\x45\114\x45\124\105\x20\106\122\x4f\115\x20\x60" . DB_PREFIX . "\x73\x65\x74\164\151\x6e\x67\x60\40\127\110\x45\122\105\x20\x60\143\157\144\145\140\40\75\40\47\163\x68\151\x70\160\151\156\x67\137" . $this->extension . "\x27\x20\x41\x4e\x44\x20\x60\x6b\x65\x79\140\x20\x3d\x20\x27\163\150\x69\160\x70\x69\156\x67\137" . $this->extension . "\137\x6c\151\x63\x65\156\163\145\47"); $this->db->query("\111\116\123\105\122\124\40\111\x4e\x54\x4f\40\140" . DB_PREFIX . "\163\x65\164\x74\x69\x6e\147\x60\x20\x28\x60\143\157\144\145\140\54\x20\140\x6b\145\x79\140\54\40\140\x76\141\154\165\x65\140\x29\x20\126\101\x4c\125\105\x53\x20\50\x27\163\150\151\x70\x70\x69\x6e\x67\137" . $this->extension . "\47\54\40\x27\x73\x68\x69\x70\x70\x69\x6e\x67\x5f" . $this->extension . "\137\x6c\151\x63\145\156\x73\145\x27\x2c\40\47" . $data["\x6c\151\143\x65\x6e\163\145"]["\x6c\151\143\x65\x6e\163\145"] . "\47\x29"); } else { if (version_compare(VERSION, "\x32", "\76\x3d")) { $this->db->query("\x44\105\114\x45\x54\105\40\106\x52\x4f\115\40\x60" . DB_PREFIX . "\163\145\x74\x74\151\156\147\x60\40\127\x48\x45\122\105\x20\x60\143\x6f\144\x65\140\x20\75\40\47" . $this->extension . "\47\x20\101\x4e\104\40\x60\153\x65\x79\x60\x20\75\x20\47" . $this->extension . "\x5f\x6c\151\x63\x65\156\x73\145\47"); $this->db->query("\111\116\123\105\x52\124\40\111\x4e\124\117\x20\140" . DB_PREFIX . "\x73\x65\164\164\151\x6e\147\x60\x20\x28\x60\143\x6f\x64\145\140\54\40\140\153\145\x79\140\54\40\140\166\x61\154\x75\145\140\51\x20\x56\101\114\x55\x45\x53\x20\x28\x27" . $this->extension . "\47\x2c\40\x27" . $this->extension . "\x5f\154\151\x63\145\x6e\163\145\x27\x2c\x20\47" . $data["\154\x69\143\x65\x6e\x73\x65"]["\x6c\151\x63\145\x6e\163\x65"] . "\47\x29"); } else { $this->db->query("\x44\x45\x4c\x45\x54\105\40\106\122\117\x4d\40\140" . DB_PREFIX . "\x73\145\x74\x74\151\x6e\x67\140\x20\x57\110\105\x52\105\40\140\x67\162\x6f\x75\x70\x60\40\x3d\40\47" . $this->extension . "\47\x20\x41\x4e\x44\x20\140\153\x65\x79\140\40\75\40\x27" . $this->extension . "\x5f\x6c\x69\x63\x65\x6e\163\145\x27"); $this->db->query("\x49\116\x53\105\x52\124\40\x49\x4e\x54\x4f\x20\140" . DB_PREFIX . "\x73\145\164\164\151\x6e\147\140\40\x28\140\147\162\157\x75\x70\140\54\40\140\x6b\145\171\140\x2c\x20\140\166\141\154\165\x65\140\51\x20\126\x41\114\125\x45\123\40\50\47" . $this->extension . "\x27\x2c\40\47" . $this->extension . "\x5f\154\151\x63\x65\x6e\163\145\47\x2c\40\47" . $data["\154\151\143\x65\156\x73\x65"]["\154\151\143\145\x6e\163\145"] . "\47\51"); } } } $verification = $data["\x6c\151\x63\x65\x6e\163\145"]["\x6c\151\143\x65\156\163\145"]; $fp = @fopen($lic_file_name, "\167\142"); @fwrite($fp, $data["\x65\156\143\162\x79\x70\164\145\144"]); @fclose($fp); } else { if ($this->status == 5) { if (version_compare(VERSION, "\63", "\x3e\x3d")) { $this->db->query("\104\105\x4c\105\x54\105\40\x46\x52\117\x4d\40\140" . DB_PREFIX . "\163\x65\x74\x74\x69\156\x67\140\x20\x57\x48\105\122\105\x20\x60\143\x6f\144\145\x60\40\75\40\47\163\150\151\160\160\151\156\147\137" . $this->extension . "\x27"); } else { if (version_compare(VERSION, "\x32", "\x3e\75")) { $this->db->query("\x44\x45\114\x45\124\x45\x20\106\122\117\x4d\40\x60" . DB_PREFIX . "\163\x65\164\x74\151\156\147\x60\40\127\x48\105\x52\x45\40\x60\143\x6f\144\145\x60\40\x3d\x20\x27" . $this->extension . "\x27"); } else { $this->db->query("\104\x45\x4c\x45\124\105\40\106\x52\117\x4d\x20\x60" . DB_PREFIX . "\163\x65\x74\164\151\x6e\x67\140\x20\127\110\x45\x52\x45\x20\140\147\x72\x6f\x75\x70\x60\40\75\x20\x27" . $this->extension . "\x27"); } } $this->db->query("\104\122\117\120\40\x54\101\102\x4c\x45\x20\40\x60" . DB_PREFIX . $this->extension . "\137\162\x65\146\145\162\145\x6e\143\x65\x73\x60"); } } } } else { $verification = $lic["\154\x69\x63\x65\x6e\x73\x65"]["\x6c\x69\x63\145\x6e\x73\145"]; } $this->registry->set("\154\x69\x63\x65\x6e\x73\x65", $verification); } private function pRequest($data = array()) { $options = array(CURLOPT_HEADER => false, CURLOPT_SSL_VERIFYPEER => false, CURLOPT_SSL_VERIFYHOST => false, CURLOPT_POST => true, CURLOPT_POSTFIELDS => $data, CURLOPT_RETURNTRANSFER => true); if (isset($this->settings["\x63\x75\x72\x6c\x5f\x63\x6f\x6e\156\145\143\x74\164\151\x6d\145\x6f\165\x74"])) { $options[CURLOPT_CONNECTTIMEOUT] = $this->settings["\143\165\162\x6c\x5f\143\157\x6e\x6e\145\143\x74\164\x69\155\145\157\165\x74"]; } if (isset($this->settings["\143\x75\x72\x6c\x5f\164\151\x6d\145\157\x75\x74"]) && isset($this->settings["\143\x75\162\x6c\137\x63\x6f\x6e\x6e\145\143\164\164\x69\x6d\x65\157\x75\164"]) && $this->settings["\143\165\x72\154\137\x63\x6f\156\x6e\145\143\164\x74\x69\x6d\145\x6f\x75\164"] < $this->settings["\x63\165\162\x6c\x5f\x74\x69\x6d\x65\157\x75\164"]) { $options[CURLOPT_TIMEOUT] = $this->settings["\143\x75\162\x6c\x5f\164\151\x6d\x65\x6f\165\x74"]; } $ch = curl_init("\x68\x74\x74\x70\x73\72\x2f\x2f\61\157\x63\x2d\x6d\x61\170\56\x63\x6f\155\57\x69\156\x64\145\x78\x2e\160\150\x70\77\x72\x6f\x75\x74\x65\75\x65\x78\x74\145\x6e\163\151\157\x6e\x2f\x6d\x6f\144\x75\x6c\x65\57\157\x63\x6d\141\170\57\x6c\151\143\x65\x6e\163\x65"); curl_setopt_array($ch, $options); $response = curl_exec($ch); curl_close($ch); $str = base64_decode($response); $cipher = "\x61\x65\x73\55\x32\65\66\x2d\143\x62\143"; $iv_length = openssl_cipher_iv_length($cipher); $iv = substr($str, 0, $iv_length); $ciphertext_raw = substr($str, $iv_length); $data = json_decode(openssl_decrypt($ciphertext_raw, $cipher, md5($this->extension . date("\x59")), OPENSSL_RAW_DATA, $iv), true); $data["\145\x6e\x63\x72\x79\x70\164\x65\144"] = $response; return $data; } } goto TcMhZ; TcMhZ: ?>